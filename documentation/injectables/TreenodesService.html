<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>visualization-component documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">visualization-component documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li>Injectables</li>
  <li >TreenodesService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/khiops-covisualization/providers/treenodes.service.ts</code>
        </p>





            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#collapsedNodesToSave" >collapsedNodesToSave</a>
                            </li>
                            <li>
                                <a href="#dimensionsDatas" >dimensionsDatas</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#collapseNode" >collapseNode</a>
                            </li>
                            <li>
                                <a href="#collapseNodesSaved" >collapseNodesSaved</a>
                            </li>
                            <li>
                                <a href="#concatCells" >concatCells</a>
                            </li>
                            <li>
                                <a href="#expandNode" >expandNode</a>
                            </li>
                            <li>
                                <a href="#getCollapsedNodesToSave" >getCollapsedNodesToSave</a>
                            </li>
                            <li>
                                <a href="#getFirstVisibleNode" >getFirstVisibleNode</a>
                            </li>
                            <li>
                                <a href="#getHierarchyDatas" >getHierarchyDatas</a>
                            </li>
                            <li>
                                <a href="#getNodeFromName" >getNodeFromName</a>
                            </li>
                            <li>
                                <a href="#getSelectedNodes" >getSelectedNodes</a>
                            </li>
                            <li>
                                <a href="#getSelectedNodesSummary" >getSelectedNodesSummary</a>
                            </li>
                            <li>
                                <a href="#getSelectedNodesToSave" >getSelectedNodesToSave</a>
                            </li>
                            <li>
                                <a href="#initConditionalOnContextNodes" >initConditionalOnContextNodes</a>
                            </li>
                            <li>
                                <a href="#initDefaultUnfoldRank" >initDefaultUnfoldRank</a>
                            </li>
                            <li>
                                <a href="#initialize" >initialize</a>
                            </li>
                            <li>
                                <a href="#initSelectedNodes" >initSelectedNodes</a>
                            </li>
                            <li>
                                <a href="#setSelectedNode" >setSelectedNode</a>
                            </li>
                            <li>
                                <a href="#setSelectedUnfoldHierarchy" >setSelectedUnfoldHierarchy</a>
                            </li>
                            <li>
                                <a href="#toggleDimensionHierarchyFold" >toggleDimensionHierarchyFold</a>
                            </li>
                            <li>
                                <a href="#unfoldHierarchy" >unfoldHierarchy</a>
                            </li>
                            <li>
                                <a href="#updateCollapsedNodesToSave" >updateCollapsedNodesToSave</a>
                            </li>
                            <li>
                                <a href="#updateCurrentHierarchyClustersCount" >updateCurrentHierarchyClustersCount</a>
                            </li>
                            <li>
                                <a href="#updateNodeNameIntoJson" >updateNodeNameIntoJson</a>
                            </li>
                            <li>
                                <a href="#updateNodeNameIntoModel" >updateNodeNameIntoModel</a>
                            </li>
                            <li>
                                <a href="#updateSelectedNodeName" >updateSelectedNodeName</a>
                            </li>
                            <li>
                                <a href="#updateSelectedNodes" >updateSelectedNodes</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(appService: <a href="../injectables/AppService.html" target="_self">AppService</a>, dimensionsDatasService: <a href="../injectables/DimensionsDatasService.html" target="_self">DimensionsDatasService</a>, eventsService: <a href="../injectables/EventsService.html" target="_self">EventsService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:39</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>appService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AppService.html" target="_self" >AppService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dimensionsDatasService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DimensionsDatasService.html" target="_self" >DimensionsDatasService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>eventsService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/EventsService.html" target="_self" >EventsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="collapseNode"></a>
                    <span class="name">
                        <span ><b>collapseNode</b></span>
                        <a href="#collapseNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>collapseNode(dimensionName, nodeName, emitEvent, keepCurrentUnfolding)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="525"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:525</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>dimensionName</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>nodeName</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>emitEvent</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>true</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>keepCurrentUnfolding</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>false</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="collapseNodesSaved"></a>
                    <span class="name">
                        <span ><b>collapseNodesSaved</b></span>
                        <a href="#collapseNodesSaved"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>collapseNodesSaved()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="511"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:511</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="concatCells"></a>
                    <span class="name">
                        <span ><b>concatCells</b></span>
                        <a href="#concatCells"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>concatCells(concatCells: <a href="../classes/CellVO.html" target="_self">CellVO[]</a>, leafs, currentIndex, nodeVO)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="620"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:620</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>concatCells</td>
                                    <td>
                                                <code><a href="../classes/CellVO.html" target="_self" >CellVO[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>leafs</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>currentIndex</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>nodeVO</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="expandNode"></a>
                    <span class="name">
                        <span ><b>expandNode</b></span>
                        <a href="#expandNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>expandNode(dimensionName, nodeName)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="634"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:634</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>dimensionName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>nodeName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCollapsedNodesToSave"></a>
                    <span class="name">
                        <span ><b>getCollapsedNodesToSave</b></span>
                        <a href="#getCollapsedNodesToSave"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getCollapsedNodesToSave()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="507"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:507</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFirstVisibleNode"></a>
                    <span class="name">
                        <span ><b>getFirstVisibleNode</b></span>
                        <a href="#getFirstVisibleNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getFirstVisibleNode(nodes, nodeVO: <a href="../classes/TreeNodeVO.html" target="_self">TreeNodeVO</a>, lastVisibleNode)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="251"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:251</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>nodes</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>nodeVO</td>
                                    <td>
                                                <code><a href="../classes/TreeNodeVO.html" target="_self" >TreeNodeVO</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>lastVisibleNode</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getHierarchyDatas"></a>
                    <span class="name">
                        <span ><b>getHierarchyDatas</b></span>
                        <a href="#getHierarchyDatas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getHierarchyDatas()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="312"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:312</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNodeFromName"></a>
                    <span class="name">
                        <span ><b>getNodeFromName</b></span>
                        <a href="#getNodeFromName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getNodeFromName(dimensionName, nodeName)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="267"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:267</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>dimensionName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>nodeName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/TreeNodeVO.html" target="_self" >TreeNodeVO</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSelectedNodes"></a>
                    <span class="name">
                        <span ><b>getSelectedNodes</b></span>
                        <a href="#getSelectedNodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSelectedNodes()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="263"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:263</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSelectedNodesSummary"></a>
                    <span class="name">
                        <span ><b>getSelectedNodesSummary</b></span>
                        <a href="#getSelectedNodesSummary"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSelectedNodesSummary()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="294"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:294</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSelectedNodesToSave"></a>
                    <span class="name">
                        <span ><b>getSelectedNodesToSave</b></span>
                        <a href="#getSelectedNodesToSave"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSelectedNodesToSave()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="282"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:282</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initConditionalOnContextNodes"></a>
                    <span class="name">
                        <span ><b>initConditionalOnContextNodes</b></span>
                        <a href="#initConditionalOnContextNodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initConditionalOnContextNodes()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="157"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:157</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initDefaultUnfoldRank"></a>
                    <span class="name">
                        <span ><b>initDefaultUnfoldRank</b></span>
                        <a href="#initDefaultUnfoldRank"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initDefaultUnfoldRank()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="353"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:353</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initialize"></a>
                    <span class="name">
                        <span ><b>initialize</b></span>
                        <a href="#initialize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initialize()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="49"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:49</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initSelectedNodes"></a>
                    <span class="name">
                        <span ><b>initSelectedNodes</b></span>
                        <a href="#initSelectedNodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initSelectedNodes()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="153"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:153</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setSelectedNode"></a>
                    <span class="name">
                        <span ><b>setSelectedNode</b></span>
                        <a href="#setSelectedNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setSelectedNode(hierarchyName, nodeName, stopPropagation)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="166"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:166</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>hierarchyName</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>nodeName</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>stopPropagation</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>false</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/TreeNodeVO.html" target="_self" >TreeNodeVO</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setSelectedUnfoldHierarchy"></a>
                    <span class="name">
                        <span ><b>setSelectedUnfoldHierarchy</b></span>
                        <a href="#setSelectedUnfoldHierarchy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setSelectedUnfoldHierarchy(selectedUnfoldHierarchy)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="349"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:349</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>selectedUnfoldHierarchy</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleDimensionHierarchyFold"></a>
                    <span class="name">
                        <span ><b>toggleDimensionHierarchyFold</b></span>
                        <a href="#toggleDimensionHierarchyFold"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toggleDimensionHierarchyFold(dimensionName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, state: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="344"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:344</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>dimensionName</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>state</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unfoldHierarchy"></a>
                    <span class="name">
                        <span ><b>unfoldHierarchy</b></span>
                        <a href="#unfoldHierarchy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>unfoldHierarchy(previousRank, currentRank, keepCurrentUnfolding)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="405"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:405</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>previousRank</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>currentRank</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>keepCurrentUnfolding</td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>false</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateCollapsedNodesToSave"></a>
                    <span class="name">
                        <span ><b>updateCollapsedNodesToSave</b></span>
                        <a href="#updateCollapsedNodesToSave"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateCollapsedNodesToSave(dimensionName, nodeName, way)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="490"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:490</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>dimensionName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>nodeName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>way</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateCurrentHierarchyClustersCount"></a>
                    <span class="name">
                        <span ><b>updateCurrentHierarchyClustersCount</b></span>
                        <a href="#updateCurrentHierarchyClustersCount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateCurrentHierarchyClustersCount(rank)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="302"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:302</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>rank</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateNodeNameIntoJson"></a>
                    <span class="name">
                        <span ><b>updateNodeNameIntoJson</b></span>
                        <a href="#updateNodeNameIntoJson"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateNodeNameIntoJson(hierarchyName, name, newName, isLeaf)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="59"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:59</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>hierarchyName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>name</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>newName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>isLeaf</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateNodeNameIntoModel"></a>
                    <span class="name">
                        <span ><b>updateNodeNameIntoModel</b></span>
                        <a href="#updateNodeNameIntoModel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateNodeNameIntoModel(hierarchyName, name, newName, isLeaf)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="104"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:104</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>hierarchyName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>name</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>newName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>isLeaf</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateSelectedNodeName"></a>
                    <span class="name">
                        <span ><b>updateSelectedNodeName</b></span>
                        <a href="#updateSelectedNodeName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateSelectedNodeName(hierarchyName, name, newName, isLeaf)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="54"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:54</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>hierarchyName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>name</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>newName</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>isLeaf</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateSelectedNodes"></a>
                    <span class="name">
                        <span ><b>updateSelectedNodes</b></span>
                        <a href="#updateSelectedNodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateSelectedNodes(dimension: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, position: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="235"
                            class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:235</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>dimension</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>position</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="collapsedNodesToSave"></a>
                    <span class="name">
                        <span ><b>collapsedNodesToSave</b></span>
                        <a href="#collapsedNodesToSave"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{}</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:39</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dimensionsDatas"></a>
                    <span class="name">
                        <span ><b>dimensionsDatas</b></span>
                        <a href="#dimensionsDatas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">src/app/khiops-covisualization/providers/treenodes.service.ts:38</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
	Injectable
} from &#x27;@angular/core&#x27;;
import {
	DimensionsDatasService
} from &#x27;./dimensions-datas.service&#x27;;
import {
	EventsService
} from &#x27;./events.service&#x27;;
import {
	AppService
} from &#x27;./app.service&#x27;;
import {
	UtilsService
} from &#x27;@khiops-library/providers/utils.service&#x27;;
import {
	TreeNodeVO
} from &#x27;../model/tree-node-vo&#x27;;
import {
	deepEqual
} from &#x27;fast-equals&#x27;;
import _ from &#x27;lodash&#x27;;
import {
	CellVO
} from &#x27;@khiops-library/model/cell-vo&#x27;;
import {
	DimensionVO
} from &#x27;@khiops-library/model/dimension-vo&#x27;;
import {
	AppConfig
} from &#x27;src/environments/environment&#x27;;

@Injectable({
	providedIn: &#x27;root&#x27;
})
export class TreenodesService {

	dimensionsDatas: any;
	collapsedNodesToSave: any &#x3D; {};

	constructor(
		private appService: AppService,
		private dimensionsDatasService: DimensionsDatasService,
		private eventsService: EventsService
	) {
		this.initialize();
	}

	initialize() {
		this.dimensionsDatas &#x3D; this.dimensionsDatasService.getDatas();
		this.collapsedNodesToSave &#x3D; this.appService.getSavedDatas(&#x27;collapsedNodes&#x27;) || {};
	}

	updateSelectedNodeName(hierarchyName, name, newName, isLeaf) {
		this.updateNodeNameIntoJson(hierarchyName, name, newName, isLeaf);
		this.updateNodeNameIntoModel(hierarchyName, name, newName, isLeaf);
	}

	updateNodeNameIntoJson(hierarchyName, name, newName, isLeaf) {
		const appDatas &#x3D; this.appService.getDatas().datas;

		// Find current dim position
		const currentIndex: any &#x3D; this.dimensionsDatas.selectedDimensions.find(e &#x3D;&gt; {
			return hierarchyName &#x3D;&#x3D;&#x3D; e.name;
		}).startPosition;

		let currentCluster;

		// update dimensionHierarchies json datas
		const currentDimensionHierarchy: any &#x3D; appDatas.coclusteringReport.dimensionHierarchies[currentIndex];
		currentCluster &#x3D; currentDimensionHierarchy.clusters.find(e &#x3D;&gt; {
			return name &#x3D;&#x3D;&#x3D; e.cluster;
		});
		if (currentCluster) {
			currentCluster.shortDescription &#x3D; newName;
		}

		if (isLeaf) {
			// update dimensionPartitions json datas
			// const dimensionPartition &#x3D; appDatas.coclusteringReport.dimensionPartitions[currentIndex];
			// if (dimensionPartition.type &#x3D;&#x3D;&#x3D; &#x27;Numerical&#x27;) {
			// 	currentCluster &#x3D; dimensionPartition.intervals.find(e &#x3D;&gt; {
			// 		return name &#x3D;&#x3D;&#x3D; e.cluster;
			// 	});
			// 	currentCluster.shortDescription &#x3D; newName;
			// } else if (dimensionPartition.type &#x3D;&#x3D;&#x3D; &#x27;Categorical&#x27;) {
			// 	currentCluster &#x3D; dimensionPartition.valueGroups.find(e &#x3D;&gt; {
			// 		return name &#x3D;&#x3D;&#x3D; e.cluster;
			// 	});
			// 	currentCluster.shortDescription &#x3D; newName;
			// }
		} else {
			// update parentCluster informations
			// const parentClusters: any[] &#x3D; UtilsService.fastFilter(currentDimensionHierarchy.clusters, e &#x3D;&gt; {
			// 	return name &#x3D;&#x3D;&#x3D; e.parentCluster;
			// });
			// for (let i &#x3D; 0; i &lt; parentClusters.length; i++) {
			// 	parentClusters[i].parentShortDescription &#x3D; newName;
			// }
		}

	}

	updateNodeNameIntoModel(hierarchyName, name, newName, isLeaf) {

		const currentIndex &#x3D; this.dimensionsDatas.selectedDimensions.findIndex(e &#x3D;&gt; {
			return hierarchyName &#x3D;&#x3D;&#x3D; e.name;
		});

		// Update selected node
		const nodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[currentIndex].find(e &#x3D;&gt; {
			return name &#x3D;&#x3D;&#x3D; e.name;
		});
		nodeVO.shortDescription &#x3D; newName;

		// Update dimension clusters
		const clusterLeafsToUpdate &#x3D; this.dimensionsDatas.dimensionsClusters[currentIndex].filter(e &#x3D;&gt; e.name &#x3D;&#x3D;&#x3D; name || e.parentCluster &#x3D;&#x3D;&#x3D; name);
		const clusterLeafsToUpdateLength &#x3D; clusterLeafsToUpdate.length;
		for (let i &#x3D; 0; i &lt; clusterLeafsToUpdateLength; i++) {
			if (clusterLeafsToUpdate[i].name &#x3D;&#x3D;&#x3D; name) {
				clusterLeafsToUpdate[i].xDisplayaxisPart &#x3D; newName;
			} else if (clusterLeafsToUpdate[i].parentCluster &#x3D;&#x3D;&#x3D; name) {
				clusterLeafsToUpdate[i].parentShortDescription &#x3D; newName;
			}
		}

		this.dimensionsDatas.dimensionsTrees[currentIndex] &#x3D; UtilsService.unflatten(this.dimensionsDatas.dimensionsClusters[currentIndex]);

		// now every where i find name in cells, update cells
		const cellsToUpdate &#x3D; this.dimensionsDatas.matrixDatas.matrixCellDatas.filter(e &#x3D;&gt; e.xaxisPart &#x3D;&#x3D;&#x3D; name || e.yaxisPart &#x3D;&#x3D;&#x3D; name || e.parentCluster &#x3D;&#x3D;&#x3D; name);
		const cellsToUpdateLength &#x3D; cellsToUpdate.length;
		for (let i &#x3D; 0; i &lt; cellsToUpdateLength; i++) {
			if (cellsToUpdate[i].xaxisPart &#x3D;&#x3D;&#x3D; name) {
				cellsToUpdate[i].xDisplayaxisPart &#x3D; newName;
			} else if (cellsToUpdate[i].yaxisPart &#x3D;&#x3D;&#x3D; name) {
				cellsToUpdate[i].yDisplayaxisPart &#x3D; newName;
			} else if (cellsToUpdate[i].parentCluster &#x3D;&#x3D;&#x3D; name) {
				cellsToUpdate[i].parentShortDescription &#x3D; newName;
			}
		}

		this.dimensionsDatas.allMatrixDatas &#x3D; _.cloneDeep(this.dimensionsDatas.matrixDatas);

		// after recompute distrib graph
		// after update composition grid datas
		this.eventsService.emitTreeNodeNameChanged({
			hierarchyName: hierarchyName,
			selectedNode: nodeVO
		});

	}

	initSelectedNodes() {
		this.dimensionsDatas.selectedNodes &#x3D; [];
	}

	initConditionalOnContextNodes() {
		for (let i &#x3D; 0; i &lt; this.dimensionsDatas.dimensions.length; i++) {
			if (i &gt;&#x3D; 2) {
				// re init context nodes with conditionalOnContext to false
				this.setSelectedNode(this.dimensionsDatas.dimensions[i].name, this.dimensionsDatas.selectedNodes[i]._id, false);
			}
		}
	}

	setSelectedNode(hierarchyName, nodeName, stopPropagation &#x3D; false) {

		let nodeVO: TreeNodeVO;
		if (this.dimensionsDatas.selectedDimensions) {
			const previousSelectedNodes &#x3D; Object.assign([], this.dimensionsDatas.selectedNodes);

			// Find current dim position
			const currentIndex: any &#x3D; this.dimensionsDatas.selectedDimensions.findIndex(e &#x3D;&gt; {
				return hierarchyName &#x3D;&#x3D;&#x3D; e.name;
			});

			if (currentIndex !&#x3D;&#x3D; -1) {
				// Do it only if selection changed
				let init &#x3D; true;
				if (this.dimensionsDatas.selectedNodes[currentIndex]) {
					init &#x3D; false;
				}

				// get Node VO from name
				nodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[currentIndex].find(e &#x3D;&gt; {
					return nodeName &#x3D;&#x3D;&#x3D; e.name;
				});

				// Search into dimensionsTrees if node is into collapsed folder
				// if it is the case, search the first node that not collapsed
				nodeVO &#x3D; this.getFirstVisibleNode(this.dimensionsDatas.dimensionsClusters[currentIndex], nodeVO, nodeVO);

				if (nodeVO) {
					nodeVO.getChildrenList();
				}

				if (currentIndex !&#x3D;&#x3D; 0 &amp;&amp; currentIndex !&#x3D;&#x3D; 1) {
					if (this.dimensionsDatas.conditionalOnContext) {
						// Important to get children list for contexts when saving hierarchy as
						// const parentNodeVO: TreeNodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[currentIndex].find((e: TreeNodeVO) &#x3D;&gt; e.isParentCluster);
						// parentNodeVO.getChildrenList();
						// it is context selection
						if (nodeVO &amp;&amp; nodeVO.isLeaf) {
							this.dimensionsDatas.contextSelection[currentIndex - 2] &#x3D; [nodeVO.id];
						} else {
							this.dimensionsDatas.contextSelection[currentIndex - 2] &#x3D; nodeVO.childrenLeafIndexes;
						}
					} else {
						// conditionalOnContext unset
						// get the parent node
						const parentNodeVO: TreeNodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[currentIndex].find((e: TreeNodeVO) &#x3D;&gt; e.isParentCluster);
						parentNodeVO.getChildrenList();
						// and set their chidren leafs to context nodes
						this.dimensionsDatas.contextSelection[currentIndex - 2] &#x3D; parentNodeVO.childrenLeafIndexes;
					}

				}

				this.dimensionsDatas.selectedNodes[currentIndex] &#x3D; nodeVO;
			}

			// Do not send event changed if only one node selected and if nodes does not changed
			if (!deepEqual(previousSelectedNodes, this.dimensionsDatas.selectedNodes)) {
				this.eventsService.emitTreeSelectedNodeChanged({
					hierarchyName: hierarchyName,
					selectedNode: nodeVO,
					stopPropagation: stopPropagation
				});
			}
		}
		return nodeVO;

	}

	updateSelectedNodes(dimension: any, position: number) {
		// Find current dim position
		const currentIndex: any &#x3D; this.dimensionsDatas.selectedDimensions.findIndex(e &#x3D;&gt; {
			return dimension.name &#x3D;&#x3D;&#x3D; e.name;
		});

		if (currentIndex !&#x3D;&#x3D; -1) {
			// Invert values if already selected
			[this.dimensionsDatas.selectedNodes[currentIndex],
				this.dimensionsDatas.selectedNodes[position]
			] &#x3D; [this.dimensionsDatas.selectedNodes[position],
				this.dimensionsDatas.selectedNodes[currentIndex]
			];
		}
	}

	getFirstVisibleNode(nodes, nodeVO: TreeNodeVO, lastVisibleNode) {
		const parentNode: TreeNodeVO &#x3D; nodes.find(e &#x3D;&gt; e.name &#x3D;&#x3D;&#x3D; nodeVO.parentCluster);
		if (!nodeVO.isParentCluster) {
			if (parentNode.isCollapsed) {
				lastVisibleNode &#x3D; parentNode;
			}
			return this.getFirstVisibleNode(nodes, parentNode, lastVisibleNode);
		} else {
			return lastVisibleNode;
		}
	}

	getSelectedNodes() {
		return this.dimensionsDatas.selectedNodes;
	}

	getNodeFromName(dimensionName, nodeName) {
		let nodeVO: TreeNodeVO;
		const currentIndex: any &#x3D; this.dimensionsDatas.selectedDimensions.findIndex(e &#x3D;&gt; {
			return dimensionName &#x3D;&#x3D;&#x3D; e.name;
		});

		if (currentIndex !&#x3D;&#x3D; -1) {
			// get Node VO from name
			nodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[currentIndex].find(e &#x3D;&gt; {
				return nodeName &#x3D;&#x3D;&#x3D; e.name;
			});
		}
		return nodeVO;
	}

	getSelectedNodesToSave() {
		const selectedNodes &#x3D; _.cloneDeep(this.getSelectedNodes());
		const selectedNodesLength &#x3D; selectedNodes.length;
		for (let i &#x3D; 0; i &lt; selectedNodesLength; i++) {
			selectedNodes.push({
				id: selectedNodes[i].id,
				dimensionName: selectedNodes[i].hierarchy
			});
		}
		return selectedNodes;
	}

	getSelectedNodesSummary() {
		this.dimensionsDatas.selectedNodesSummary &#x3D; [];
		const l &#x3D; this.dimensionsDatas.selectedNodes.length;
		for (let i &#x3D; 0; i &lt; l; i++) {
			this.dimensionsDatas.selectedNodesSummary.push(this.dimensionsDatas.selectedNodes[i]);
		}
	}

	updateCurrentHierarchyClustersCount(rank) {
		for (let i &#x3D; 0; i &lt; this.dimensionsDatas.dimensions.length; i++) {
			const nodesVO: any[] &#x3D; UtilsService.fastFilter(this.dimensionsDatas.dimensionsClusters[i], e &#x3D;&gt; {
				return !e.isLeaf &amp;&amp; e.hierarchicalRank &lt; rank;
			});
			const dimension: DimensionVO &#x3D; this.dimensionsDatas.dimensions[i];
			dimension.setCurrentHierarchyClusterCount(nodesVO.length + 1);
		}
	}

	getHierarchyDatas(): any {
		const appDatas &#x3D; this.appService.getDatas().datas;

		if (!this.dimensionsDatas.hierarchyDatas) {

			this.dimensionsDatas.hierarchyDatas &#x3D; {
				minClusters: 0,
				totalClusters: 0,
				totalCells: 0,
				selectedUnfoldHierarchy: 0
			};

			if (appDatas.coclusteringReport &amp;&amp; appDatas.coclusteringReport.dimensionSummaries) {
				const l &#x3D; appDatas.coclusteringReport.dimensionSummaries.length;
				this.dimensionsDatas.hierarchyDatas.minClusters &#x3D; l;
				for (let i &#x3D; 0; i &lt; l; i++) {
					// Concat all dimensions clusters
					this.dimensionsDatas.hierarchyDatas.totalClusters +&#x3D; appDatas.coclusteringReport.dimensionSummaries[i].parts;
				}
				// Init with all clusters
				this.dimensionsDatas.hierarchyDatas.selectedUnfoldHierarchy &#x3D; this.dimensionsDatas.hierarchyDatas.totalClusters;
			}
			if (appDatas.coclusteringReport &amp;&amp; appDatas.coclusteringReport.summary) {
				// Get the total cell
				this.dimensionsDatas.hierarchyDatas.totalCells +&#x3D; appDatas.coclusteringReport.summary.cells;
			}
		}

		return this.dimensionsDatas.hierarchyDatas;
	}


	toggleDimensionHierarchyFold(dimensionName: string, state: boolean) {
		const dimension: DimensionVO &#x3D; this.dimensionsDatas.dimensions.find(e &#x3D;&gt; e.name &#x3D;&#x3D;&#x3D; dimensionName);
		dimension.setHierarchyFold(state);
	}

	setSelectedUnfoldHierarchy(selectedUnfoldHierarchy) {
		this.dimensionsDatas.hierarchyDatas.selectedUnfoldHierarchy &#x3D; selectedUnfoldHierarchy;
	}

	initDefaultUnfoldRank() {
		// for big files, first unfold to default rank to optimize perf
		const hierarchyDatas &#x3D; this.getHierarchyDatas();
		const unfoldRank &#x3D; AppConfig.common.UNFOLD_HIERARCHY.DEFAULT_UNFOLD;
		if (hierarchyDatas.totalClusters &gt; unfoldRank) {
			this.setSelectedUnfoldHierarchy(unfoldRank);
			this.unfoldHierarchy(0, unfoldRank, true);
			// this.dimensionsDatas.allMatrixDatas &#x3D; Object.assign({}, this.dimensionsDatas.matrixDatas);
			// this.dimensionsDatas.allMatrixDatas &#x3D; _.cloneDeep(this.dimensionsDatas.matrixDatas);
			return true;
		} else {
			return false;
		}
	}

	// getTreeNodesToCollapse(dimensionName, rank) {
	// 	const nodesToCollapse &#x3D; [];
	// 	// Find current dim position
	// 	const currentIndex: any &#x3D; this.dimensionsDatas.selectedDimensions.findIndex(e &#x3D;&gt; {
	// 		return dimensionName &#x3D;&#x3D;&#x3D; e.name;
	// 	});

	// 	if (currentIndex !&#x3D;&#x3D; -1) {

	// 		const nodesVO: any[] &#x3D; UtilsService.fastFilter(this.dimensionsDatas.dimensionsClusters[currentIndex], e &#x3D;&gt; {
	// 			return rank &lt;&#x3D; e.hierarchicalRank &amp;&amp; !e.isLeaf;
	// 		});

	// 		for (let j &#x3D; 0; j &lt; nodesVO.length; j++) {
	// 			const nodeVO: TreeNodeVO &#x3D; nodesVO[j];
	// 			if (nodeVO) {
	// 				// get parent to check if node must be collapsed
	// 				const parent: TreeNodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[currentIndex].find(e &#x3D;&gt; {
	// 					return nodeVO.parentCluster &#x3D;&#x3D;&#x3D; e.cluster;
	// 				});

	// 				if (!parent) {
	// 					// this.collapseNode(nodeVO.hierarchy, nodeVO.name, false);
	// 					nodesToCollapse.push(nodeVO);
	// 				} else if (parent.hierarchicalRank &lt; rank) {
	// 					// check if parent level is &gt; level
	// 					nodesToCollapse.push(nodeVO);

	// 					// this.collapseNode(nodeVO.hierarchy, nodeVO.name, false);
	// 				}
	// 			}
	// 		}
	// 	}

	// 	return nodesToCollapse;
	// }

	unfoldHierarchy(previousRank, currentRank, keepCurrentUnfolding &#x3D; false) {
		const t2 &#x3D; performance.now();

		if (!keepCurrentUnfolding &amp;&amp; currentRank &gt; previousRank) {

			// unfold first all tree
			for (let i &#x3D; 0; i &lt; this.dimensionsDatas.dimensions.length; i++) {

				const nodesVO: any[] &#x3D; UtilsService.fastFilter(this.dimensionsDatas.dimensionsClusters[i], e &#x3D;&gt; {
					return e.isCollapsed;
				});
				const nodesVOLength &#x3D; nodesVO.length;
				for (let j &#x3D; 0; j &lt; nodesVOLength; j++) {
					const nodeVO: TreeNodeVO &#x3D; nodesVO[j];
					if (nodeVO) {
						nodeVO.isCollapsed &#x3D; false;
					}
				}

				// expand parent node
				const parent: TreeNodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[i].find(e &#x3D;&gt; {
					return e.isParentCluster;
				});
				if (parent) {
					this.expandNode(parent.hierarchy, parent.name);
				}
			}
		}

		// fold
		for (let i &#x3D; 0; i &lt; this.dimensionsDatas.dimensions.length; i++) {
			if (this.dimensionsDatas.dimensions[i].hierarchyFold) {
				const nodesVO: any[] &#x3D; UtilsService.fastFilter(this.dimensionsDatas.dimensionsClusters[i], e &#x3D;&gt; {
					return currentRank &lt;&#x3D; e.hierarchicalRank &amp;&amp; !e.isLeaf;
				});

				if (nodesVO.length &gt; 0) {
					const nodesVOLength &#x3D; nodesVO.length;
					for (let j &#x3D; 0; j &lt; nodesVOLength; j++) {
						const nodeVO: TreeNodeVO &#x3D; nodesVO[j];
						if (nodeVO) {
							// get parent to check if node must be collapsed
							const parent: TreeNodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[i].find(e &#x3D;&gt; {
								return nodeVO.parentCluster &#x3D;&#x3D;&#x3D; e.cluster;
							});

							if (!parent) {
								this.collapseNode(nodeVO.hierarchy, nodeVO.name, false, keepCurrentUnfolding);
							} else if (parent.hierarchicalRank &lt; currentRank) {
								// check if parent level is &gt; level
								this.collapseNode(nodeVO.hierarchy, nodeVO.name, false, keepCurrentUnfolding);
							}
						}
					}

				}
				// emit event to reconstruct current cluster grid
				this.eventsService.emitTreeCollapseChanged(this.dimensionsDatas.dimensions[i].name);
			}
		}

		// Now we find the first visible node (or last selected if do not changed with unfold hierarchy)
		const newSelectedNodes &#x3D; _.cloneDeep(this.dimensionsDatas.selectedNodes);
		for (let i &#x3D; 0; i &lt; this.dimensionsDatas.dimensions.length; i++) {
			if (this.dimensionsDatas.dimensions[i].hierarchyFold) {

				const firstCollapsedNode &#x3D; this.dimensionsDatas.dimensionsClusters[i].find(e &#x3D;&gt; e.isCollapsed &#x3D;&#x3D;&#x3D; true);
				if (firstCollapsedNode) {
					newSelectedNodes.push(firstCollapsedNode);
				} else {
					newSelectedNodes.push(this.dimensionsDatas.selectedNodes[i]);
				}
			}
		}

		// At the end emit event with selectes nodes details
		// Do not emit if it is first unfolding for performance purpose
		if (!keepCurrentUnfolding) {
			this.eventsService.emitTreeInit(newSelectedNodes);
		}

		const t3 &#x3D; performance.now();
		// console.log(&quot;unfoldHierarchy &quot; + (t3 - t2) + &quot; milliseconds.&quot;);
	}

	updateCollapsedNodesToSave(dimensionName, nodeName, way) {
		// Add or remove collapsed nodes to save them into json file
		if (!this.collapsedNodesToSave[dimensionName]) {
			this.collapsedNodesToSave[dimensionName] &#x3D; [];
		}
		const index &#x3D; this.collapsedNodesToSave[dimensionName].indexOf(nodeName);
		if (way &#x3D;&#x3D;&#x3D; -1) {
			if (index !&#x3D;&#x3D; -1) {
				this.collapsedNodesToSave[dimensionName].splice(index, 1);
			}
		} else if (way &#x3D;&#x3D;&#x3D; 1) {
			if (index &#x3D;&#x3D;&#x3D; -1) {
				this.collapsedNodesToSave[dimensionName].push(nodeName);
			}
		}
	}

	getCollapsedNodesToSave() {
		return this.collapsedNodesToSave;
	}

	collapseNodesSaved() {
		const nodesToCollapse &#x3D; this.getCollapsedNodesToSave();
		if (nodesToCollapse) {
			for (const dimension in nodesToCollapse) {
				if (nodesToCollapse[dimension]) {
					const nodesToCollapseDimLength &#x3D; nodesToCollapse[dimension].length;
					for (let i &#x3D; 0; i &lt; nodesToCollapseDimLength; i++) {
						this.collapseNode(dimension, nodesToCollapse[dimension][i]);
					}
				}
			}
		}
	}

	collapseNode(dimensionName, nodeName, emitEvent &#x3D; true, keepCurrentUnfolding &#x3D; false) {
		const t0 &#x3D; performance.now();

		// Find current dim position
		const currentIndex: any &#x3D; this.dimensionsDatas.selectedDimensions.findIndex(e &#x3D;&gt; {
			return dimensionName &#x3D;&#x3D;&#x3D; e.name;
		});

		if (currentIndex &#x3D;&#x3D;&#x3D; 0 || currentIndex &#x3D;&#x3D;&#x3D; 1) { // more than 2 is context
			if (this.dimensionsDatas.selectedNodes[currentIndex] || keepCurrentUnfolding) {

				let newMatrixCellDatas &#x3D; this.dimensionsDatas.matrixDatas.matrixCellDatas;

				// get Node VO from name
				const nodeVO: TreeNodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[currentIndex].find(e &#x3D;&gt; {
					return nodeName &#x3D;&#x3D;&#x3D; e.name;
				});

				if (nodeVO) {

					// Set iscollapsed and update children lists
					if (keepCurrentUnfolding) {
						nodeVO.isUnfoldedByDefault &#x3D; true;
					}

					nodeVO.isCollapsed &#x3D; true;
					nodeVO.getChildrenList();

					// Pre filter the cells to optim perfs
					const filteredCells &#x3D; [];
					const filteredOtherCells &#x3D; [];
					const newMatrixCellDatasLength &#x3D; newMatrixCellDatas.length;
					for (let i &#x3D; 0; i &lt; newMatrixCellDatasLength; i++) {
						const e &#x3D; newMatrixCellDatas[i];
						if (currentIndex &#x3D;&#x3D;&#x3D; 0) {
							if (nodeVO.childrenList.includes(e.xaxisPart)) {
								filteredCells.push(e);
							} else {
								filteredOtherCells.push(e);
							}
						} else {
							if (nodeVO.childrenList.includes(e.yaxisPart)) {
								filteredCells.push(e);
							} else {
								filteredOtherCells.push(e);
							}
						}
					}

					let cellsToConcat: CellVO[] &#x3D; [];

					const childrenListLength &#x3D; nodeVO.childrenList.length;
					for (let i &#x3D; 0; i &lt; childrenListLength; i++) {
						const child &#x3D; nodeVO.childrenList[i];
						const leafs: any[] &#x3D; UtilsService.fastFilter(filteredCells, e &#x3D;&gt; {
							if (currentIndex &#x3D;&#x3D;&#x3D; 0) {
								return e.xaxisPart &#x3D;&#x3D;&#x3D; child;
							} else {
								return e.yaxisPart &#x3D;&#x3D;&#x3D; child;
							}
						});
						// Get the cells to concat
						cellsToConcat &#x3D; this.concatCells(cellsToConcat, leafs, currentIndex, nodeVO);
					}

					// Merge new cells with filtered other cells array
					newMatrixCellDatas &#x3D; [];
					newMatrixCellDatas &#x3D; UtilsService.fastConcat(filteredOtherCells, cellsToConcat);

					this.dimensionsDatas.matrixDatas.matrixCellDatas &#x3D; newMatrixCellDatas;
					if (emitEvent) {
						this.eventsService.emitTreeCollapseChanged(dimensionName);
					}
				}
			}
		} else {
			// context case : do not concat values
			// get Node VO from name
			const nodeVO: TreeNodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[currentIndex].find(e &#x3D;&gt; {
				return nodeName &#x3D;&#x3D;&#x3D; e.name;
			});
			nodeVO.isCollapsed &#x3D; true;
			if (emitEvent) {
				this.eventsService.emitTreeCollapseChanged(dimensionName);
			}

			// Important to get children list for contexts when saving hierarchy as
			nodeVO.getChildrenList();
		}
		const t1 &#x3D; performance.now();
		// console.info(&quot;collapseNode took &quot; + (t1 - t0) + &quot; milliseconds.&quot;);

		this.updateCollapsedNodesToSave(dimensionName, nodeName, 1);
	}

	concatCells(concatCells: CellVO[], leafs, currentIndex, nodeVO) {
		if (concatCells.length &#x3D;&#x3D;&#x3D; 0) {
			concatCells &#x3D; leafs;
		} else {
			const leafsLength &#x3D; leafs.length;
			for (let j &#x3D; 0; j &lt; leafsLength; j++) {
				// conert cell into CellVO because obj has been copied with json parse to improve perf, and it lose CellVo properties
				concatCells[j] &#x3D; new CellVO(concatCells[j]);
				concatCells[j].merge(leafs[j], currentIndex, nodeVO);
			}
		}
		return concatCells;
	}

	expandNode(dimensionName, nodeName) {
		// Find current dim position
		const currentIndex: any &#x3D; this.dimensionsDatas.selectedDimensions.findIndex(e &#x3D;&gt; {
			return dimensionName &#x3D;&#x3D;&#x3D; e.name;
		});

		if (currentIndex &#x3D;&#x3D;&#x3D; 0 || currentIndex &#x3D;&#x3D;&#x3D; 1) { // more than 2 is context
			// cellVO is now deep so we must clone it, not assign
			const allMatrixCellDatas &#x3D; _.cloneDeep(this.dimensionsDatas.allMatrixDatas.matrixCellDatas);

			this.dimensionsDatas.matrixDatas.matrixCellDatas &#x3D; allMatrixCellDatas;

			// first collapse nodes of second tree
			let otherIndex &#x3D; 0;
			if (currentIndex &#x3D;&#x3D;&#x3D; 0) {
				otherIndex &#x3D; 1;
			}
			const otherTreeVO: TreeNodeVO &#x3D; this.dimensionsDatas.dimensionsTrees[otherIndex][0];
			otherTreeVO.getChildrenList();
			if (otherTreeVO.childrenNodesCollapsed) {
				let i &#x3D; otherTreeVO.childrenNodesCollapsed.length;
				while (i--) {
					this.collapseNode(otherTreeVO.hierarchy, otherTreeVO.childrenNodesCollapsed[i], false);
				}
			}
			// If other tree is fully collapsed
			if (otherTreeVO.isParentCluster &amp;&amp; otherTreeVO.isCollapsed) {
				this.collapseNode(otherTreeVO.hierarchy, otherTreeVO.cluster, false);
			}

			// Now set isCollapsed bool to false for current collapsed node
			const nodeVO: TreeNodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[currentIndex].find(e &#x3D;&gt; {
				return nodeName &#x3D;&#x3D;&#x3D; e.name;
			});
			nodeVO.isCollapsed &#x3D; false;

			// Finally, collapsed all nodes of current tree
			const currentTreeVO: TreeNodeVO &#x3D; this.dimensionsDatas.dimensionsTrees[currentIndex][0];
			currentTreeVO.getChildrenList();
			if (currentTreeVO.childrenNodesCollapsed) {
				let i &#x3D; currentTreeVO.childrenNodesCollapsed.length;
				while (i--) {
					this.collapseNode(currentTreeVO.hierarchy, currentTreeVO.childrenNodesCollapsed[i], false);
				}
			}

		} else {
			// Now set isCollapsed bool to false for context
			const nodeVO: TreeNodeVO &#x3D; this.dimensionsDatas.dimensionsClusters[currentIndex].find(e &#x3D;&gt; {
				return nodeName &#x3D;&#x3D;&#x3D; e.name;
			});
			nodeVO.isCollapsed &#x3D; false;
		}

		this.eventsService.emitTreeCollapseChanged(dimensionName);

		this.updateCollapsedNodesToSave(dimensionName, nodeName, -1);

	}

}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'TreenodesService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
