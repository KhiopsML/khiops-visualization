// AG Grid v32 Modern Theme for Khiops
// Import the core AG Grid styles and Balham theme
@import '~@ag-grid-community/styles/ag-grid.css';
@import '~@ag-grid-community/styles/ag-theme-balham.css';

.ag-root-wrapper {
  border: none !important;
}

// Khiops-specific AG Grid theme customizations
.ag-theme-balham {
  // Base configuration
  --ag-font-size: 0.9em;
  --ag-font-family: 'Poppins', Verdana, Arial, sans-serif;
  font-size: inherit;

  // Color variables matching your Khiops design system
  --ag-background-color: var(--bg-color, #fff);
  --ag-foreground-color: var(--primary-10, #222);
  --ag-border-color: var(--border-color, rgba(4, 32, 69, 0));
  --ag-header-background-color: var(--bg-color-20, #f9fafb);
  --ag-odd-row-background-color: var(--bg-color-10, #eee);
  --ag-row-hover-color: var(--gutter-hover, #f1f1f1);
  --ag-selected-row-background-color: var(--bg-color-contrast);

  // Header styling
  --ag-header-foreground-color: var(--primary, #000);
  --ag-header-font-weight: 500;

  // Cell styling
  --ag-cell-horizontal-border: 1px solid var(--border-color, rgba(0, 0, 0, 0));
  --ag-row-border-color: var(--border-color, rgba(0, 0, 0, 0));

  // Input styling
  --ag-input-border-color: var(--border-color, rgba(4, 32, 69, 0));
  --ag-input-border-color-invalid: var(--red-main, #fb473a);

  // Button styling
  --ag-button-background-color: var(--bg-color, #fff);
  --ag-button-border-color: var(--border-color, rgba(4, 32, 69, 0));

  // Scrollbar styling to match global theme
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--scrollbar, #eee);
    border: none;
    border-radius: 5px;

    &:hover {
      background: var(--bg-color-40, #bbb);
    }
  }

  ::-webkit-scrollbar-track {
    background: var(--bg-color, #fff);
  }

  // Custom cell types for Khiops data visualization
  .cell-type-num {
    background-color: var(--cell-type-num, #d1dcee);
  }

  .cell-type-cat {
    background-color: var(--cell-type-cat, #f5ddaf);
  }

  // Enhanced hover effects
  .ag-row:hover {
    background-color: var(--gutter-hover, #f1f1f1);
  }

  // Filter panel improvements
  .ag-filter-toolpanel-search .ag-input-field-input {
    border: 0px solid var(--border-color, rgba(4, 32, 69, 0.1));
    border-radius: var(--border-radius, 2px);
  }

  // Pagination improvements
  .ag-paging-panel {
    border-top: 0px solid var(--border-color, rgba(4, 32, 69, 0.1));
    background: var(--bg-color-20, #f9fafb);
  }

  // Menu improvements
  .ag-menu {
    border: 0px solid var(--border-color, rgba(4, 32, 69, 0.1));
    border-radius: var(--border-radius, 2px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  // Focus and selection improvements
  .ag-cell-focus {
    border: 1px solid var(--accent, #cd3c14) !important;
  }

  .ag-row-selected {
    background-color: var(--selected, #ff66008c) !important;
  }

  // Icon customization
  .ag-icon {
    color: var(--primary-30, #757575);
  }

  // Header improvements
  .ag-header-cell {
    border-right: 0px solid var(--border-color, rgba(4, 32, 69, 0.1));

    &.ag-header-cell-sortable {
      cursor: pointer;

      &:hover {
        background-color: var(--gutter-hover, #f1f1f1);
      }
    }
  }

  // Pinned columns improvements
  .ag-pinned-left-header,
  .ag-pinned-right-header {
    border-left: 0px solid var(--border-color, rgba(4, 32, 69, 0.1));
  }
}

// Responsive adjustments
@media screen and (max-width: 1440px) {
  .ag-theme-balham {
    --ag-font-size: 0.85em;
  }
}

@media screen and (max-height: 1080px) {
  .ag-theme-balham {
    --ag-font-size: 0.85em;
  }
}
