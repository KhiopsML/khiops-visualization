var hyt;(()=>{"use strict";var t={2:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Frame=e.Transition=e.Hypertree=void 0;const r=n(483),i=n(721),a=n(721),o=n(606),s=n(829),u=n(829),c=n(829),f=n(829),l=n(385),h=n(721);let d=0;e.Hypertree=class{constructor(t,e){this.log=[],this.isInitializing=!1,this.lastCenterNode=void 0,this.api={setModel:t=>new Promise(((e,n)=>{this.isInitializing=!0;const r=l.presets.modelBase();this.args=(0,h.mergeDeep)(r,t),this.update.view.parent(),this.api.setDataloader(e,n,this.args.dataloader),this.api.setLangloader(e,n,this.args.langloader)})),updateNodesVisualization:()=>new Promise(((t,e)=>{const n=JSON.parse(JSON.stringify(this.args.geometry.transformation.state.P));this.updateWeights_(),this.update.transformation(),this.animateTo(t,e,n,null)})),setLangloader:(t,e,n)=>{this.args.langloader=n,this.args.langloader(((e,n,r)=>{this.langMap=e||{},this.updateLang_(),this.update.data(),this.data&&(this.isInitializing=!1,t())}))},setDataloader:(t,e,n)=>{this.args.dataloader=n;const r=performance.now();this.resetData(),this.args.dataloader(((e,n,i)=>{this.initData(e,r,n,i),this.langMap&&(this.isInitializing=!1,t())}))},updateDataloader:(t,e,n)=>{this.args.dataloader=n;const r=performance.now();this.resetData(),this.args.dataloader(((e,n,i)=>{this.initData(e,r,n,i),this.langMap&&(this.isInitializing=!1,t())}))},toggleSelection:t=>{if(this.toggleSelection(t),this.args.objects.pathes.length>11){const t=this.args.objects.selections[0];this.args.objects.selections=this.args.objects.selections.filter((e=>e!==t)),this.removePath("SelectionPath",t)}this.update.pathes()},addPath:(t,e,n)=>{this.addPath(t,e,n)},removePath:(t,e)=>{this.removePath(t,e)},setPathHead:(t,e)=>{this.isInitializing||this.isAnimationRunning()||(this.setPathHead(t,e),this.update.pathes())},selectQuery:(t,e)=>{const n=t?t.toLowerCase():null;this.data.each((t=>{t.pathes.partof=[],t.pathes.headof=void 0,t.pathes.labelcolor=void 0,t.pathes.finalcolor=void 0,t.pathes.isPartOfAnyQuery=!1})),this.args.objects.pathes=[],this.data.each((t=>{t.data&&(t.data.name.toLowerCase().includes(n)&&this.addPath("Query",t),t.precalc&&t.precalc.label&&t.precalc.label.toLowerCase().includes(n)&&this.addPath("Query",t))})),this.update.pathes()},gotoHome:t=>new Promise(((e,n)=>this.animateTo(e,n,{re:0,im:0},null,t))),gotoNode:(t,e)=>new Promise(((n,r)=>{var i,a;(null===(a=null===(i=null==t?void 0:t.layout)||void 0===i?void 0:i.z)||void 0===a?void 0:a.re)&&this.animateTo(n,r,(0,c.CmulR)({re:t.layout.z.re,im:t.layout.z.im},-1),null,e)})),goto:(t,e)=>new Promise(((n,r)=>this.animateTo(n,r,t,e))),gotoλ:t=>new Promise(((e,n)=>this.animateToλ(e,n,t)))},this.update={view:{parent:()=>{this.updateParent()},unitdisk:()=>{this.updateUnitdiskView()}},data:()=>{this.unitdisk.update.data()},transformation:()=>this.unitdisk.update.transformation(),pathes:()=>this.unitdisk.update.pathes(),centernode:t=>{if(this.lastCenterNode&&this.lastCenterNode.mergeId==t.mergeId)return;this.lastCenterNode=t;const e=t.ancestors().reduce(((t,e)=>`${e.precalc.label?"  "+e.precalc.label+"  ":""}${t?"›":""}${t}`),"");this.args.interaction.onCenterNodeChange&&this.args.interaction.onCenterNodeChange(t,e)}},this.virtualCanvas=void 0,this.virtualCanvasContext=void 0,this.btnPathId=(t,e)=>`btn-path-${t}`+("SelectionPath"===t?`-${e.mergeId}`:""),this.view_=t,this.initPromise=this.api.setModel(e)}updateParent(){this.view_.parent.innerHTML="",this.view_.html=i.HTML.parse('<div class="unitdisk-nav">\n        <svg width="100%" height="100%" preserveAspectRatio="xMidYMid meet" viewBox="-0 0 1000 1000">\n        </svg>\n    </div>')(),this.view_.parent.appendChild(this.view_.html),this.updateUnitdiskView()}updateUnitdiskView(){var t=this.view_.html.querySelector(".unitdisk-nav > svg");this.unitdisk=new this.args.geometry.decorator({parent:t,className:"unitDisc",position:"translate(500,500) scale(480)",hypertree:this},{data:null,decorator:null,transformation:this.args.geometry.transformation,transform:t=>this.unitdisk.args.transformation.transformPoint(t.layout.z),layers:this.args.geometry.layers,layerOptions:this.args.geometry.layerOptions,cacheUpdate:this.args.geometry.cacheUpdate,clipRadius:this.args.geometry.clipRadius,nodeRadius:this.args.geometry.nodeRadius,nodeScale:this.args.geometry.nodeScale,nodeFilter:this.args.geometry.nodeFilter,linkWidth:this.args.geometry.linkWidth,linkCurvature:this.args.geometry.linkCurvature,offsetLabels:this.args.geometry.offsetLabels})}resetData(){this.unitdisk.args.data=void 0,this.data=void 0,this.langMap=void 0,this.args.geometry.transformation.state.λ=.001,this.args.geometry.transformation.state.P.re=0,this.args.geometry.transformation.state.P.im=0,this.args.filter.weightFilter.magic=20,this.args.geometry.transformation.cache.centerNode=void 0,this.args.objects.selections=[],this.args.objects.pathes=[],this.args.objects.traces=[],requestAnimationFrame((()=>this.update.data()))}initData(t,e,n,i){var a=performance.now(),u=1;d++,this.data=r.hierarchy(t).each((t=>{t.globelhtid=d,t.mergeId=u++,t.data=t.data||{},t.precalc={},t.pathes={},t.layout=null,t.layoutReference=null})),this.unitdisk.args.data=this.data,this.args.geometry.transformation.cache.N=this.data.descendants().length;const c=this.args.layout.rootWedge.orientation,f=this.args.layout.rootWedge.angle;this.data.layout={wedge:{α:(0,s.πify)(c-f/2),Ω:(0,s.πify)(c+f/2)}},(0,o.setZ)(this.data,{re:0,im:0});var l=performance.now();this.updateWeights_(),this.data.each((t=>t.precalc.clickable=!0)),this.modelMeta={Δ:[n-e,a-n,l-a,performance.now()-l],filesize:i,nodecount:u-1},this.updateLang_(),this.findInitλ_()}updateWeights_(){this.sum(this.data,this.args.layout.weight,"layoutWeight"),this.sum(this.data,this.args.filter.weightFilter.weight,"cullingWeight"),this.sum(this.data,this.args.layout.weight,"visWeight"),this.data.each((t=>t.precalc.weightScale=(Math.log2(t.precalc.visWeight)||1)/(Math.log2(this.data.precalc.visWeight||this.data.children.length)||1)))}sum(t,e,n){t.eachAfter((t=>{let r=+e(t)||0;const i=t.children;for(var a=i&&i.length;--a>=0;)r+=i[a].precalc[n];t.precalc[n]=r}))}updateLang_(){this.data&&(this.data.each((t=>this.args.langInitBFS(this,t))),this.updateLabelLen_())}findInitλ_(){for(let t=0;t<50;t++){const e=t/50,n=.02+.75*(0,f.sigmoid)(e);if(this.args.geometry.transformation.state.λ=n,this.updateLayoutPath_(this.data),this.unitdisk.args.cacheUpdate(this.unitdisk,this.unitdisk.cache),this.args.geometry.transformation.cache.unculledNodes.reduce(((t,e)=>Math.max(t,e.layout.zp.r)),0)>(this.args.layout.initSize||.95))break}this.data.each((t=>t.layoutReference=(0,a.clone)(t.layout)))}updateLabelLen_(){var t=this.virtualCanvas||(this.virtualCanvas=document.createElement("canvas")),e=this.virtualCanvasContext||(this.virtualCanvasContext=t.getContext("2d"));const n=(t,n)=>{this.data.each((r=>{if(r.precalc[t]){const i=e.measureText(r.precalc[t]);r.precalc[n]=i.width/200/window.devicePixelRatio}else r.precalc[n]=void 0}))};n("label","labels-forcelen"),n("label","labelslen"),n("label2","labels2len"),n("icon","emojislen")}updateLayoutPath_(t){const e=this.args.geometry.transformation,n=performance.now();t.ancestors().reverse().forEach((t=>this.args.layout.type(t,e.state.λ,!0))),e.state.P=(0,c.CmulR)(t.layout.z,-1),this.layoutMeta={Δ:performance.now()-n}}addIfNotInSafe(t,e,n="unshift"){return t?(t.includes(e)||t[n](e),t):[e]}toggleSelection(t){this.args.objects.selections.includes(t)?(this.args.objects.selections=this.args.objects.selections.filter((e=>e!==t)),this.removePath("SelectionPath",t)):(this.args.objects.selections.push(t),this.addPath("SelectionPath",t))}setPathHead(t,e){const n=t?t.type:"HoverPath",r=this.btnPathId(n,e),i=this.args.objects.pathes.find((t=>t.id===r));i&&this.removePath(n,i.head),e&&this.addPath(n,e)}addPath(t,e,n){n=n||"#8ba9dd";const r={type:t,id:this.btnPathId(t,e),icon:{HoverPath:"mouse"}[t]||"place",head:e,headName:e.precalc.label,ancestors:e.ancestors(),color:n};return this.args.objects.pathes.push(r),e.pathes.headof=r,"HoverPath"!==t&&(e.pathes.finalcolor=e.pathes.labelcolor=r.color),e.ancestors().forEach((e=>{e.pathes.partof=this.addIfNotInSafe(e.pathes.partof,r,"HoverPath"===t?"push":"unshift"),"HoverPath"!==t&&(e.pathes.finalcolor=r.color),e.pathes[`isPartOfAny${t}`]=!0})),r}removePath(t,e){try{const n=this.btnPathId(t,e);this.args.objects.pathes&&(this.args.objects.pathes=this.args.objects.pathes.filter((t=>t.id!==n)),e.pathes.headof=void 0,"HoverPath"!==t&&(e.pathes.labelcolor=void 0),e.ancestors().forEach((e=>{if(e.pathes.partof){e.pathes.partof=e.pathes.partof.filter((t=>t.id!==n)),e.pathes.finalcolor=e.pathes.partof.length>0?e.pathes.partof[0].color:void 0,"none"===e.pathes.finalcolor&&(e.pathes.finalcolor=void 0);const r=`isPartOfAny${t}`;e.pathes[r]=e.pathes.partof.some((e=>e.type===t))}})))}catch(t){console.warn("no path to remove",t)}}drawDetailFrame(){this.update.data()}animateUp(t,e){const n=this.args.geometry.transformation.state.λ;this.args.geometry.transformation.state.λ=.001,this.animateToλ(t,e,n)}animateToλ(t,e,n,r=300){const i=this.args.geometry.transformation.state.λ-n;new g({name:"animateToλ",hypertree:this,duration:r,resolve:t,reject:e,frame:t=>{const e=1-(0,f.sigmoid)(t),r=n+i*e;this.args.geometry.transformation.state.λ=r,this.updateLayoutPath_(this.args.geometry.transformation.cache.centerNode),this.update.transformation()}})}animateTo(t,e,n,r,i=750){const o=(0,a.clone)(this.args.geometry.transformation.state),s=(0,c.CsubC)(o.P,n);new g({name:"animateTo",resolve:t,reject:e,hypertree:this,duration:i,frame:t=>{const e=1-(0,f.sigmoid)(t),r=(0,c.CmulR)(s,e),i=(0,c.CaddC)(n,r);(0,u.CassignC)(this.args.geometry.transformation.state.P,i),this.update.transformation()}})}isAnimationRunning(){const t=this.unitdisk&&this.unitdisk.isDraging,e=this.unitdisk&&this.unitdisk.isDraging,n=!!this.transition&&this.transition.lowdetail;return t||e||n}};class p{constructor(t){this.frames=[],this.lowdetail=!0,this.hypertree=t}begin(){this.beginTime=performance.now()}end(){this.currentframe=void 0,this.hypertree.transition=void 0}}e.Transition=p;class v{constructor(t){this.nr=t,this.created=performance.now()}}e.Frame=v;class g extends p{constructor(t){if(super(t.hypertree),t.hypertree.transition)return;t.hypertree.transition=this,this.hypertree.log.push(this.hypertree.transition);const e=()=>{this.currentframe=new v(0),this.frames.push(this.currentframe);const n=performance.now();this.beginTime||(this.begin(),this.endTime=n+t.duration);const r=(n-this.beginTime)/t.duration;n>this.endTime?(t.frame(1),this.end(),t.resolve()):(t.frame(r),requestAnimationFrame((()=>e()))),this.currentframe=void 0};requestAnimationFrame((()=>e()))}}},3:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionLayer2=void 0;const r=n(483),i=n(829),a=n(829),o=n(829),s=n(829),u=n(829),c=n(167);e.InteractionLayer2=class{constructor(t,e){this.name="interaction-2",this.update={parent:()=>this.updateParent(),data:()=>{},transformation:()=>{},style:()=>{}},this.panStart=null,this.pinchInitDist=null,this.pinchInitλp=null,this.nopinch=null,this.pinchcenter=null,this.pinchPreservingNode=null,this.currMousePosAsArr=()=>r.mouse(this.view.parent.node()),this.currMousePosAsC=()=>(0,a.ArrtoC)(this.currMousePosAsArr()),this.findNodeByCell=()=>{var t=this.currMousePosAsArr(),e=this.view.unitdisk.cache.voronoiDiagram.find(t[0],t[1]);return e?e.data:void 0},this.findUnculledNodeByCell=t=>{const e=r.voronoi().x((t=>t.cache.re)).y((t=>t.cache.im)).extent([[-2,-2],[2,2]])(this.view.unitdisk.cache.unculledNodes).find(t.re,t.im);return e?e.data:void 0},this.view=t,this.args=e,this.htapi=this.view.hypertree.api,this.hoverpath=this.view.hypertree.args.objects.pathes[0],this.mousedown=!1}updateParent(){const t=t=>t.on("wheel",(t=>this.fireMouseWheelEvent())).on("mousedown",(t=>this.fireMouseDown())).on("mousemove",(t=>{this.fireNodeHover(this.findNodeByCell()),this.fireMouseMove()})).on("mouseup",(t=>this.fireMouseUp())).on("mouseout",(t=>{this.fireNodeHover(void 0),this.htapi.setPathHead(this.hoverpath,void 0)})).on("touchstart",(t=>this.fireTouchEvent("onPointerStart"))).on("touchmove",(t=>this.fireTouchEvent("onPointerMove"))).on("touchend",(t=>this.fireTouchEvent("onPointerEnd"))).on("touchcancel",(t=>this.fireTouchEvent("onPointerEnd")));this.view.parent.append("circle").attr("class","mouse-circle").attr("r",5).call(t),this.view.parent.append("circle").attr("class","mouse-circle-cursor").attr("r",this.args.mouseRadius).call(t)}fireMouseDown(){this.mousedown=!0,this.fireMouseEvent("onPointerStart")}fireMouseMove(){this.mousedown?this.fireMouseEvent("onPointerMove"):this.view.hypertree.isInitializing||this.view.hypertree.isAnimationRunning()||this.htapi.setPathHead(this.hoverpath,this.findNodeByCell())}fireMouseUp(){this.mousedown=!1,this.fireMouseEvent("onPointerEnd")}async fireNodeHover(t){if(this.mousedown)return(0,c.setHoverNodeCache)(void 0,this.view.unitdisk.cache),void this.view.hypertree.args.interaction.onHoverNodeChange(void 0);if(!(!this.view.unitdisk.cache.lastHovered&&!t||this.view.unitdisk.cache.lastHovered&&t&&this.view.unitdisk.cache.lastHovered.data.id===t.data.id))if(t&&t.distScale>.5)(0,c.setHoverNodeCache)(t,this.view.unitdisk.cache),this.view.hypertree.args.interaction.onHoverNodeChange&&this.view.hypertree.args.interaction.onHoverNodeChange(t);else{if(await this.delay(100),!this.view.unitdisk.cache.lastHovered)return;(0,c.setHoverNodeCache)(void 0,this.view.unitdisk.cache),this.view.hypertree.args.interaction.onHoverNodeChange&&this.view.hypertree.args.interaction.onHoverNodeChange(void 0)}}delay(t){return new Promise((e=>{setTimeout((()=>e(null)),t)}))}fireMouseEvent(t){r.event.stopPropagation(),r.event.preventDefault();const e=this.currMousePosAsC();requestAnimationFrame((()=>{try{this[t]("mouse",e)&&this.view.hypertree.update.transformation()}catch(t){}}))}fireMouseWheelEvent(){r.event.stopPropagation(),r.event.preventDefault();const t=r.event.deltaY,e=this.view.unitdisk.args.transformation.state.λ,n=this.view.hypertree.args.interaction.wheelFactor,i=t>=0?e/n:e*n;if(i>this.view.hypertree.args.interaction.λbounds[0]&&i<this.view.hypertree.args.interaction.λbounds[1]){const t=this.currMousePosAsArr();requestAnimationFrame((()=>{const e=this.view.unitdisk.args.transformation,n=this.findUnculledNodeByCell((0,a.ArrtoC)(t));e.onDragλ(i),this.view.hypertree.updateLayoutPath_(n),e.state.P=(0,u.compose)(e.state,(0,u.shift)(e.state,{re:0,im:0},n.cache)).P,this.view.hypertree.update.transformation()}))}}fireTouchEvent(t){r.event.stopPropagation(),r.event.preventDefault();const e=r.event.changedTouches;let n=!1;for(let i=0;i<e.length;++i){const o=e[i].identifier,s=(0,a.ArrtoC)(r.touches(this.view.parent.node(),e)[i]);n=this[t](o,s)||n}requestAnimationFrame((()=>{n&&this.view.hypertree.update.transformation()}))}onPointerStart(t,e){if((0,a.CktoCp)(e).r>=1)return!1;if(this.view.hypertree.args.objects.traces.push({id:t,points:[e]}),1===this.view.hypertree.args.objects.traces.length)this.dST=(0,s.clone)(this.view.unitdisk.args.transformation.state),this.view.unitdisk.isDraging=!0,this.panStart=e,this.nopinch=!0;else if(2===this.view.hypertree.args.objects.traces.length){const t=this.view.hypertree.args.objects.traces[0],n=t.points[t.points.length-1];this.pinchcenter=(0,o.CmulR)((0,o.CaddC)(n,e),.5),this.view.unitdisk.pinchcenter=this.pinchcenter,this.pinchPreservingNode=this.findUnculledNodeByCell(this.pinchcenter),this.pinchInitDist=this.dist(n,e),this.pinchInitλp=this.view.unitdisk.args.transformation.state.λ,this.nopinch=!1}return!1}onPointerMove(t,e){const n=this.findTrace(t);if(!n)return!1;if(n.points.push(e),1===this.view.hypertree.args.objects.traces.length)this.view.unitdisk.args.transformation.state.P=(0,u.compose)(this.dST,(0,u.shift)(this.dST,this.panStart,(0,i.maxR)(e,.9))).P;else if(2===this.view.hypertree.args.objects.traces.length){const t=this.view.hypertree.args.objects.traces[0],e=t.points[t.points.length-1],n=this.view.hypertree.args.objects.traces[1],r=n.points[n.points.length-1],a=this.dist(e,r)/this.pinchInitDist,s=this.pinchInitλp*a;if(s>this.view.hypertree.args.interaction.λbounds[0]&&s<this.view.hypertree.args.interaction.λbounds[1]){const t=(0,i.maxR)((0,o.CmulR)((0,o.CaddC)(e,r),.5),this.args.mouseRadius),n=this.view.unitdisk.args.transformation;n.onDragλ(s),this.view.hypertree.updateLayoutPath_(this.pinchPreservingNode),n.state.P=(0,u.compose)(n.state,(0,u.shift)(n.state,{re:0,im:0},this.pinchPreservingNode.cache)).P,n.state.P=(0,u.compose)(n.state,(0,u.shift)(n.state,this.pinchcenter,t)).P,this.pinchcenter=(0,o.CmulR)((0,o.CaddC)(this.pinchcenter,t),.5),this.view.unitdisk.pinchcenter=this.pinchcenter}}return!0}onPointerEnd(t,e){if(this.view.hypertree.args.objects.traces=this.view.hypertree.args.objects.traces.filter((e=>e.id!==t)),this.pinchcenter=void 0,this.view.unitdisk.pinchcenter=this.pinchcenter,this.pinchPreservingNode=void 0,0===this.view.hypertree.args.objects.traces.length){if(this.dST=void 0,this.view.unitdisk.isDraging=!1,this.dist(this.panStart,e)<.006&&this.nopinch&&(0,a.CktoCp)(e).r<1)return this.click(e),!1}else if(1===this.view.hypertree.args.objects.traces.length){const t=this.view.hypertree.args.objects.traces[0].points;this.panStart=t[t.length-1],this.dST=(0,s.clone)(this.view.unitdisk.args.transformation.state),this.view.unitdisk.isDraging=!0}return!0}ripple(t,e,n,r=!0){if(r&&!this.view.unitdisk.layerStack.layers.cells.args.invisible){const r=this.view.parent.append("clipPath").attr("id",`cell-clip-${t.mergeId}`).html(`<use xlink:href="#cell-${t.mergeId}"></use>`),i=this.view.parent.insert("g",":first-child").attr("class","ripple-world").attr("clip-path",`url(#cell-clip-${t.mergeId})`).append("circle").attr("class","ripple-circle").attr("r",.1).attr("cx",e.re).attr("cy",e.im).attr("transform-origin",`${e.re}  ${e.im}`).on("animationend",(()=>{i.remove(),r.remove(),n()}))}else{const t=this.view.parent.insert("g",":first-child").attr("class","ripple-world").append("circle").attr("class","ripple-circle").attr("r",.1).attr("cx",e.re).attr("cy",e.im).attr("transform-origin",`${e.re}  ${e.im}`).on("animationend",(()=>{t.remove(),n()}))}}click(t){const e=this.view.unitdisk.cache.voronoiDiagram.find(t.re,t.im),n=e?e.data:void 0;this.view.hypertree.isAnimationRunning()||this.view.hypertree.args.interaction.onNodeClick(n,t,this)}findTrace(t){return this.view.hypertree.args.objects.traces.find((e=>e.id===t))}dist(t,e){const n=(0,o.CsubC)(t,e);return Math.sqrt(n.re*n.re+n.im*n.im)}}},6:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CellLayer=void 0;const r=n(115);e.CellLayer=class{constructor(t,e){this.name="cells",this.update={parent:()=>this.attach(),data:()=>this.d3updatePattern.update.data(),transformation:()=>this.d3updatePattern.update.transformation(),style:()=>this.d3updatePattern.update.style()},this.view=t,this.args=e}attach(){this.d3updatePattern=new r.D3UpdatePattern({parent:this.view.parent,layer:this,clip:this.args.clip,data:this.args.data,name:this.name,className:"cell",elementType:"polygon",create:t=>t.attr("id",(t=>"cell-"+t.data.mergeId)).classed("leaf",!1).classed("lazy",!0).style("stroke",(t=>t.pathes&&t.pathes.labelcolor||this.args.stroke(t))).style("stroke-width",(t=>t.pathes&&t.pathes.labelcolor||this.args.strokeWidth(t))),updateColor:t=>t.classed("hovered",(t=>t.data.isPartOfAnyHoverPath&&t.data.parent)).style("fill",(t=>t.pathes&&t.pathes.labelcolor||this.args.fill(t))),updateTransform:t=>t.attr("points",(t=>t&&t.join(" ")))})}}},16:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.cacheUpdate=function(t,e){const n=performance.now(),i=function(t,e){let n=null,r=[];if(t.args.data)for(n=e.centerNode||t.args.data,r.push(n);;){if(u(t,0,n),n.cachep.r>=t.view.hypertree.args.filter.cullingRadius){r=r.slice(0,-1);break}if(!n.parent)break;n=n.parent,r.push(n)}return r.reverse()}(t,e),a=function(t,e,n){const i=t.args.transformation.state.λ;e.focusR=Math.min(i*t.view.hypertree.args.filter.focusExtension,t.view.hypertree.args.filter.maxFocusRadius),function(t,e){const n=t.view.hypertree.args.filter.weightFilter,r=n.rangeNodes,i=n.rangeCullingWeight,a=n.alpha;e.unculledNodes&&(e.unculledNodes.length>r.max&&n.magic>i.min&&(n.magic/=a),e.unculledNodes.length<r.min&&n.magic<i.max&&(n.magic*=a))}(t,e);const a=n[0];e.unculledNodes=[],e.spezialNodes=[t.args.data,a].filter((t=>t)),e.emojis=[],e.cells=[];const o=(t.view.hypertree.isAnimationRunning(),1);e.centerNode=void 0;const s=performance.now();return t.args.data&&(u(t,0,t.args.data),c(t,e,t.args.data,e.focusR,0)),(0,r.dfs2)({node:a,abortFilter:function(n,r,i){return n.minWeight=i[0].precalc.cullingWeight/t.view.hypertree.args.filter.weightFilter.magic/o,u(t,0,n),c(t,e,n,e.focusR,n.minWeight),!n.isOut},preAction:t=>e.unculledNodes.push(t),highway:n}),s}(t,e,i),f=performance.now();t.view.hypertree.args.objects.pathes.forEach((n=>function(t,e,n){if("HoverPath"!==n.type){const r=[];let i=n.head;for(;i.parent&&!e.unculledNodes.includes(i);)r.push(i),i=i.parent;r.reverse().forEach((n=>{u(t,0,n),c(t,e,n,e.focusR,0)})),e.unculledNodes=e.unculledNodes.concat(r)}}(t,e,n))),e.links=e.unculledNodes.slice(1),e.leafOrLazy=e.unculledNodes.filter(t.args.nodeFilter),e.paths=e.links.filter((t=>t.pathes.partof&&t.pathes.partof.length)),e.weights=[];const l=performance.now();(!t.view.hypertree.isAnimationRunning()||t.layerStack&&!t.layerStack.layers["labels-force"].args.hideOnDrag||t.layerStack&&!t.layerStack.layers.labels.args.hideOnDrag)&&(0,s.doLabelStuff)(t,e),(!t.view.hypertree.isAnimationRunning()||t.layerStack&&!t.layerStack.layers.cells.args.hideOnDrag)&&(0,o.doVoronoiStuff)(t,e),e.centerNode&&t.view.hypertree.update.centernode(e.centerNode),t.cacheMeta={minWeight:i.map((e=>e.precalc.cullingWeight/t.view.hypertree.args.filter.weightFilter.magic)),Δ:[a-n,f-a,l-f,performance.now()-l]}};const r=n(829),i=n(829),a=n(829),o=n(167),s=n(167);function u(t,e,n){n.cache=n.cache||{re:0,im:0},t.view.hypertree.args.layout.type(n,t.args.transformation.state.λ,!0),(0,a.CassignC)(n.cache,t.args.transform(n)),n.cachep=(0,i.CktoCp)(n.cache)}function c(t,e,n,r,i){n.strCache=`${n.cache.re} ${n.cache.im}`,n.transformStrCache=` translate(${n.strCache})`,n.transformStrCacheZ=` translate(${n.layout.zStrCache})`,n.isOutλ=n.cachep.r>=r,n.isOut99=n.cachep.r>=t.view.hypertree.args.filter.cullingRadius,n.isOutWeight=n.precalc.cullingWeight<=i,n.distScale=t.args.transformation.transformDist(n.cache),n.dampedDistScale=n.distScale*(.5/n.distScale+.5),n.scaleStrText=` scale(${n.dampedDistScale})`,n.isOut=!(!n.isOut99&&!n.isOutWeight||!n.isOutλ||n.parent&&!n.parent.isOutλ),n.hasOutPeriChildren=n.hasOutWeightChildren=n.hasOutChildren=!1,n.parent&&n.isOut99&&(n.parent.hasOutPeriChildren=!0),n.parent&&n.isOutWeight&&(n.parent.hasOutWeightChildren=!0),n.parent&&n.isOut&&(n.parent.hasOutChildren=!0),(!e.centerNode||e.centerNode.cachep.r>n.cachep.r)&&(e.centerNode=n)}},115:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.D3UpdatePattern=void 0,e.D3UpdatePattern=class{constructor(t){this.update={parent:()=>this.updateParent(),data:()=>this.updateData(),transformation:()=>this.elements.call(this.args.updateTransform),style:()=>this.elements.call(this.args.updateColor)},this.mayEval=t=>"function"==typeof t?t():t,this.args=t,this.updateParent()}updateParent(){this.mainSvgGroup=this.args.parent.append("g").attr("id",this.args.name).attr("clip-path",this.args.clip?`url(${this.args.clip})`:void 0).style("transform","translateZ(0)"),this.elements=this.mainSvgGroup.selectAll(this.args.elementType)}updateData(){this.data=[];var t=this.args.layer.view.hypertree.isAnimationRunning();(!t&&!this.args.layer.args.invisible||t&&!this.args.layer.args.hideOnDrag)&&(this.data=this.mayEval(this.args.data)),this.elements=this.elements.data(this.data,(t=>t&&t.mergeId)),this.elements.exit().remove();const e=this.elements.enter().append(this.args.elementType).attr("class",this.args.className).call(this.args.create);this.elements=this.elements.merge(e).call(this.args.updateTransform).call(this.args.updateColor)}}},126:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TransformationCache=e.NegTransformation=e.PanTransformation=e.HyperbolicTransformation=void 0;const r=n(829),i=n(829),a=n(829),o=n(829);e.HyperbolicTransformation=class{constructor(t){this.cache=new s,this.maxMouseR=.95,this.transformPoint=t=>(0,a.h2e)(this.state,t),this.transformDist=t=>(0,a.lengthDilledation)(t),this.onDragStart=t=>this.dST=(0,o.clone)(this.state),this.onDragEnd=t=>this.dST=void 0,this.isMoving=()=>void 0!==this.dST,this.onDragP=(t,e)=>{const n=(0,a.compose)(this.dST,(0,a.shift)(this.dST,t,(0,o.maxR)(e,this.maxMouseR)));this.state.P=n.P,this.state.θ=n.θ},this.onDragθ=(t,e)=>{},this.onDragλ=t=>this.state.λ=t,this.state=t}},e.PanTransformation=class{constructor(t){this.cache=new s,this.maxMouseR=1e3,this.transformPoint=t=>{var e=this.state.λ,n=(0,r.CktoCp)(this.state.θ).θ,a=(0,r.CktoCp)(t),o=(0,r.CptoCk)({θ:a.θ+n,r:a.r});return(0,i.CmulR)((0,i.CaddC)(o,(0,i.CdivR)(this.state.P,e)),e)},this.transformDist=t=>1,this.onDragStart=t=>this.dST=(0,o.clone)(this.state),this.onDragEnd=t=>this.dST=void 0,this.isMoving=()=>void 0!==this.dST,this.onDragP=(t,e)=>(0,r.CassignC)(this.state.P,(0,o.maxR)((0,i.CaddC)(this.dST.P,(0,i.CsubC)(e,t)),.95)),this.onDragθ=(t,e)=>(0,r.CassignC)(this.state.θ,(0,o.setR)(e,1)),this.onDragλ=t=>this.state.λ=t,this.state=t}},e.NegTransformation=class{constructor(t){this.cache=null,this.maxMouseR=0,this.transformPoint=t=>this.decorated.transformPoint((0,i.CmulR)(t,-1)),this.transformDist=t=>this.decorated.transformDist((0,i.CmulR)(t,-1)),this.onDragStart=t=>this.decorated.onDragStart((0,i.CmulR)(t,-1)),this.onDragEnd=t=>this.decorated.onDragEnd((0,i.CmulR)(t,-1)),this.isMoving=()=>this.decorated.isMoving(),this.onDragP=(t,e)=>this.decorated.onDragP((0,i.CmulR)(t,-1),(0,i.CmulR)(e,-1)),this.onDragθ=(t,e)=>this.decorated.onDragθ((0,i.CmulR)(t,-1),(0,i.CmulR)(e,-1)),this.onDragλ=t=>this.decorated.onDragλ(t),this.decorated=t,this.state=t.state,this.maxMouseR=t.maxMouseR,this.cache=t.cache}};class s{constructor(){this.cells=[]}}e.TransformationCache=s},167:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.doVoronoiStuff=function(t,e){e.voronoiDiagram=t.voronoiLayout(e.unculledNodes.filter((t=>t.precalc.clickable))),e.cells=e.voronoiDiagram.polygons()},e.setHoverNodeCache=function(t,e){e.lastHovered=t},e.doLabelStuff=function(t,e){var n=e.unculledNodes.filter((t=>t.precalc.label)).filter((t=>!t.parent||!t.isOutλ));let r=1;for(;n.length>t.view.hypertree.args.filter.maxlabels;)n=n.filter((t=>{var n;return t.precalc.cullingWeight*(t.parent===e.centerNode?4:1)>t.minWeight*r||!t.parent||(null===(n=t.pathes)||void 0===n?void 0:n.isPartOfAnyHoverPath)})),r/=.8;e.labels=n}},182:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundLayer=void 0;const r=n(115);e.BackgroundLayer=class{constructor(t,e){this.name="background",this.update={parent:()=>this.attach(),data:()=>this.d3updatePattern.update.data(),transformation:()=>this.d3updatePattern.update.transformation(),style:()=>this.d3updatePattern.update.style()},this.view=t,this.args=e}attach(){this.d3updatePattern=new r.D3UpdatePattern({parent:this.view.parent,layer:this,data:[1],name:this.name,className:"background-circle",elementType:"circle",create:t=>t.attr("r",1).attr("fill","rgba(180, 180, 180, 0.7)"),updateColor:t=>{},updateTransform:t=>{}})}}},385:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.presets=void 0;const r=n(606),i=n(824),a=n(902),o=n(566),s=n(16),u=Math.PI,c=t=>t.hasOutChildren&&t.isOutλ,f=t=>!t.children||!t.children.length,l=t=>c(t)||(t=>!t.parent)(t)||f(t);var h=t=>t.distScale*(c(t)?.8:1),d=t=>.025*t.distScale*t.precalc.weightScale;e.presets={modelBase:()=>({langloader:t=>t(),langInitBFS:(t,e)=>{e.precalc.label=void 0},objects:{selections:[],pathes:[],traces:[]},layout:{type:r.layoutBergé,weight:t=>f(t)?1:0,initSize:.97,rootWedge:{orientation:3*u/2,angle:3*u/2}},filter:{type:"magic",cullingRadius:.99,weightFilter:{magic:160,alpha:1.05,weight:t=>f(t)?1:0,rangeCullingWeight:{min:4,max:500},rangeNodes:{min:500,max:1e3}},focusExtension:3,maxFocusRadius:1,maxlabels:500},geometry:{decorator:a.UnitDisk,cacheUpdate:s.cacheUpdate,layers:o.layerSrc,layerOptions:{},clipRadius:1,nodeRadius:(t,e)=>.01*(e.children&&e.parent?(t=>t.precalc.weightScale)(e):1),nodeScale:h,nodeFilter:l,offsetLabels:o.labeloffsets.labeloffset,linkWidth:d,linkCurvature:"-",transformation:new i.HyperbolicTransformation({P:{re:0,im:0},θ:{re:1,im:0},λ:.1})},interaction:{mouseRadius:.9,onNodeClick:(t,e)=>{},onCenterNodeChange:t=>{},onWikiCenterNodeChange:t=>{},onHoverNodeChange:t=>{},onNodeSelect:()=>{},onNodeHold:()=>{},onNodeHover:()=>{},λbounds:[1/40,.45],wheelFactor:1.175}})}},470:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeLayer=void 0;const r=n(115);e.NodeLayer=class{constructor(t,e){this.update={parent:()=>this.attach(),data:()=>this.d3updatePattern.update.data(),transformation:()=>this.d3updatePattern.update.transformation(),style:()=>this.d3updatePattern.update.style()},this.view=t,this.args=e,this.name=e.name}attach(){this.d3updatePattern=new r.D3UpdatePattern({parent:this.view.parent,layer:this,clip:this.args.clip,data:this.args.data,name:this.args.name,className:this.args.className,elementType:"circle",create:t=>t.attr("r",(t=>this.args.r(t))).classed("root",(t=>!t.parent)).classed("lazy",(t=>t.hasOutChildren)).classed("leaf",(t=>t.parent)).classed("exit",(t=>(!t.children||!t.children.length)&&t.data&&t.data.numLeafs)).style("stroke",(t=>t.pathes&&t.pathes.labelcolor||this.args.stroke(t))).style("stroke-width",(t=>t.pathes&&t.pathes.labelcolor||this.args.strokeWidth(t))),updateColor:t=>t.classed("hovered",(t=>t.pathes&&t.pathes.isPartOfAnyHoverPath)).classed("selected",(t=>t.pathes&&t.pathes.isPartOfAnySelectionPath)).style("fill",(t=>t.pathes&&t.pathes.labelcolor||this.args.fill(t))).style("fill-opacity",(t=>this.args.opacity(t)||1)),updateTransform:t=>{t.attr("transform",(t=>this.args.transform(t))).style("stroke",(t=>t.pathes&&t.pathes.labelcolor)).attr("r",(t=>{if(this.args.r(t)>0)return this.args.r(t)}))}})}}},483:(t,e,n)=>{n.r(e),n.d(e,{FormatSpecifier:()=>xu,ZoomTransform:()=>oP,active:()=>ei,arc:()=>Rw,area:()=>Iw,areaRadial:()=>Xw,ascending:()=>i,autoType:()=>Bo,axisBottom:()=>ut,axisLeft:()=>ct,axisRight:()=>st,axisTop:()=>ot,bisect:()=>c,bisectLeft:()=>u,bisectRight:()=>s,bisector:()=>a,blob:()=>As,brush:()=>Si,brushSelection:()=>ki,brushX:()=>Ni,brushY:()=>Pi,buffer:()=>Es,chord:()=>zi,clientPoint:()=>jn,cluster:()=>qd,color:()=>Ge,contourDensity:()=>oo,contours:()=>to,create:()=>uw,creator:()=>se,cross:()=>h,csv:()=>zs,csvFormat:()=>Po,csvFormatBody:()=>So,csvFormatRow:()=>To,csvFormatRows:()=>Ao,csvFormatValue:()=>Eo,csvParse:()=>ko,csvParseRows:()=>No,cubehelix:()=>$a,curveBasis:()=>Sx,curveBasisClosed:()=>Tx,curveBasisOpen:()=>Dx,curveBundle:()=>Lx,curveCardinal:()=>jx,curveCardinalClosed:()=>Ix,curveCardinalOpen:()=>qx,curveCatmullRom:()=>$x,curveCatmullRomClosed:()=>Vx,curveCatmullRomOpen:()=>Xx,curveLinear:()=>Ow,curveLinearClosed:()=>Zx,curveMonotoneX:()=>iM,curveMonotoneY:()=>aM,curveNatural:()=>uM,curveStep:()=>fM,curveStepAfter:()=>hM,curveStepBefore:()=>lM,customEvent:()=>me,descending:()=>d,deviation:()=>g,dispatch:()=>vt,drag:()=>po,dragDisable:()=>Ae,dragEnable:()=>Te,dsv:()=>Os,dsvFormat:()=>Mo,easeBack:()=>Ms,easeBackIn:()=>ws,easeBackInOut:()=>Ms,easeBackOut:()=>xs,easeBounce:()=>ms,easeBounceIn:()=>ys,easeBounceInOut:()=>bs,easeBounceOut:()=>ms,easeCircle:()=>os,easeCircleIn:()=>is,easeCircleInOut:()=>os,easeCircleOut:()=>as,easeCubic:()=>Qr,easeCubicIn:()=>Gr,easeCubicInOut:()=>Qr,easeCubicOut:()=>Zr,easeElastic:()=>Ns,easeElasticIn:()=>ks,easeElasticInOut:()=>Ps,easeElasticOut:()=>Ns,easeExp:()=>rs,easeExpIn:()=>es,easeExpInOut:()=>rs,easeExpOut:()=>ns,easeLinear:()=>Fo,easePoly:()=>Xo,easePolyIn:()=>Vo,easePolyInOut:()=>Xo,easePolyOut:()=>Wo,easeQuad:()=>Yo,easeQuadIn:()=>Ho,easeQuadInOut:()=>Yo,easeQuadOut:()=>$o,easeSin:()=>Ko,easeSinIn:()=>Qo,easeSinInOut:()=>Ko,easeSinOut:()=>Jo,entries:()=>da,event:()=>de,extent:()=>y,forceCenter:()=>Ys,forceCollide:()=>iu,forceLink:()=>su,forceManyBody:()=>du,forceRadial:()=>pu,forceSimulation:()=>hu,forceX:()=>vu,forceY:()=>gu,format:()=>Pu,formatDefaultLocale:()=>Du,formatLocale:()=>Eu,formatPrefix:()=>Su,formatSpecifier:()=>wu,geoAlbers:()=>nd,geoAlbersUsa:()=>rd,geoArea:()=>Sc,geoAzimuthalEqualArea:()=>sd,geoAzimuthalEqualAreaRaw:()=>od,geoAzimuthalEquidistant:()=>cd,geoAzimuthalEquidistantRaw:()=>ud,geoBounds:()=>wf,geoCentroid:()=>Rf,geoCircle:()=>$f,geoClipAntimeridian:()=>nl,geoClipCircle:()=>rl,geoClipExtent:()=>sl,geoClipRectangle:()=>ol,geoConicConformal:()=>vd,geoConicConformalRaw:()=>pd,geoConicEqualArea:()=>ed,geoConicEqualAreaRaw:()=>td,geoConicEquidistant:()=>bd,geoConicEquidistantRaw:()=>md,geoContains:()=>Sl,geoDistance:()=>bl,geoEqualEarth:()=>Nd,geoEqualEarthRaw:()=>kd,geoEquirectangular:()=>yd,geoEquirectangularRaw:()=>gd,geoGnomonic:()=>Sd,geoGnomonicRaw:()=>Pd,geoGraticule:()=>El,geoGraticule10:()=>Dl,geoIdentity:()=>Ad,geoInterpolate:()=>Rl,geoLength:()=>gl,geoMercator:()=>ld,geoMercatorRaw:()=>fd,geoNaturalEarth1:()=>Ed,geoNaturalEarth1Raw:()=>Td,geoOrthographic:()=>Rd,geoOrthographicRaw:()=>Dd,geoPath:()=>zh,geoProjection:()=>Qh,geoProjectionMutator:()=>Jh,geoRotation:()=>qf,geoStereographic:()=>Od,geoStereographicRaw:()=>Ld,geoStream:()=>vc,geoTransform:()=>jh,geoTransverseMercator:()=>jd,geoTransverseMercatorRaw:()=>zd,gray:()=>Ca,hcl:()=>Ra,hierarchy:()=>Hd,histogram:()=>E,hsl:()=>cn,html:()=>Hs,image:()=>Us,interpolate:()=>On,interpolateArray:()=>Pn,interpolateBasis:()=>vn,interpolateBasisClosed:()=>gn,interpolateBlues:()=>O_,interpolateBrBG:()=>Wb,interpolateBuGn:()=>l_,interpolateBuPu:()=>d_,interpolateCividis:()=>V_,interpolateCool:()=>G_,interpolateCubehelix:()=>iv,interpolateCubehelixDefault:()=>W_,interpolateCubehelixLong:()=>av,interpolateDate:()=>An,interpolateDiscrete:()=>qp,interpolateGnBu:()=>v_,interpolateGreens:()=>j_,interpolateGreys:()=>I_,interpolateHcl:()=>ev,interpolateHclLong:()=>nv,interpolateHsl:()=>Qp,interpolateHslLong:()=>Jp,interpolateHue:()=>Fp,interpolateInferno:()=>ow,interpolateLab:()=>Kp,interpolateMagma:()=>aw,interpolateNumber:()=>Tn,interpolateNumberArray:()=>kn,interpolateObject:()=>En,interpolateOrRd:()=>y_,interpolateOranges:()=>Y_,interpolatePRGn:()=>Gb,interpolatePiYG:()=>Qb,interpolatePlasma:()=>sw,interpolatePuBu:()=>w_,interpolatePuBuGn:()=>b_,interpolatePuOr:()=>Kb,interpolatePuRd:()=>M_,interpolatePurples:()=>q_,interpolateRainbow:()=>Q_,interpolateRdBu:()=>e_,interpolateRdGy:()=>r_,interpolateRdPu:()=>k_,interpolateRdYlBu:()=>a_,interpolateRdYlGn:()=>s_,interpolateReds:()=>H_,interpolateRgb:()=>wn,interpolateRgbBasis:()=>Mn,interpolateRgbBasisClosed:()=>Cn,interpolateRound:()=>Hp,interpolateSinebow:()=>ew,interpolateSpectral:()=>c_,interpolateString:()=>Ln,interpolateTransformCss:()=>Cr,interpolateTransformSvg:()=>kr,interpolateTurbo:()=>nw,interpolateViridis:()=>iw,interpolateWarm:()=>X_,interpolateYlGn:()=>A_,interpolateYlGnBu:()=>P_,interpolateYlOrBr:()=>E_,interpolateYlOrRd:()=>R_,interpolateZoom:()=>Gp,interrupt:()=>vr,interval:()=>RM,isoFormat:()=>TM,isoParse:()=>DM,json:()=>Bs,keys:()=>la,lab:()=>ka,lch:()=>Da,line:()=>Uw,lineRadial:()=>Ww,linkHorizontal:()=>rx,linkRadial:()=>ax,linkVertical:()=>ix,local:()=>fw,map:()=>ea,matcher:()=>_t,max:()=>O,mean:()=>z,median:()=>j,merge:()=>U,min:()=>I,mouse:()=>In,namespace:()=>St,namespaces:()=>Pt,nest:()=>na,now:()=>Zn,pack:()=>dp,packEnclose:()=>Gd,packSiblings:()=>up,pairs:()=>f,partition:()=>bp,path:()=>Yi,permute:()=>B,pie:()=>Fw,piecewise:()=>ov,pointRadial:()=>Gw,polygonArea:()=>uv,polygonCentroid:()=>cv,polygonContains:()=>pv,polygonHull:()=>dv,polygonLength:()=>vv,precisionFixed:()=>Ru,precisionPrefix:()=>Lu,precisionRound:()=>Ou,quadtree:()=>Js,quantile:()=>D,quantize:()=>sv,radialArea:()=>Xw,radialLine:()=>Ww,randomBates:()=>wv,randomExponential:()=>xv,randomIrwinHall:()=>_v,randomLogNormal:()=>bv,randomNormal:()=>mv,randomUniform:()=>yv,range:()=>M,rgb:()=>Ke,ribbon:()=>Qi,scaleBand:()=>Tv,scaleDiverging:()=>Ab,scaleDivergingLog:()=>Tb,scaleDivergingPow:()=>Db,scaleDivergingSqrt:()=>Rb,scaleDivergingSymlog:()=>Eb,scaleIdentity:()=>Vv,scaleImplicit:()=>Sv,scaleLinear:()=>Yv,scaleLog:()=>eg,scaleOrdinal:()=>Av,scalePoint:()=>Dv,scalePow:()=>fg,scaleQuantile:()=>hg,scaleQuantize:()=>dg,scaleSequential:()=>xb,scaleSequentialLog:()=>Mb,scaleSequentialPow:()=>kb,scaleSequentialQuantile:()=>Pb,scaleSequentialSqrt:()=>Nb,scaleSequentialSymlog:()=>Cb,scaleSqrt:()=>lg,scaleSymlog:()=>ag,scaleThreshold:()=>pg,scaleTime:()=>cb,scaleUtc:()=>bb,scan:()=>q,schemeAccent:()=>zb,schemeBlues:()=>L_,schemeBrBG:()=>Vb,schemeBuGn:()=>f_,schemeBuPu:()=>h_,schemeCategory10:()=>Ob,schemeDark2:()=>jb,schemeGnBu:()=>p_,schemeGreens:()=>z_,schemeGreys:()=>U_,schemeOrRd:()=>g_,schemeOranges:()=>$_,schemePRGn:()=>Xb,schemePaired:()=>Ub,schemePastel1:()=>Ib,schemePastel2:()=>Bb,schemePiYG:()=>Zb,schemePuBu:()=>__,schemePuBuGn:()=>m_,schemePuOr:()=>Jb,schemePuRd:()=>x_,schemePurples:()=>B_,schemeRdBu:()=>t_,schemeRdGy:()=>n_,schemeRdPu:()=>C_,schemeRdYlBu:()=>i_,schemeRdYlGn:()=>o_,schemeReds:()=>F_,schemeSet1:()=>qb,schemeSet2:()=>Fb,schemeSet3:()=>Hb,schemeSpectral:()=>u_,schemeTableau10:()=>$b,schemeYlGn:()=>S_,schemeYlGnBu:()=>N_,schemeYlOrBr:()=>T_,schemeYlOrRd:()=>D_,select:()=>Ne,selectAll:()=>hw,selection:()=>ke,selector:()=>yt,selectorAll:()=>bt,set:()=>fa,shuffle:()=>F,stack:()=>gM,stackOffsetDiverging:()=>mM,stackOffsetExpand:()=>yM,stackOffsetNone:()=>dM,stackOffsetSilhouette:()=>bM,stackOffsetWiggle:()=>_M,stackOrderAppearance:()=>wM,stackOrderAscending:()=>MM,stackOrderDescending:()=>kM,stackOrderInsideOut:()=>NM,stackOrderNone:()=>pM,stackOrderReverse:()=>PM,stratify:()=>kp,style:()=>It,sum:()=>H,svg:()=>$s,symbol:()=>Cx,symbolCircle:()=>ox,symbolCross:()=>sx,symbolDiamond:()=>fx,symbolSquare:()=>vx,symbolStar:()=>px,symbolTriangle:()=>yx,symbolWye:()=>xx,symbols:()=>Mx,text:()=>Rs,thresholdFreedmanDiaconis:()=>R,thresholdScott:()=>L,thresholdSturges:()=>T,tickFormat:()=>Hv,tickIncrement:()=>S,tickStep:()=>A,ticks:()=>P,timeDay:()=>Yg,timeDays:()=>Vg,timeFormat:()=>Ey,timeFormatDefaultLocale:()=>Jm,timeFormatLocale:()=>Ay,timeFriday:()=>Og,timeFridays:()=>Fg,timeHour:()=>Xg,timeHours:()=>Gg,timeInterval:()=>yg,timeMillisecond:()=>ry,timeMilliseconds:()=>iy,timeMinute:()=>Qg,timeMinutes:()=>Jg,timeMonday:()=>Eg,timeMondays:()=>Ug,timeMonth:()=>xg,timeMonths:()=>Mg,timeParse:()=>Dy,timeSaturday:()=>zg,timeSaturdays:()=>Hg,timeSecond:()=>ty,timeSeconds:()=>ey,timeSunday:()=>Tg,timeSundays:()=>jg,timeThursday:()=>Lg,timeThursdays:()=>qg,timeTuesday:()=>Dg,timeTuesdays:()=>Ig,timeWednesday:()=>Rg,timeWednesdays:()=>Bg,timeWeek:()=>Tg,timeWeeks:()=>jg,timeYear:()=>bg,timeYears:()=>_g,timeout:()=>ir,timer:()=>Kn,timerFlush:()=>tr,touch:()=>Un,touches:()=>dw,transition:()=>Vr,transpose:()=>$,tree:()=>Dp,treemap:()=>jp,treemapBinary:()=>Up,treemapDice:()=>mp,treemapResquarify:()=>Bp,treemapSlice:()=>Rp,treemapSliceDice:()=>Ip,treemapSquarify:()=>zp,tsv:()=>js,tsvFormat:()=>Oo,tsvFormatBody:()=>zo,tsvFormatRow:()=>Uo,tsvFormatRows:()=>jo,tsvFormatValue:()=>Io,tsvParse:()=>Ro,tsvParseRows:()=>Lo,utcDay:()=>wy,utcDays:()=>xy,utcFormat:()=>Ry,utcFriday:()=>ly,utcFridays:()=>my,utcHour:()=>pb,utcHours:()=>vb,utcMillisecond:()=>ry,utcMilliseconds:()=>iy,utcMinute:()=>yb,utcMinutes:()=>mb,utcMonday:()=>sy,utcMondays:()=>py,utcMonth:()=>lb,utcMonths:()=>hb,utcParse:()=>Ly,utcSaturday:()=>hy,utcSaturdays:()=>by,utcSecond:()=>ty,utcSeconds:()=>ey,utcSunday:()=>oy,utcSundays:()=>dy,utcThursday:()=>fy,utcThursdays:()=>yy,utcTuesday:()=>uy,utcTuesdays:()=>vy,utcWednesday:()=>cy,utcWednesdays:()=>gy,utcWeek:()=>oy,utcWeeks:()=>dy,utcYear:()=>Cy,utcYears:()=>ky,values:()=>ha,variance:()=>v,version:()=>r,voronoi:()=>bC,window:()=>Ot,xml:()=>Fs,zip:()=>V,zoom:()=>yP,zoomIdentity:()=>sP,zoomTransform:()=>uP});var r="5.16.0";function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function a(t){var e;return 1===t.length&&(e=t,t=function(t,n){return i(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}var o=a(i),s=o.right,u=o.left;const c=s;function f(t,e){null==e&&(e=l);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return a}function l(t,e){return[t,e]}function h(t,e,n){var r,i,a,o,s=t.length,u=e.length,c=new Array(s*u);for(null==n&&(n=l),r=a=0;r<s;++r)for(o=t[r],i=0;i<u;++i,++a)c[a]=n(o,e[i]);return c}function d(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function p(t){return null===t?NaN:+t}function v(t,e){var n,r,i=t.length,a=0,o=-1,s=0,u=0;if(null==e)for(;++o<i;)isNaN(n=p(t[o]))||(u+=(r=n-s)*(n-(s+=r/++a)));else for(;++o<i;)isNaN(n=p(e(t[o],o,t)))||(u+=(r=n-s)*(n-(s+=r/++a)));if(a>1)return u/(a-1)}function g(t,e){var n=v(t,e);return n?Math.sqrt(n):n}function y(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var m=Array.prototype,b=m.slice,_=m.map;function w(t){return function(){return t}}function x(t){return t}function M(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}var C=Math.sqrt(50),k=Math.sqrt(10),N=Math.sqrt(2);function P(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=S(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a}function S(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=C?10:a>=k?5:a>=N?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=C?10:a>=k?5:a>=N?2:1)}function A(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=C?i*=10:a>=k?i*=5:a>=N&&(i*=2),e<t?-i:i}function T(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function E(){var t=x,e=y,n=T;function r(r){var i,a,o=r.length,s=new Array(o);for(i=0;i<o;++i)s[i]=t(r[i],i,r);var u=e(s),f=u[0],l=u[1],h=n(s,f,l);Array.isArray(h)||(h=A(f,l,h),h=M(Math.ceil(f/h)*h,l,h));for(var d=h.length;h[0]<=f;)h.shift(),--d;for(;h[d-1]>l;)h.pop(),--d;var p,v=new Array(d+1);for(i=0;i<=d;++i)(p=v[i]=[]).x0=i>0?h[i-1]:f,p.x1=i<d?h[i]:l;for(i=0;i<o;++i)f<=(a=s[i])&&a<=l&&v[c(h,a,0,d)].push(r[i]);return v}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:w(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:w([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?w(b.call(t)):w(t),r):n},r}function D(t,e,n){if(null==n&&(n=p),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function R(t,e,n){return t=_.call(t,p).sort(i),Math.ceil((n-e)/(2*(D(t,.75)-D(t,.25))*Math.pow(t.length,-1/3)))}function L(t,e,n){return Math.ceil((n-e)/(3.5*g(t)*Math.pow(t.length,-1/3)))}function O(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r}function z(t,e){var n,r=t.length,i=r,a=-1,o=0;if(null==e)for(;++a<r;)isNaN(n=p(t[a]))?--i:o+=n;else for(;++a<r;)isNaN(n=p(e(t[a],a,t)))?--i:o+=n;if(i)return o/i}function j(t,e){var n,r=t.length,a=-1,o=[];if(null==e)for(;++a<r;)isNaN(n=p(t[a]))||o.push(n);else for(;++a<r;)isNaN(n=p(e(t[a],a,t)))||o.push(n);return D(o.sort(i),.5)}function U(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n}function I(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&r>n&&(r=n);return r}function B(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function q(t,e){if(n=t.length){var n,r,a=0,o=0,s=t[o];for(null==e&&(e=i);++a<n;)(e(r=t[a],s)<0||0!==e(s,s))&&(s=r,o=a);return 0===e(s,s)?o:void 0}}function F(t,e,n){for(var r,i,a=(null==n?t.length:n)-(e=null==e?0:+e);a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t}function H(t,e){var n,r=t.length,i=-1,a=0;if(null==e)for(;++i<r;)(n=+t[i])&&(a+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(a+=n);return a}function $(t){if(!(i=t.length))return[];for(var e=-1,n=I(t,Y),r=new Array(n);++e<n;)for(var i,a=-1,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r}function Y(t){return t.length}function V(){return $(arguments)}var W=Array.prototype.slice;function X(t){return t}var G=1,Z=2,Q=3,J=4,K=1e-6;function tt(t){return"translate("+(t+.5)+",0)"}function et(t){return"translate(0,"+(t+.5)+")"}function nt(t){return function(e){return+t(e)}}function rt(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function it(){return!this.__axis}function at(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,u=t===G||t===J?-1:1,c=t===J||t===Z?"x":"y",f=t===G||t===Q?tt:et;function l(l){var h=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,d=null==i?e.tickFormat?e.tickFormat.apply(e,n):X:i,p=Math.max(a,0)+s,v=e.range(),g=+v[0]+.5,y=+v[v.length-1]+.5,m=(e.bandwidth?rt:nt)(e.copy()),b=l.selection?l.selection():l,_=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(h,e).order(),x=w.exit(),M=w.enter().append("g").attr("class","tick"),C=w.select("line"),k=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(M),C=C.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),k=k.merge(M.append("text").attr("fill","currentColor").attr(c,u*p).attr("dy",t===G?"0em":t===Q?"0.71em":"0.32em")),l!==b&&(_=_.transition(l),w=w.transition(l),C=C.transition(l),k=k.transition(l),x=x.transition(l).attr("opacity",K).attr("transform",(function(t){return isFinite(t=m(t))?f(t):this.getAttribute("transform")})),M.attr("opacity",K).attr("transform",(function(t){var e=this.parentNode.__axis;return f(e&&isFinite(e=e(t))?e:m(t))}))),x.remove(),_.attr("d",t===J||t==Z?o?"M"+u*o+","+g+"H0.5V"+y+"H"+u*o:"M0.5,"+g+"V"+y:o?"M"+g+","+u*o+"V0.5H"+y+"V"+u*o:"M"+g+",0.5H"+y),w.attr("opacity",1).attr("transform",(function(t){return f(m(t))})),C.attr(c+"2",u*a),k.attr(c,u*p).text(d),b.filter(it).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Z?"start":t===J?"end":"middle"),b.each((function(){this.__axis=m}))}return l.scale=function(t){return arguments.length?(e=t,l):e},l.ticks=function(){return n=W.call(arguments),l},l.tickArguments=function(t){return arguments.length?(n=null==t?[]:W.call(t),l):n.slice()},l.tickValues=function(t){return arguments.length?(r=null==t?null:W.call(t),l):r&&r.slice()},l.tickFormat=function(t){return arguments.length?(i=t,l):i},l.tickSize=function(t){return arguments.length?(a=o=+t,l):a},l.tickSizeInner=function(t){return arguments.length?(a=+t,l):a},l.tickSizeOuter=function(t){return arguments.length?(o=+t,l):o},l.tickPadding=function(t){return arguments.length?(s=+t,l):s},l}function ot(t){return at(G,t)}function st(t){return at(Z,t)}function ut(t){return at(Q,t)}function ct(t){return at(J,t)}var ft={value:function(){}};function lt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ht(r)}function ht(t){this._=t}function dt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function pt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ft,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ht.prototype=lt.prototype={constructor:ht,on:function(t,e){var n,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),o=-1,s=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=a[o]).type)i[n]=pt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=pt(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=a[o]).type)&&(n=dt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ht(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};const vt=lt;function gt(){}function yt(t){return null==t?gt:function(){return this.querySelector(t)}}function mt(){return[]}function bt(t){return null==t?mt:function(){return this.querySelectorAll(t)}}function _t(t){return function(){return this.matches(t)}}function wt(t){return new Array(t.length)}function xt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Mt(t,e,n,r,i,a){for(var o,s=0,u=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new xt(t,a[s]);for(;s<u;++s)(o=e[s])&&(i[s]=o)}function Ct(t,e,n,r,i,a,o){var s,u,c,f={},l=e.length,h=a.length,d=new Array(l);for(s=0;s<l;++s)(u=e[s])&&(d[s]=c="$"+o.call(u,u.__data__,s,e),c in f?i[s]=u:f[c]=u);for(s=0;s<h;++s)(u=f[c="$"+o.call(t,a[s],s,a)])?(r[s]=u,u.__data__=a[s],f[c]=null):n[s]=new xt(t,a[s]);for(s=0;s<l;++s)(u=e[s])&&f[d[s]]===u&&(i[s]=u)}function kt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}xt.prototype={constructor:xt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Nt="http://www.w3.org/1999/xhtml";const Pt={svg:"http://www.w3.org/2000/svg",xhtml:Nt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function St(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Pt.hasOwnProperty(e)?{space:Pt[e],local:t}:t}function At(t){return function(){this.removeAttribute(t)}}function Tt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Et(t,e){return function(){this.setAttribute(t,e)}}function Dt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Rt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Lt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ot(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zt(t){return function(){this.style.removeProperty(t)}}function jt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ut(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function It(t,e){return t.style.getPropertyValue(e)||Ot(t).getComputedStyle(t,null).getPropertyValue(e)}function Bt(t){return function(){delete this[t]}}function qt(t,e){return function(){this[t]=e}}function Ft(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ht(t){return t.trim().split(/^|\s+/)}function $t(t){return t.classList||new Yt(t)}function Yt(t){this._node=t,this._names=Ht(t.getAttribute("class")||"")}function Vt(t,e){for(var n=$t(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Wt(t,e){for(var n=$t(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Xt(t){return function(){Vt(this,t)}}function Gt(t){return function(){Wt(this,t)}}function Zt(t,e){return function(){(e.apply(this,arguments)?Vt:Wt)(this,t)}}function Qt(){this.textContent=""}function Jt(t){return function(){this.textContent=t}}function Kt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function te(){this.innerHTML=""}function ee(t){return function(){this.innerHTML=t}}function ne(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function re(){this.nextSibling&&this.parentNode.appendChild(this)}function ie(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ae(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Nt&&e.documentElement.namespaceURI===Nt?e.createElement(t):e.createElementNS(n,t)}}function oe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function se(t){var e=St(t);return(e.local?oe:ae)(e)}function ue(){return null}function ce(){var t=this.parentNode;t&&t.removeChild(this)}function fe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function le(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}Yt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var he={},de=null;function pe(t,e,n){return t=ve(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ve(t,e,n){return function(r){var i=de;de=r;try{t.call(this,this.__data__,e,n)}finally{de=i}}}function ge(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function ye(t,e,n){var r=he.hasOwnProperty(t.type)?pe:ve;return function(i,a,o){var s,u=this.__on,c=r(e,a,o);if(u)for(var f=0,l=u.length;f<l;++f)if((s=u[f]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function me(t,e,n,r){var i=de;t.sourceEvent=de,de=t;try{return e.apply(n,r)}finally{de=i}}function be(t,e,n){var r=Ot(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function _e(t,e){return function(){return be(this,t,e)}}function we(t,e){return function(){return be(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(he={mouseenter:"mouseover",mouseleave:"mouseout"}));var xe=[null];function Me(t,e){this._groups=t,this._parents=e}function Ce(){return new Me([[document.documentElement]],xe)}Me.prototype=Ce.prototype={constructor:Me,select:function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],u=s.length,c=r[i]=new Array(u),f=0;f<u;++f)(a=s[f])&&(o=t.call(a,a.__data__,f,s))&&("__data__"in a&&(o.__data__=a.__data__),c[f]=o);return new Me(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=bt(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],u=s.length,c=0;c<u;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),i.push(o));return new Me(r,i)},filter:function(t){"function"!=typeof t&&(t=_t(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new Me(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),f=-1,this.each((function(t){p[++f]=t})),p;var n,r=e?Ct:Mt,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),u=new Array(o),c=new Array(o),f=0;f<o;++f){var l=i[f],h=a[f],d=h.length,p=t.call(l,l&&l.__data__,f,i),v=p.length,g=u[f]=new Array(v),y=s[f]=new Array(v);r(l,h,g,y,c[f]=new Array(d),p,e);for(var m,b,_=0,w=0;_<v;++_)if(m=g[_]){for(_>=w&&(w=_+1);!(b=y[w])&&++w<v;);m._next=b||null}}return(s=new Me(s,i))._enter=u,s._exit=c,s},enter:function(){return new Me(this._enter||this._groups.map(wt),this._parents)},exit:function(){return new Me(this._exit||this._groups.map(wt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,c=e[s],f=n[s],l=c.length,h=o[s]=new Array(l),d=0;d<l;++d)(u=c[d]||f[d])&&(h[d]=u);for(;s<r;++s)o[s]=e[s];return new Me(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=kt);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,c=i[a]=new Array(u),f=0;f<u;++f)(o=s[f])&&(c[f]=o);c.sort(e)}return new Me(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=St(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Tt:At:"function"==typeof e?n.local?Lt:Rt:n.local?Dt:Et)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?zt:"function"==typeof e?Ut:jt)(t,e,null==n?"":n)):It(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Bt:"function"==typeof e?Ft:qt)(t,e)):this.node()[t]},classed:function(t,e){var n=Ht(t+"");if(arguments.length<2){for(var r=$t(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Zt:e?Xt:Gt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Qt:("function"==typeof t?Kt:Jt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?te:("function"==typeof t?ne:ee)(t)):this.node().innerHTML},raise:function(){return this.each(re)},lower:function(){return this.each(ie)},append:function(t){var e="function"==typeof t?t:se(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:se(t),r=null==e?ue:"function"==typeof e?e:yt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ce)},clone:function(t){return this.select(t?le:fe)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?ye:ge,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,f=s.length;c<f;++c)for(r=0,u=s[c];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?we:_e)(t,e))}};const ke=Ce;function Ne(t){return"string"==typeof t?new Me([[document.querySelector(t)]],[document.documentElement]):new Me([[t]],xe)}function Pe(){de.stopImmediatePropagation()}function Se(){de.preventDefault(),de.stopImmediatePropagation()}function Ae(t){var e=t.document.documentElement,n=Ne(t).on("dragstart.drag",Se,!0);"onselectstart"in e?n.on("selectstart.drag",Se,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Te(t,e){var n=t.document.documentElement,r=Ne(t).on("dragstart.drag",null);e&&(r.on("click.drag",Se,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ee(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function De(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Re(){}var Le=.7,Oe=1/Le,ze="\\s*([+-]?\\d+)\\s*",je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ie=/^#([0-9a-f]{3,8})$/,Be=new RegExp(`^rgb\\(${ze},${ze},${ze}\\)$`),qe=new RegExp(`^rgb\\(${Ue},${Ue},${Ue}\\)$`),Fe=new RegExp(`^rgba\\(${ze},${ze},${ze},${je}\\)$`),He=new RegExp(`^rgba\\(${Ue},${Ue},${Ue},${je}\\)$`),$e=new RegExp(`^hsl\\(${je},${Ue},${Ue}\\)$`),Ye=new RegExp(`^hsla\\(${je},${Ue},${Ue},${je}\\)$`),Ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function We(){return this.rgb().formatHex()}function Xe(){return this.rgb().formatRgb()}function Ge(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ze(e):3===n?new tn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Qe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Qe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Be.exec(t))?new tn(e[1],e[2],e[3],1):(e=qe.exec(t))?new tn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Fe.exec(t))?Qe(e[1],e[2],e[3],e[4]):(e=He.exec(t))?Qe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$e.exec(t))?sn(e[1],e[2]/100,e[3]/100,1):(e=Ye.exec(t))?sn(e[1],e[2]/100,e[3]/100,e[4]):Ve.hasOwnProperty(t)?Ze(Ve[t]):"transparent"===t?new tn(NaN,NaN,NaN,0):null}function Ze(t){return new tn(t>>16&255,t>>8&255,255&t,1)}function Qe(t,e,n,r){return r<=0&&(t=e=n=NaN),new tn(t,e,n,r)}function Je(t){return t instanceof Re||(t=Ge(t)),t?new tn((t=t.rgb()).r,t.g,t.b,t.opacity):new tn}function Ke(t,e,n,r){return 1===arguments.length?Je(t):new tn(t,e,n,null==r?1:r)}function tn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function en(){return`#${on(this.r)}${on(this.g)}${on(this.b)}`}function nn(){const t=rn(this.opacity);return`${1===t?"rgb(":"rgba("}${an(this.r)}, ${an(this.g)}, ${an(this.b)}${1===t?")":`, ${t})`}`}function rn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function an(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function on(t){return((t=an(t))<16?"0":"")+t.toString(16)}function sn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fn(t,e,n,r)}function un(t){if(t instanceof fn)return new fn(t.h,t.s,t.l,t.opacity);if(t instanceof Re||(t=Ge(t)),!t)return new fn;if(t instanceof fn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new fn(o,s,u,t.opacity)}function cn(t,e,n,r){return 1===arguments.length?un(t):new fn(t,e,n,null==r?1:r)}function fn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ln(t){return(t=(t||0)%360)<0?t+360:t}function hn(t){return Math.max(0,Math.min(1,t||0))}function dn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function pn(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function vn(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return pn((n-r/e)*e,o,i,a,s)}}function gn(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return pn((n-r/e)*e,i,a,o,s)}}function yn(t){return function(){return t}}function mn(t,e){return function(n){return t+n*e}}function bn(t,e){var n=e-t;return n?mn(t,n>180||n<-180?n-360*Math.round(n/360):n):yn(isNaN(t)?e:t)}function _n(t,e){var n=e-t;return n?mn(t,n):yn(isNaN(t)?e:t)}Ee(Re,Ge,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:We,formatHex:We,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return un(this).formatHsl()},formatRgb:Xe,toString:Xe}),Ee(tn,Ke,De(Re,{brighter(t){return t=null==t?Oe:Math.pow(Oe,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Le:Math.pow(Le,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tn(an(this.r),an(this.g),an(this.b),rn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:en,formatHex:en,formatHex8:function(){return`#${on(this.r)}${on(this.g)}${on(this.b)}${on(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:nn,toString:nn})),Ee(fn,cn,De(Re,{brighter(t){return t=null==t?Oe:Math.pow(Oe,t),new fn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Le:Math.pow(Le,t),new fn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new tn(dn(t>=240?t-240:t+120,i,r),dn(t,i,r),dn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new fn(ln(this.h),hn(this.s),hn(this.l),rn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=rn(this.opacity);return`${1===t?"hsl(":"hsla("}${ln(this.h)}, ${100*hn(this.s)}%, ${100*hn(this.l)}%${1===t?")":`, ${t})`}`}}));const wn=function t(e){var n=function(t){return 1==(t=+t)?_n:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):yn(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Ke(t)).r,(e=Ke(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=_n(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function xn(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ke(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}var Mn=xn(vn),Cn=xn(gn);function kn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function Nn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pn(t,e){return(Nn(e)?kn:Sn)(t,e)}function Sn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=On(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function An(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Tn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function En(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=On(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rn=new RegExp(Dn.source,"g");function Ln(t,e){var n,r,i,a=Dn.lastIndex=Rn.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=Dn.exec(t))&&(r=Rn.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:Tn(n,r)})),a=Rn.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function On(t,e){var n,r=typeof e;return null==e||"boolean"===r?yn(e):("number"===r?Tn:"string"===r?(n=Ge(e))?(e=n,wn):Ln:e instanceof Ge?wn:e instanceof Date?An:Nn(e)?kn:Array.isArray(e)?Sn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?En:Tn)(t,e)}function zn(){for(var t,e=de;t=e.sourceEvent;)e=t;return e}function jn(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Un(t,e,n){arguments.length<3&&(n=e,e=zn().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return jn(t,r);return null}function In(t){var e=zn();return e.changedTouches&&(e=e.changedTouches[0]),jn(t,e)}var Bn,qn,Fn=0,Hn=0,$n=0,Yn=0,Vn=0,Wn=0,Xn="object"==typeof performance&&performance.now?performance:Date,Gn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Zn(){return Vn||(Gn(Qn),Vn=Xn.now()+Wn)}function Qn(){Vn=0}function Jn(){this._call=this._time=this._next=null}function Kn(t,e,n){var r=new Jn;return r.restart(t,e,n),r}function tr(){Zn(),++Fn;for(var t,e=Bn;e;)(t=Vn-e._time)>=0&&e._call.call(null,t),e=e._next;--Fn}function er(){Vn=(Yn=Xn.now())+Wn,Fn=Hn=0;try{tr()}finally{Fn=0,function(){for(var t,e,n=Bn,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Bn=e);qn=t,rr(r)}(),Vn=0}}function nr(){var t=Xn.now(),e=t-Yn;e>1e3&&(Wn-=e,Yn=t)}function rr(t){Fn||(Hn&&(Hn=clearTimeout(Hn)),t-Vn>24?(t<1/0&&(Hn=setTimeout(er,t-Xn.now()-Wn)),$n&&($n=clearInterval($n))):($n||(Yn=Xn.now(),$n=setInterval(nr,1e3)),Fn=1,Gn(er)))}function ir(t,e,n){var r=new Jn;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Jn.prototype=Kn.prototype={constructor:Jn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Zn():+n)+(null==e?0:+e),this._next||qn===this||(qn?qn._next=this:Bn=this,qn=this),this._call=t,this._time=n,rr()},stop:function(){this._call&&(this._call=null,this._time=1/0,rr())}};var ar=vt("start","end","cancel","interrupt"),or=[],sr=1,ur=2,cr=5,fr=6;function lr(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(u){var c,f,l,h;if(n.state!==sr)return s();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return ir(a);4===h.state?(h.state=fr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=fr,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(ir((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(u))})),n.state=ur,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ur){for(n.state=3,r=new Array(l=n.tween.length),c=0,f=-1;c<l;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=cr,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);n.state===cr&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=fr,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Kn((function(t){n.state=sr,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:ar,tween:or,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function hr(t,e){var n=pr(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function dr(t,e){var n=pr(t,e);if(n.state>3)throw new Error("too late; already running");return n}function pr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vr(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>ur&&n.state<cr,n.state=fr,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}var gr,yr,mr,br,_r=180/Math.PI,wr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xr(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*_r,skewX:Math.atan(u)*_r,scaleX:o,scaleY:s}}function Mr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],u=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:Tn(t,i)},{i:u-2,x:Tn(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Tn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,u),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Tn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,u),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Tn(t,n)},{i:s-2,x:Tn(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var Cr=Mr((function(t){return"none"===t?wr:(gr||(gr=document.createElement("DIV"),yr=document.documentElement,mr=document.defaultView),gr.style.transform=t,t=mr.getComputedStyle(yr.appendChild(gr),null).getPropertyValue("transform"),yr.removeChild(gr),xr(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),kr=Mr((function(t){return null==t?wr:(br||(br=document.createElementNS("http://www.w3.org/2000/svg","g")),br.setAttribute("transform",t),(t=br.transform.baseVal.consolidate())?xr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):wr)}),", ",")",")");function Nr(t,e){var n,r;return function(){var i=dr(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function Pr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=dr(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}a.tween=i}}function Sr(t,e,n){var r=t._id;return t.each((function(){var t=dr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return pr(t,r).value[e]}}function Ar(t,e){var n;return("number"==typeof e?Tn:e instanceof Ge?wn:(n=Ge(e))?(e=n,wn):Ln)(t,e)}function Tr(t){return function(){this.removeAttribute(t)}}function Er(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Dr(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function Rr(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function Lr(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttribute(t))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttribute(t)}}function Or(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}function zr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function jr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Ur(t,e){return function(){hr(this,t).delay=+e.apply(this,arguments)}}function Ir(t,e){return e=+e,function(){hr(this,t).delay=e}}function Br(t,e){return function(){dr(this,t).duration=+e.apply(this,arguments)}}function qr(t,e){return e=+e,function(){dr(this,t).duration=e}}var Fr=ke.prototype.constructor;function Hr(t){return function(){this.style.removeProperty(t)}}var $r=0;function Yr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Vr(t){return ke().transition(t)}function Wr(){return++$r}var Xr=ke.prototype;function Gr(t){return t*t*t}function Zr(t){return--t*t*t+1}function Qr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Yr.prototype=Vr.prototype={constructor:Yr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=yt(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,c=r[o],f=c.length,l=a[o]=new Array(f),h=0;h<f;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),l[h]=u,lr(l[h],e,n,h,l,pr(s,n)));return new Yr(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=bt(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,c=r[s],f=c.length,l=0;l<f;++l)if(u=c[l]){for(var h,d=t.call(u,u.__data__,l,c),p=pr(u,n),v=0,g=d.length;v<g;++v)(h=d[v])&&lr(h,e,n,v,d,p);a.push(d),o.push(u)}return new Yr(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=_t(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new Yr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,c=e[s],f=n[s],l=c.length,h=o[s]=new Array(l),d=0;d<l;++d)(u=c[d]||f[d])&&(h[d]=u);for(;s<r;++s)o[s]=e[s];return new Yr(o,this._parents,this._name,this._id)},selection:function(){return new Fr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Wr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,c=0;c<u;++c)if(o=s[c]){var f=pr(o,e);lr(o,t,n,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Yr(r,this._parents,t,n)},call:Xr.call,nodes:Xr.nodes,node:Xr.node,size:Xr.size,empty:Xr.empty,each:Xr.each,on:function(t,e){var n=this._id;return arguments.length<2?pr(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?hr:dr;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function(t,e){var n=St(t),r="transform"===n?kr:Ar;return this.attrTween(t,"function"==typeof e?(n.local?Or:Lr)(n,r,Sr(this,"attr."+t,e)):null==e?(n.local?Er:Tr)(n):(n.local?Rr:Dr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=St(t);return this.tween(n,(r.local?zr:jr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Cr:Ar;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=It(this,t),o=(this.style.removeProperty(t),It(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,Hr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=It(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=It(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}(t,r,Sr(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var u=dr(this,t),c=u.on,f=null==u.value[o]?a||(a=Hr(e)):void 0;c===n&&i===f||(r=(n=c).copy()).on(s,i=f),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=It(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,a,n)),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Sr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=pr(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?Nr:Pr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ur:Ir)(e,t)):pr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Br:qr)(e,t)):pr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){dr(this,t).ease=e}}(e,t)):pr(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0==--i&&a()}};n.each((function(){var n=dr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e}))}))}};var Jr={time:null,delay:0,duration:250,ease:Qr};function Kr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Jr.time=Zn(),Jr;return n}ke.prototype.interrupt=function(t){return this.each((function(){vr(this,t)}))},ke.prototype.transition=function(t){var e,n;t instanceof Yr?(e=t._id,t=t._name):(e=Wr(),(n=Jr).time=Zn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,c=0;c<u;++c)(o=s[c])&&lr(o,t,e,c,s,n||Kr(o,e));return new Yr(r,this._parents,t,e)};var ti=[null];function ei(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>sr&&n.name===e)return new Yr([[t]],ti,e,+r);return null}function ni(t){return function(){return t}}function ri(t,e,n){this.target=t,this.type=e,this.selection=n}function ii(){de.stopImmediatePropagation()}function ai(){de.preventDefault(),de.stopImmediatePropagation()}var oi={name:"drag"},si={name:"space"},ui={name:"handle"},ci={name:"center"};function fi(t){return[+t[0],+t[1]]}function li(t){return[fi(t[0]),fi(t[1])]}var hi={name:"x",handles:["w","e"].map(_i),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},di={name:"y",handles:["n","s"].map(_i),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},pi={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(_i),input:function(t){return null==t?null:li(t)},output:function(t){return t}},vi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},gi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},yi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},mi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},bi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function _i(t){return{type:t}}function wi(){return!de.ctrlKey&&!de.button}function xi(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Mi(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ci(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function ki(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ni(){return Ai(hi)}function Pi(){return Ai(di)}function Si(){return Ai(pi)}function Ai(t){var e,n=xi,r=wi,i=Mi,a=!0,o=vt("start","brush","end"),s=6;function u(e){var n=e.property("__brush",v).selectAll(".overlay").data([_i("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",vi.overlay).merge(n).each((function(){var t=Ci(this).extent;Ne(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([_i("selection")]).enter().append("rect").attr("class","selection").attr("cursor",vi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return vi[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=Ne(this),e=Ci(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new l(t,e,n):r}function l(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function h(){if((!e||de.touches)&&r.apply(this,arguments)){var n,i,o,s,u,l,h,d,p,v,g,y,m=this,b=de.target.__data__.type,_="selection"===(a&&de.metaKey?b="overlay":b)?oi:a&&de.altKey?ci:ui,w=t===di?null:mi[b],x=t===hi?null:bi[b],M=Ci(m),C=M.extent,k=M.selection,N=C[0][0],P=C[0][1],S=C[1][0],A=C[1][1],T=0,E=0,D=w&&x&&a&&de.shiftKey,R=de.touches?(y=de.changedTouches[0].identifier,function(t){return Un(t,de.touches,y)}):In,L=R(m),O=L,z=f(m,arguments,!0).beforestart();"overlay"===b?(k&&(p=!0),M.selection=k=[[n=t===di?N:L[0],o=t===hi?P:L[1]],[u=t===di?S:n,h=t===hi?A:o]]):(n=k[0][0],o=k[0][1],u=k[1][0],h=k[1][1]),i=n,s=o,l=u,d=h;var j=Ne(m).attr("pointer-events","none"),U=j.selectAll(".overlay").attr("cursor",vi[b]);if(de.touches)z.moved=B,z.ended=F;else{var I=Ne(de.view).on("mousemove.brush",B,!0).on("mouseup.brush",F,!0);a&&I.on("keydown.brush",(function(){switch(de.keyCode){case 16:D=w&&x;break;case 18:_===ui&&(w&&(u=l-T*w,n=i+T*w),x&&(h=d-E*x,o=s+E*x),_=ci,q());break;case 32:_!==ui&&_!==ci||(w<0?u=l-T:w>0&&(n=i-T),x<0?h=d-E:x>0&&(o=s-E),_=si,U.attr("cursor",vi.selection),q());break;default:return}ai()}),!0).on("keyup.brush",(function(){switch(de.keyCode){case 16:D&&(v=g=D=!1,q());break;case 18:_===ci&&(w<0?u=l:w>0&&(n=i),x<0?h=d:x>0&&(o=s),_=ui,q());break;case 32:_===si&&(de.altKey?(w&&(u=l-T*w,n=i+T*w),x&&(h=d-E*x,o=s+E*x),_=ci):(w<0?u=l:w>0&&(n=i),x<0?h=d:x>0&&(o=s),_=ui),U.attr("cursor",vi[b]),q());break;default:return}ai()}),!0),Ae(de.view)}ii(),vr(m),c.call(m),z.start()}function B(){var t=R(m);!D||v||g||(Math.abs(t[0]-O[0])>Math.abs(t[1]-O[1])?g=!0:v=!0),O=t,p=!0,ai(),q()}function q(){var t;switch(T=O[0]-L[0],E=O[1]-L[1],_){case si:case oi:w&&(T=Math.max(N-n,Math.min(S-u,T)),i=n+T,l=u+T),x&&(E=Math.max(P-o,Math.min(A-h,E)),s=o+E,d=h+E);break;case ui:w<0?(T=Math.max(N-n,Math.min(S-n,T)),i=n+T,l=u):w>0&&(T=Math.max(N-u,Math.min(S-u,T)),i=n,l=u+T),x<0?(E=Math.max(P-o,Math.min(A-o,E)),s=o+E,d=h):x>0&&(E=Math.max(P-h,Math.min(A-h,E)),s=o,d=h+E);break;case ci:w&&(i=Math.max(N,Math.min(S,n-T*w)),l=Math.max(N,Math.min(S,u+T*w))),x&&(s=Math.max(P,Math.min(A,o-E*x)),d=Math.max(P,Math.min(A,h+E*x)))}l<i&&(w*=-1,t=n,n=u,u=t,t=i,i=l,l=t,b in gi&&U.attr("cursor",vi[b=gi[b]])),d<s&&(x*=-1,t=o,o=h,h=t,t=s,s=d,d=t,b in yi&&U.attr("cursor",vi[b=yi[b]])),M.selection&&(k=M.selection),v&&(i=k[0][0],l=k[1][0]),g&&(s=k[0][1],d=k[1][1]),k[0][0]===i&&k[0][1]===s&&k[1][0]===l&&k[1][1]===d||(M.selection=[[i,s],[l,d]],c.call(m),z.brush())}function F(){if(ii(),de.touches){if(de.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Te(de.view,p),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);j.attr("pointer-events","all"),U.attr("cursor",vi.overlay),M.selection&&(k=M.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(k)&&(M.selection=null,c.call(m)),z.end()}}function d(){f(this,arguments).moved()}function p(){f(this,arguments).ended()}function v(){var e=this.__brush||{selection:null};return e.extent=li(n.apply(this,arguments)),e.dim=t,e}return u.move=function(e,n){e.selection?e.on("start.brush",(function(){f(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){f(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=f(e,arguments),a=r.selection,o=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=On(a,o);function u(t){r.selection=1===t&&null===o?null:s(t),c.call(e),i.brush()}return null!==a&&null!==o?u:u(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,a=t.input("function"==typeof n?n.apply(e,r):n,i.extent),o=f(e,r).beforestart();vr(e),i.selection=null===a?null:a,c.call(e),o.start().brush().end()}))},u.clear=function(t){u.move(t,null)},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){me(new ri(u,e,t.output(this.state.selection)),o.apply,o,[e,this.that,this.args])}},u.extent=function(t){return arguments.length?(n="function"==typeof t?t:ni(li(t)),u):n},u.filter=function(t){return arguments.length?(r="function"==typeof t?t:ni(!!t),u):r},u.touchable=function(t){return arguments.length?(i="function"==typeof t?t:ni(!!t),u):i},u.handleSize=function(t){return arguments.length?(s=+t,u):s},u.keyModifiers=function(t){return arguments.length?(a=!!t,u):a},u.on=function(){var t=o.on.apply(o,arguments);return t===o?u:t},u}var Ti=Math.cos,Ei=Math.sin,Di=Math.PI,Ri=Di/2,Li=2*Di,Oi=Math.max;function zi(){var t=0,e=null,n=null,r=null;function i(i){var a,o,s,u,c,f,l=i.length,h=[],d=M(l),p=[],v=[],g=v.groups=new Array(l),y=new Array(l*l);for(a=0,c=-1;++c<l;){for(o=0,f=-1;++f<l;)o+=i[c][f];h.push(o),p.push(M(l)),a+=o}for(e&&d.sort((function(t,n){return e(h[t],h[n])})),n&&p.forEach((function(t,e){t.sort((function(t,r){return n(i[e][t],i[e][r])}))})),u=(a=Oi(0,Li-t*l)/a)?t:Li/l,o=0,c=-1;++c<l;){for(s=o,f=-1;++f<l;){var m=d[c],b=p[m][f],_=i[m][b],w=o,x=o+=_*a;y[b*l+m]={index:m,subindex:b,startAngle:w,endAngle:x,value:_}}g[m]={index:m,startAngle:s,endAngle:o,value:h[m]},o+=u}for(c=-1;++c<l;)for(f=c-1;++f<l;){var C=y[f*l+c],k=y[c*l+f];(C.value||k.value)&&v.push(C.value<k.value?{source:k,target:C}:{source:C,target:k})}return r?v.sort(r):v}return i.padAngle=function(e){return arguments.length?(t=Oi(0,e),i):t},i.sortGroups=function(t){return arguments.length?(e=t,i):e},i.sortSubgroups=function(t){return arguments.length?(n=t,i):n},i.sortChords=function(t){return arguments.length?(null==t?r=null:(e=t,r=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,i):r&&r._;var e},i}var ji=Array.prototype.slice;function Ui(t){return function(){return t}}var Ii=Math.PI,Bi=2*Ii,qi=1e-6,Fi=Bi-qi;function Hi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function $i(){return new Hi}Hi.prototype=$i.prototype={constructor:Hi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,u=r-e,c=a-t,f=o-e,l=c*c+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(l>qi)if(Math.abs(f*s-u*c)>qi&&i){var h=n-a,d=r-o,p=s*s+u*u,v=h*h+d*d,g=Math.sqrt(p),y=Math.sqrt(l),m=i*Math.tan((Ii-Math.acos((p+l-v)/(2*g*y)))/2),b=m/y,_=m/g;Math.abs(b-1)>qi&&(this._+="L"+(t+b*c)+","+(e+b*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>c*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+o,c=e+s,f=1^a,l=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>qi||Math.abs(this._y1-c)>qi)&&(this._+="L"+u+","+c),n&&(l<0&&(l=l%Bi+Bi),l>Fi?this._+="A"+n+","+n+",0,1,"+f+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+f+","+(this._x1=u)+","+(this._y1=c):l>qi&&(this._+="A"+n+","+n+",0,"+ +(l>=Ii)+","+f+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const Yi=$i;function Vi(t){return t.source}function Wi(t){return t.target}function Xi(t){return t.radius}function Gi(t){return t.startAngle}function Zi(t){return t.endAngle}function Qi(){var t=Vi,e=Wi,n=Xi,r=Gi,i=Zi,a=null;function o(){var o,s=ji.call(arguments),u=t.apply(this,s),c=e.apply(this,s),f=+n.apply(this,(s[0]=u,s)),l=r.apply(this,s)-Ri,h=i.apply(this,s)-Ri,d=f*Ti(l),p=f*Ei(l),v=+n.apply(this,(s[0]=c,s)),g=r.apply(this,s)-Ri,y=i.apply(this,s)-Ri;if(a||(a=o=Yi()),a.moveTo(d,p),a.arc(0,0,f,l,h),l===g&&h===y||(a.quadraticCurveTo(0,0,v*Ti(g),v*Ei(g)),a.arc(0,0,v,g,y)),a.quadraticCurveTo(0,0,d,p),a.closePath(),o)return a=null,o+""||null}return o.radius=function(t){return arguments.length?(n="function"==typeof t?t:Ui(+t),o):n},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ui(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Ui(+t),o):i},o.source=function(e){return arguments.length?(t=e,o):t},o.target=function(t){return arguments.length?(e=t,o):e},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}var Ji="$";function Ki(){}function ta(t,e){var n=new Ki;if(t instanceof Ki)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}Ki.prototype=ta.prototype={constructor:Ki,has:function(t){return Ji+t in this},get:function(t){return this[Ji+t]},set:function(t,e){return this[Ji+t]=e,this},remove:function(t){var e=Ji+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Ji&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Ji&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Ji&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Ji&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Ji&&++t;return t},empty:function(){for(var t in this)if(t[0]===Ji)return!1;return!0},each:function(t){for(var e in this)e[0]===Ji&&t(this[e],e.slice(1),this)}};const ea=ta;function na(){var t,e,n,r=[],i=[];function a(n,i,o,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,c,f,l=-1,h=n.length,d=r[i++],p=ea(),v=o();++l<h;)(f=p.get(u=d(c=n[l])+""))?f.push(c):p.set(u,[c]);return p.each((function(t,e){s(v,e,a(t,i,o,s))})),v}function o(t,n){if(++n>r.length)return t;var a,s=i[n-1];return null!=e&&n>=r.length?a=t.entries():(a=[],t.each((function(t,e){a.push({key:e,values:o(t,n)})}))),null!=s?a.sort((function(t,e){return s(t.key,e.key)})):a}return n={object:function(t){return a(t,0,ra,ia)},map:function(t){return a(t,0,aa,oa)},entries:function(t){return o(a(t,0,aa,oa),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function ra(){return{}}function ia(t,e,n){t[e]=n}function aa(){return ea()}function oa(t,e,n){t.set(e,n)}function sa(){}var ua=ea.prototype;function ca(t,e){var n=new sa;if(t instanceof sa)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}sa.prototype=ca.prototype={constructor:sa,has:ua.has,add:function(t){return this[Ji+(t+="")]=t,this},remove:ua.remove,clear:ua.clear,values:ua.keys,size:ua.size,empty:ua.empty,each:ua.each};const fa=ca;function la(t){var e=[];for(var n in t)e.push(n);return e}function ha(t){var e=[];for(var n in t)e.push(t[n]);return e}function da(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}const pa=Math.PI/180,va=180/Math.PI,ga=.96422,ya=1,ma=.82521,ba=4/29,_a=6/29,wa=3*_a*_a,xa=_a*_a*_a;function Ma(t){if(t instanceof Na)return new Na(t.l,t.a,t.b,t.opacity);if(t instanceof La)return Oa(t);t instanceof tn||(t=Je(t));var e,n,r=Ta(t.r),i=Ta(t.g),a=Ta(t.b),o=Pa((.2225045*r+.7168786*i+.0606169*a)/ya);return r===i&&i===a?e=n=o:(e=Pa((.4360747*r+.3850649*i+.1430804*a)/ga),n=Pa((.0139322*r+.0971045*i+.7141733*a)/ma)),new Na(116*o-16,500*(e-o),200*(o-n),t.opacity)}function Ca(t,e){return new Na(t,0,0,null==e?1:e)}function ka(t,e,n,r){return 1===arguments.length?Ma(t):new Na(t,e,n,null==r?1:r)}function Na(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Pa(t){return t>xa?Math.pow(t,1/3):t/wa+ba}function Sa(t){return t>_a?t*t*t:wa*(t-ba)}function Aa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ta(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ea(t){if(t instanceof La)return new La(t.h,t.c,t.l,t.opacity);if(t instanceof Na||(t=Ma(t)),0===t.a&&0===t.b)return new La(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*va;return new La(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Da(t,e,n,r){return 1===arguments.length?Ea(t):new La(n,e,t,null==r?1:r)}function Ra(t,e,n,r){return 1===arguments.length?Ea(t):new La(t,e,n,null==r?1:r)}function La(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Oa(t){if(isNaN(t.h))return new Na(t.l,0,0,t.opacity);var e=t.h*pa;return new Na(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ee(Na,ka,De(Re,{brighter(t){return new Na(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Na(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new tn(Aa(3.1338561*(e=ga*Sa(e))-1.6168667*(t=ya*Sa(t))-.4906146*(n=ma*Sa(n))),Aa(-.9787684*e+1.9161415*t+.033454*n),Aa(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ee(La,Ra,De(Re,{brighter(t){return new La(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new La(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Oa(this).rgb()}}));var za=-.14861,ja=1.78277,Ua=-.29227,Ia=-.90649,Ba=1.97294,qa=Ba*Ia,Fa=Ba*ja,Ha=ja*Ua-Ia*za;function $a(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Ya)return new Ya(t.h,t.s,t.l,t.opacity);t instanceof tn||(t=Je(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ha*r+qa*e-Fa*n)/(Ha+qa-Fa),a=r-i,o=(Ba*(n-i)-Ua*a)/Ia,s=Math.sqrt(o*o+a*a)/(Ba*i*(1-i)),u=s?Math.atan2(o,a)*va-120:NaN;return new Ya(u<0?u+360:u,s,i,t.opacity)}(t):new Ya(t,e,n,null==r?1:r)}function Ya(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ee(Ya,$a,De(Re,{brighter(t){return t=null==t?Oe:Math.pow(Oe,t),new Ya(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Le:Math.pow(Le,t),new Ya(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*pa,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new tn(255*(e+n*(za*r+ja*i)),255*(e+n*(Ua*r+Ia*i)),255*(e+n*(Ba*r)),this.opacity)}}));var Va=Array.prototype.slice;function Wa(t,e){return t-e}function Xa(t){return function(){return t}}function Ga(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=Za(t,e[r]))return n;return 0}function Za(t,e){for(var n=e[0],r=e[1],i=-1,a=0,o=t.length,s=o-1;a<o;s=a++){var u=t[a],c=u[0],f=u[1],l=t[s],h=l[0],d=l[1];if(Qa(u,l,e))return 0;f>r!=d>r&&n<(h-c)*(r-f)/(d-f)+c&&(i=-i)}return i}function Qa(t,e,n){var r,i,a,o;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],a=n[r],o=e[r],i<=a&&a<=o||o<=a&&a<=i)}function Ja(){}var Ka=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function to(){var t=1,e=1,n=T,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Wa);else{var r=y(t),i=r[0],o=r[1];e=A(i,o,e),e=M(Math.floor(i/e)*e,Math.floor(o/e)*e,e)}return e.map((function(e){return a(t,e)}))}function a(n,i){var a=[],s=[];return function(n,r,i){var a,s,u,c,f,l,h=new Array,d=new Array;for(a=s=-1,c=n[0]>=r,Ka[c<<1].forEach(p);++a<t-1;)u=c,c=n[a+1]>=r,Ka[u|c<<1].forEach(p);for(Ka[0|c].forEach(p);++s<e-1;){for(a=-1,c=n[s*t+t]>=r,f=n[s*t]>=r,Ka[c<<1|f<<2].forEach(p);++a<t-1;)u=c,c=n[s*t+t+a+1]>=r,l=f,f=n[s*t+a+1]>=r,Ka[u|c<<1|f<<2|l<<3].forEach(p);Ka[c|f<<3].forEach(p)}for(a=-1,f=n[s*t]>=r,Ka[f<<2].forEach(p);++a<t-1;)l=f,f=n[s*t+a+1]>=r,Ka[f<<2|l<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+a,t[0][1]+s],u=[t[1][0]+a,t[1][1]+s],c=o(r),f=o(u);(e=d[c])?(n=h[f])?(delete d[e.end],delete h[n.start],e===n?(e.ring.push(u),i(e.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(u),d[e.end=f]=e):(e=h[f])?(n=d[c])?(delete h[e.start],delete d[n.end],e===n?(e.ring.push(u),i(e.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(r),h[e.start=c]=e):h[c]=d[f]={start:c,end:f,ring:[r,u]}}Ka[f<<3].forEach(p)}(n,i,(function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?a.push([t]):s.push(t)})),s.forEach((function(t){for(var e,n=0,r=a.length;n<r;++n)if(-1!==Ga((e=a[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:a}}function o(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach((function(n){var a,o=n[0],s=n[1],u=0|o,c=0|s,f=r[c*t+u];o>0&&o<t&&u===o&&(a=r[c*t+u-1],n[0]=o+(i-a)/(f-a)-.5),s>0&&s<e&&c===s&&(a=r[(c-1)*t+u],n[1]=s+(i-a)/(f-a)-.5)}))}return i.contour=a,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),a=Math.ceil(n[1]);if(!(r>0&&a>0))throw new Error("invalid size");return t=r,e=a,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Xa(Va.call(t)):Xa(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:Ja,i):r===s},i}function eo(t,e,n){for(var r=t.width,i=t.height,a=1+(n<<1),o=0;o<i;++o)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[s+o*r]),s>=n&&(s>=a&&(u-=t.data[s-a+o*r]),e.data[s-n+o*r]=u/Math.min(s+1,r-1+a-s,a))}function no(t,e,n){for(var r=t.width,i=t.height,a=1+(n<<1),o=0;o<r;++o)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[o+s*r]),s>=n&&(s>=a&&(u-=t.data[o+(s-a)*r]),e.data[o+(s-n)*r]=u/Math.min(s+1,i-1+a-s,a))}function ro(t){return t[0]}function io(t){return t[1]}function ao(){return 1}function oo(){var t=ro,e=io,n=ao,r=960,i=500,a=20,o=2,s=3*a,u=r+2*s>>o,c=i+2*s>>o,f=Xa(20);function l(r){var i=new Float32Array(u*c),l=new Float32Array(u*c);r.forEach((function(r,a,f){var l=+t(r,a,f)+s>>o,h=+e(r,a,f)+s>>o,d=+n(r,a,f);l>=0&&l<u&&h>=0&&h<c&&(i[l+h*u]+=d)})),eo({width:u,height:c,data:i},{width:u,height:c,data:l},a>>o),no({width:u,height:c,data:l},{width:u,height:c,data:i},a>>o),eo({width:u,height:c,data:i},{width:u,height:c,data:l},a>>o),no({width:u,height:c,data:l},{width:u,height:c,data:i},a>>o),eo({width:u,height:c,data:i},{width:u,height:c,data:l},a>>o),no({width:u,height:c,data:l},{width:u,height:c,data:i},a>>o);var d=f(i);if(!Array.isArray(d)){var p=O(i);d=A(0,p,d),(d=M(0,Math.floor(p/d)*d,d)).shift()}return to().thresholds(d).size([u,c])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*o),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(v)}function v(t){t[0]=t[0]*Math.pow(2,o)-s,t[1]=t[1]*Math.pow(2,o)-s}function g(){return u=r+2*(s=3*a)>>o,c=i+2*s>>o,l}return l.x=function(e){return arguments.length?(t="function"==typeof e?e:Xa(+e),l):t},l.y=function(t){return arguments.length?(e="function"==typeof t?t:Xa(+t),l):e},l.weight=function(t){return arguments.length?(n="function"==typeof t?t:Xa(+t),l):n},l.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return r=e,i=n,g()},l.cellSize=function(t){if(!arguments.length)return 1<<o;if(!((t=+t)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(t)/Math.LN2),g()},l.thresholds=function(t){return arguments.length?(f="function"==typeof t?t:Array.isArray(t)?Xa(Va.call(t)):Xa(t),l):f},l.bandwidth=function(t){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*t*t+1)-1)/2),g()},l}function so(t){return function(){return t}}function uo(t,e,n,r,i,a,o,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=u,this._=c}function co(){return!de.ctrlKey&&!de.button}function fo(){return this.parentNode}function lo(t){return null==t?{x:de.x,y:de.y}:t}function ho(){return navigator.maxTouchPoints||"ontouchstart"in this}function po(){var t,e,n,r,i=co,a=fo,o=lo,s=ho,u={},c=vt("start","drag","end"),f=0,l=0;function h(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",g).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var o=b("mouse",a.apply(this,arguments),In,this,arguments);o&&(Ne(de.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),Ae(de.view),Pe(),n=!1,t=de.clientX,e=de.clientY,o("start"))}}function p(){if(Se(),!n){var r=de.clientX-t,i=de.clientY-e;n=r*r+i*i>l}u.mouse("drag")}function v(){Ne(de.view).on("mousemove.drag mouseup.drag",null),Te(de.view,n),Se(),u.mouse("end")}function g(){if(i.apply(this,arguments)){var t,e,n=de.changedTouches,r=a.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=b(n[t].identifier,r,Un,this,arguments))&&(Pe(),e("start"))}}function y(){var t,e,n=de.changedTouches,r=n.length;for(t=0;t<r;++t)(e=u[n[t].identifier])&&(Se(),e("drag"))}function m(){var t,e,n=de.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=u[n[t].identifier])&&(Pe(),e("end"))}function b(t,e,n,r,i){var a,s,l,d=n(e,t),p=c.copy();if(me(new uo(h,"beforestart",a,t,f,d[0],d[1],0,0,p),(function(){return null!=(de.subject=a=o.apply(r,i))&&(s=a.x-d[0]||0,l=a.y-d[1]||0,!0)})))return function o(c){var v,g=d;switch(c){case"start":u[t]=o,v=f++;break;case"end":delete u[t],--f;case"drag":d=n(e,t),v=f}me(new uo(h,c,a,t,v,d[0]+s,d[1]+l,d[0]-g[0],d[1]-g[1],p),p.apply,p,[c,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:so(!!t),h):i},h.container=function(t){return arguments.length?(a="function"==typeof t?t:so(t),h):a},h.subject=function(t){return arguments.length?(o="function"==typeof t?t:so(t),h):o},h.touchable=function(t){return arguments.length?(s="function"==typeof t?t:so(!!t),h):s},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,h):Math.sqrt(l)},h}uo.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var vo={},go={},yo=34,mo=10,bo=13;function _o(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function wo(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function xo(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Mo(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],a=t.length,o=0,s=0,u=a<=0,c=!1;function f(){if(u)return go;if(c)return c=!1,vo;var e,r,i=o;if(t.charCodeAt(i)===yo){for(;o++<a&&t.charCodeAt(o)!==yo||t.charCodeAt(++o)===yo;);return(e=o)>=a?u=!0:(r=t.charCodeAt(o++))===mo?c=!0:r===bo&&(c=!0,t.charCodeAt(o)===mo&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<a;){if((r=t.charCodeAt(e=o++))===mo)c=!0;else if(r===bo)c=!0,t.charCodeAt(o)===mo&&++o;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===mo&&--a,t.charCodeAt(a-1)===bo&&--a;(r=f())!==go;){for(var l=[];r!==vo&&r!==go;)l.push(r),r=f();e&&null==(l=e(l,s++))||i.push(l)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function a(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?function(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+xo(-t,6):t>9999?"+"+xo(t,6):xo(t,4)}(t.getUTCFullYear())+"-"+xo(t.getUTCMonth()+1,2)+"-"+xo(t.getUTCDate(),2)+(i?"T"+xo(e,2)+":"+xo(n,2)+":"+xo(r,2)+"."+xo(i,3)+"Z":r?"T"+xo(e,2)+":"+xo(n,2)+":"+xo(r,2)+"Z":n||e?"T"+xo(e,2)+":"+xo(n,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,a=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=_o(t);return function(r,i){return e(n(r),i,t)}}(t,e):_o(t)}));return a.columns=i||[],a},parseRows:r,format:function(e,n){return null==n&&(n=wo(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=wo(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(a).join("\n")},formatRow:a,formatValue:o}}var Co=Mo(","),ko=Co.parse,No=Co.parseRows,Po=Co.format,So=Co.formatBody,Ao=Co.formatRows,To=Co.formatRow,Eo=Co.formatValue,Do=Mo("\t"),Ro=Do.parse,Lo=Do.parseRows,Oo=Do.format,zo=Do.formatBody,jo=Do.formatRows,Uo=Do.formatRow,Io=Do.formatValue;function Bo(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;qo&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}var qo=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Fo(t){return+t}function Ho(t){return t*t}function $o(t){return t*(2-t)}function Yo(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Vo=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Wo=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Xo=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Go=Math.PI,Zo=Go/2;function Qo(t){return 1==+t?1:1-Math.cos(t*Zo)}function Jo(t){return Math.sin(t*Zo)}function Ko(t){return(1-Math.cos(Go*t))/2}function ts(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function es(t){return ts(1-+t)}function ns(t){return 1-ts(t)}function rs(t){return((t*=2)<=1?ts(1-t):2-ts(t-1))/2}function is(t){return 1-Math.sqrt(1-t*t)}function as(t){return Math.sqrt(1- --t*t)}function os(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var ss=4/11,us=6/11,cs=8/11,fs=3/4,ls=9/11,hs=10/11,ds=15/16,ps=21/22,vs=63/64,gs=1/ss/ss;function ys(t){return 1-ms(1-t)}function ms(t){return(t=+t)<ss?gs*t*t:t<cs?gs*(t-=us)*t+fs:t<hs?gs*(t-=ls)*t+ds:gs*(t-=ps)*t+vs}function bs(t){return((t*=2)<=1?1-ms(1-t):ms(t-1)+1)/2}var _s=1.70158,ws=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(_s),xs=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(_s),Ms=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(_s),Cs=2*Math.PI,ks=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Cs);function i(t){return e*ts(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Cs)},i.period=function(n){return t(e,n)},i}(1,.3),Ns=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Cs);function i(t){return 1-e*ts(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Cs)},i.period=function(n){return t(e,n)},i}(1,.3),Ps=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Cs);function i(t){return((t=2*t-1)<0?e*ts(-t)*Math.sin((r-t)/n):2-e*ts(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Cs)},i.period=function(n){return t(e,n)},i}(1,.3);function Ss(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function As(t,e){return fetch(t,e).then(Ss)}function Ts(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Es(t,e){return fetch(t,e).then(Ts)}function Ds(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Rs(t,e){return fetch(t,e).then(Ds)}function Ls(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Rs(e,n).then((function(e){return t(e,r)}))}}function Os(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=Mo(t);return Rs(e,n).then((function(t){return i.parse(t,r)}))}var zs=Ls(ko),js=Ls(Ro);function Us(t,e){return new Promise((function(n,r){var i=new Image;for(var a in e)i[a]=e[a];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function Is(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Bs(t,e){return fetch(t,e).then(Is)}function qs(t){return function(e,n){return Rs(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}const Fs=qs("application/xml");var Hs=qs("text/html"),$s=qs("image/svg+xml");function Ys(t,e){var n;function r(){var r,i,a=n.length,o=0,s=0;for(r=0;r<a;++r)o+=(i=n[r]).x,s+=i.y;for(o=o/a-t,s=s/a-e,r=0;r<a;++r)(i=n[r]).x-=o,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r}function Vs(t){return function(){return t}}function Ws(){return 1e-6*(Math.random()-.5)}function Xs(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a,o,s,u,c,f,l,h,d=t._root,p={data:r},v=t._x0,g=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(a=(v+y)/2))?v=a:y=a,(f=n>=(o=(g+m)/2))?g=o:m=o,i=d,!(d=d[l=f<<1|c]))return i[l]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(c=e>=(a=(v+y)/2))?v=a:y=a,(f=n>=(o=(g+m)/2))?g=o:m=o}while((l=f<<1|c)==(h=(u>=o)<<1|s>=a));return i[h]=d,i[l]=p,t}function Gs(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Zs(t){return t[0]}function Qs(t){return t[1]}function Js(t,e,n){var r=new Ks(null==e?Zs:e,null==n?Qs:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ks(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function tu(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var eu=Js.prototype=Ks.prototype;function nu(t){return t.x+t.vx}function ru(t){return t.y+t.vy}function iu(t){var e,n,r=1,i=1;function a(){for(var t,a,s,u,c,f,l,h=e.length,d=0;d<i;++d)for(a=Js(e,nu,ru).visitAfter(o),t=0;t<h;++t)s=e[t],f=n[s.index],l=f*f,u=s.x+s.vx,c=s.y+s.vy,a.visit(p);function p(t,e,n,i,a){var o=t.data,h=t.r,d=f+h;if(!o)return e>u+d||i<u-d||n>c+d||a<c-d;if(o.index>s.index){var p=u-o.x-o.vx,v=c-o.y-o.vy,g=p*p+v*v;g<d*d&&(0===p&&(g+=(p=Ws())*p),0===v&&(g+=(v=Ws())*v),g=(d-(g=Math.sqrt(g)))/g*r,s.vx+=(p*=g)*(d=(h*=h)/(l+h)),s.vy+=(v*=g)*d,o.vx-=p*(d=1-d),o.vy-=v*d)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,a=e.length;for(n=new Array(a),r=0;r<a;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Vs(null==t?1:+t)),a.initialize=function(t){e=t,s()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(r=+t,a):r},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:Vs(+e),s(),a):t},a}function au(t){return t.index}function ou(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function su(t){var e,n,r,i,a,o=au,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=Vs(30),c=1;function f(r){for(var i=0,o=t.length;i<c;++i)for(var s,u,f,l,h,d,p,v=0;v<o;++v)u=(s=t[v]).source,l=(f=s.target).x+f.vx-u.x-u.vx||Ws(),h=f.y+f.vy-u.y-u.vy||Ws(),l*=d=((d=Math.sqrt(l*l+h*h))-n[v])/d*r*e[v],h*=d,f.vx-=l*(p=a[v]),f.vy-=h*p,u.vx+=l*(p=1-p),u.vy+=h*p}function l(){if(r){var s,u,c=r.length,f=t.length,l=ea(r,o);for(s=0,i=new Array(c);s<f;++s)(u=t[s]).index=s,"object"!=typeof u.source&&(u.source=ou(l,u.source)),"object"!=typeof u.target&&(u.target=ou(l,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,a=new Array(f);s<f;++s)u=t[s],a[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(f),h(),n=new Array(f),d()}}function h(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t){r=t,l()},f.links=function(e){return arguments.length?(t=e,l(),f):t},f.id=function(t){return arguments.length?(o=t,f):o},f.iterations=function(t){return arguments.length?(c=+t,f):c},f.strength=function(t){return arguments.length?(s="function"==typeof t?t:Vs(+t),h(),f):s},f.distance=function(t){return arguments.length?(u="function"==typeof t?t:Vs(+t),d(),f):u},f}function uu(t){return t.x}function cu(t){return t.y}eu.copy=function(){var t,e,n=new Ks(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=tu(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=tu(e));return n},eu.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Xs(this.cover(e,n),e,n,t)},eu.addAll=function(t){var e,n,r,i,a=t.length,o=new Array(a),s=new Array(a),u=1/0,c=1/0,f=-1/0,l=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,s[n]=i,r<u&&(u=r),r>f&&(f=r),i<c&&(c=i),i>l&&(l=i));if(u>f||c>l)return this;for(this.cover(u,c).cover(f,l),n=0;n<a;++n)Xs(this,o[n],s[n],t[n]);return this},eu.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o,s,u=i-n,c=this._root;n>t||t>=i||r>e||e>=a;)switch(s=(e<r)<<1|t<n,(o=new Array(4))[s]=c,c=o,u*=2,s){case 0:i=n+u,a=r+u;break;case 1:n=i-u,a=r+u;break;case 2:i=n+u,r=a-u;break;case 3:n=i-u,r=a-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},eu.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},eu.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},eu.find=function(t,e,n){var r,i,a,o,s,u,c,f=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new Gs(v,f,l,h,d)),null==n?n=1/0:(f=t-n,l=e-n,h=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>h||(a=u.y0)>d||(o=u.x1)<f||(s=u.y1)<l))if(v.length){var g=(i+o)/2,y=(a+s)/2;p.push(new Gs(v[3],g,y,o,s),new Gs(v[2],i,y,g,s),new Gs(v[1],g,a,o,y),new Gs(v[0],i,a,g,y)),(c=(e>=y)<<1|t>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var m=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),_=m*m+b*b;if(_<n){var w=Math.sqrt(n=_);f=t-w,l=e-w,h=t+w,d=e+w,r=v.data}}return r},eu.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,a,o,s,u,c,f,l,h,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=a>=(s=(p+g)/2))?p=s:g=s,(f=o>=(u=(v+y)/2))?v=u:y=u,e=d,!(d=d[l=f<<1|c]))return this;if(!d.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[l]=i:delete e[l],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},eu.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},eu.root=function(){return this._root},eu.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},eu.visit=function(t){var e,n,r,i,a,o,s=[],u=this._root;for(u&&s.push(new Gs(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,a=e.x1,o=e.y1)&&u.length){var c=(r+a)/2,f=(i+o)/2;(n=u[3])&&s.push(new Gs(n,c,f,a,o)),(n=u[2])&&s.push(new Gs(n,r,f,c,o)),(n=u[1])&&s.push(new Gs(n,c,i,a,f)),(n=u[0])&&s.push(new Gs(n,r,i,c,f))}return this},eu.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Gs(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var a,o=e.x0,s=e.y0,u=e.x1,c=e.y1,f=(o+u)/2,l=(s+c)/2;(a=i[0])&&n.push(new Gs(a,o,s,f,l)),(a=i[1])&&n.push(new Gs(a,f,s,u,l)),(a=i[2])&&n.push(new Gs(a,o,l,f,c)),(a=i[3])&&n.push(new Gs(a,f,l,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},eu.x=function(t){return arguments.length?(this._x=t,this):this._x},eu.y=function(t){return arguments.length?(this._y=t,this):this._y};var fu=10,lu=Math.PI*(3-Math.sqrt(5));function hu(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=ea(),u=Kn(f),c=vt("tick","end");function f(){l(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function l(r){var u,c,f=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(n+=(a-n)*i,s.each((function(t){t(n)})),u=0;u<f;++u)null==(c=t[u]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return e}function h(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=fu*Math.sqrt(n),a=n*lu;e.x=i*Math.cos(a),e.y=i*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),h(),e={tick:l,restart:function(){return u.restart(f),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,h(),s.each(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,r){var i,a,o,s,u,c=0,f=t.length;for(null==r?r=1/0:r*=r,c=0;c<f;++c)(o=(i=e-(s=t[c]).x)*i+(a=n-s.y)*a)<r&&(u=s,r=o);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function du(){var t,e,n,r,i=Vs(-30),a=1,o=1/0,s=.81;function u(r){var i,a=t.length,o=Js(t,uu,cu).visitAfter(f);for(n=r,i=0;i<a;++i)e=t[i],o.visit(l)}function c(){if(t){var e,n,a=t.length;for(r=new Array(a),e=0;e<a;++e)n=t[e],r[n.index]=+i(n,e,t)}}function f(t){var e,n,i,a,o,s=0,u=0;if(t.length){for(i=a=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,i+=n*e.x,a+=n*e.y);t.x=i/u,t.y=a/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function l(t,i,u,c){if(!t.value)return!0;var f=t.x-e.x,l=t.y-e.y,h=c-i,d=f*f+l*l;if(h*h/s<d)return d<o&&(0===f&&(d+=(f=Ws())*f),0===l&&(d+=(l=Ws())*l),d<a&&(d=Math.sqrt(a*d)),e.vx+=f*t.value*n/d,e.vy+=l*t.value*n/d),!0;if(!(t.length||d>=o)){(t.data!==e||t.next)&&(0===f&&(d+=(f=Ws())*f),0===l&&(d+=(l=Ws())*l),d<a&&(d=Math.sqrt(a*d)));do{t.data!==e&&(h=r[t.data.index]*n/d,e.vx+=f*h,e.vy+=l*h)}while(t=t.next)}}return u.initialize=function(e){t=e,c()},u.strength=function(t){return arguments.length?(i="function"==typeof t?t:Vs(+t),c(),u):i},u.distanceMin=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.distanceMax=function(t){return arguments.length?(o=t*t,u):Math.sqrt(o)},u.theta=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u}function pu(t,e,n){var r,i,a,o=Vs(.1);function s(t){for(var o=0,s=r.length;o<s;++o){var u=r[o],c=u.x-e||1e-6,f=u.y-n||1e-6,l=Math.sqrt(c*c+f*f),h=(a[o]-l)*i[o]*t/l;u.vx+=c*h,u.vy+=f*h}}function u(){if(r){var e,n=r.length;for(i=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(r[e],e,r),i[e]=isNaN(a[e])?0:+o(r[e],e,r)}}return"function"!=typeof t&&(t=Vs(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,u()},s.strength=function(t){return arguments.length?(o="function"==typeof t?t:Vs(+t),u(),s):o},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Vs(+e),u(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s}function vu(t){var e,n,r,i=Vs(.1);function a(t){for(var i,a=0,o=e.length;a<o;++a)(i=e[a]).vx+=(r[a]-i.x)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!=typeof t&&(t=Vs(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:Vs(+t),o(),a):i},a.x=function(e){return arguments.length?(t="function"==typeof e?e:Vs(+e),o(),a):t},a}function gu(t){var e,n,r,i=Vs(.1);function a(t){for(var i,a=0,o=e.length;a<o;++a)(i=e[a]).vy+=(r[a]-i.y)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!=typeof t&&(t=Vs(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:Vs(+t),o(),a):i},a.y=function(e){return arguments.length?(t="function"==typeof e?e:Vs(+e),o(),a):t},a}function yu(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function mu(t){return(t=yu(Math.abs(t)))?t[1]:NaN}var bu,_u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wu(t){if(!(e=_u.exec(t)))throw new Error("invalid format: "+t);var e;return new xu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function xu(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Mu(t,e){var n=yu(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}wu.prototype=xu.prototype,xu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Cu={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Mu(100*t,e)},r:Mu,s:function(t,e){var n=yu(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(bu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+yu(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ku(t){return t}var Nu,Pu,Su,Au=Array.prototype.map,Tu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Eu(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ku:(e=Au.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?ku:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Au.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function l(t){var e=(t=wu(t)).fill,n=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,g=t.precision,y=t.trim,m=t.type;"n"===m?(v=!0,m="g"):Cu[m]||(void 0===g&&(g=12),y=!0,m="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_="$"===h?a:/[%p]/.test(m)?u:"",w=Cu[m],x=/[defgprs%]/.test(m);function M(t){var i,a,u,h=b,M=_;if("c"===m)M=w(t)+M,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:w(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),C&&0==+t&&"+"!==l&&(C=!1),h=(C?"("===l?l:c:"-"===l||"("===l?"":l)+h,M=("s"===m?Tu[8+bu/3]:"")+M+(C&&"("===l?")":""),x)for(i=-1,a=t.length;++i<a;)if(48>(u=t.charCodeAt(i))||u>57){M=(46===u?o+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}v&&!d&&(t=r(t,1/0));var k=h.length+t.length+M.length,N=k<p?new Array(p-k+1).join(e):"";switch(v&&d&&(t=r(N+t,N.length?p-M.length:1/0),N=""),n){case"<":t=h+t+M+N;break;case"=":t=h+N+t+M;break;case"^":t=N.slice(0,k=N.length>>1)+h+t+M+N.slice(k);break;default:t=N+h+t+M}return s(t)}return g=void 0===g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,e){var n=l(((t=wu(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(mu(e)/3))),i=Math.pow(10,-r),a=Tu[8+r/3];return function(t){return n(i*t)+a}}}}function Du(t){return Nu=Eu(t),Pu=Nu.format,Su=Nu.formatPrefix,Nu}function Ru(t){return Math.max(0,-mu(Math.abs(t)))}function Lu(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(mu(e)/3)))-mu(Math.abs(t)))}function Ou(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mu(e)-mu(t))+1}function zu(){return new ju}function ju(){this.reset()}Du({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),ju.prototype={constructor:ju,reset:function(){this.s=this.t=0},add:function(t){Iu(Uu,t,this.t),Iu(this,Uu.s,this.s),this.s?this.t+=Uu.t:this.s=Uu.t},valueOf:function(){return this.s}};var Uu=new ju;function Iu(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var Bu=1e-6,qu=1e-12,Fu=Math.PI,Hu=Fu/2,$u=Fu/4,Yu=2*Fu,Vu=180/Fu,Wu=Fu/180,Xu=Math.abs,Gu=Math.atan,Zu=Math.atan2,Qu=Math.cos,Ju=Math.ceil,Ku=Math.exp,tc=(Math.floor,Math.log),ec=Math.pow,nc=Math.sin,rc=Math.sign||function(t){return t>0?1:t<0?-1:0},ic=Math.sqrt,ac=Math.tan;function oc(t){return t>1?0:t<-1?Fu:Math.acos(t)}function sc(t){return t>1?Hu:t<-1?-Hu:Math.asin(t)}function uc(t){return(t=nc(t/2))*t}function cc(){}function fc(t,e){t&&hc.hasOwnProperty(t.type)&&hc[t.type](t,e)}var lc={Feature:function(t,e){fc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)fc(n[r].geometry,e)}},hc={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){dc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)dc(n[r],e,0)},Polygon:function(t,e){pc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)pc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)fc(n[r],e)}};function dc(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function pc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)dc(t[n],e,1);e.polygonEnd()}function vc(t,e){t&&lc.hasOwnProperty(t.type)?lc[t.type](t,e):fc(t,e)}var gc,yc,mc,bc,_c,wc=zu(),xc=zu(),Mc={point:cc,lineStart:cc,lineEnd:cc,polygonStart:function(){wc.reset(),Mc.lineStart=Cc,Mc.lineEnd=kc},polygonEnd:function(){var t=+wc;xc.add(t<0?Yu+t:t),this.lineStart=this.lineEnd=this.point=cc},sphere:function(){xc.add(Yu)}};function Cc(){Mc.point=Nc}function kc(){Pc(gc,yc)}function Nc(t,e){Mc.point=Pc,gc=t,yc=e,mc=t*=Wu,bc=Qu(e=(e*=Wu)/2+$u),_c=nc(e)}function Pc(t,e){var n=(t*=Wu)-mc,r=n>=0?1:-1,i=r*n,a=Qu(e=(e*=Wu)/2+$u),o=nc(e),s=_c*o,u=bc*a+s*Qu(i),c=s*r*nc(i);wc.add(Zu(c,u)),mc=t,bc=a,_c=o}function Sc(t){return xc.reset(),vc(t,Mc),2*xc}function Ac(t){return[Zu(t[1],t[0]),sc(t[2])]}function Tc(t){var e=t[0],n=t[1],r=Qu(n);return[r*Qu(e),r*nc(e),nc(n)]}function Ec(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Dc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Rc(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Lc(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Oc(t){var e=ic(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var zc,jc,Uc,Ic,Bc,qc,Fc,Hc,$c,Yc,Vc,Wc,Xc,Gc,Zc,Qc,Jc,Kc,tf,ef,nf,rf,af,of,sf,uf,cf=zu(),ff={point:lf,lineStart:df,lineEnd:pf,polygonStart:function(){ff.point=vf,ff.lineStart=gf,ff.lineEnd=yf,cf.reset(),Mc.polygonStart()},polygonEnd:function(){Mc.polygonEnd(),ff.point=lf,ff.lineStart=df,ff.lineEnd=pf,wc<0?(zc=-(Uc=180),jc=-(Ic=90)):cf>Bu?Ic=90:cf<-Bu&&(jc=-90),Yc[0]=zc,Yc[1]=Uc},sphere:function(){zc=-(Uc=180),jc=-(Ic=90)}};function lf(t,e){$c.push(Yc=[zc=t,Uc=t]),e<jc&&(jc=e),e>Ic&&(Ic=e)}function hf(t,e){var n=Tc([t*Wu,e*Wu]);if(Hc){var r=Dc(Hc,n),i=Dc([r[1],-r[0],0],r);Oc(i),i=Ac(i);var a,o=t-Bc,s=o>0?1:-1,u=i[0]*Vu*s,c=Xu(o)>180;c^(s*Bc<u&&u<s*t)?(a=i[1]*Vu)>Ic&&(Ic=a):c^(s*Bc<(u=(u+360)%360-180)&&u<s*t)?(a=-i[1]*Vu)<jc&&(jc=a):(e<jc&&(jc=e),e>Ic&&(Ic=e)),c?t<Bc?mf(zc,t)>mf(zc,Uc)&&(Uc=t):mf(t,Uc)>mf(zc,Uc)&&(zc=t):Uc>=zc?(t<zc&&(zc=t),t>Uc&&(Uc=t)):t>Bc?mf(zc,t)>mf(zc,Uc)&&(Uc=t):mf(t,Uc)>mf(zc,Uc)&&(zc=t)}else $c.push(Yc=[zc=t,Uc=t]);e<jc&&(jc=e),e>Ic&&(Ic=e),Hc=n,Bc=t}function df(){ff.point=hf}function pf(){Yc[0]=zc,Yc[1]=Uc,ff.point=lf,Hc=null}function vf(t,e){if(Hc){var n=t-Bc;cf.add(Xu(n)>180?n+(n>0?360:-360):n)}else qc=t,Fc=e;Mc.point(t,e),hf(t,e)}function gf(){Mc.lineStart()}function yf(){vf(qc,Fc),Mc.lineEnd(),Xu(cf)>Bu&&(zc=-(Uc=180)),Yc[0]=zc,Yc[1]=Uc,Hc=null}function mf(t,e){return(e-=t)<0?e+360:e}function bf(t,e){return t[0]-e[0]}function _f(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function wf(t){var e,n,r,i,a,o,s;if(Ic=Uc=-(zc=jc=1/0),$c=[],vc(t,ff),n=$c.length){for($c.sort(bf),e=1,a=[r=$c[0]];e<n;++e)_f(r,(i=$c[e])[0])||_f(r,i[1])?(mf(r[0],i[1])>mf(r[0],r[1])&&(r[1]=i[1]),mf(i[0],r[1])>mf(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)i=a[e],(s=mf(r[1],i[0]))>o&&(o=s,zc=i[0],Uc=r[1])}return $c=Yc=null,zc===1/0||jc===1/0?[[NaN,NaN],[NaN,NaN]]:[[zc,jc],[Uc,Ic]]}var xf={sphere:cc,point:Mf,lineStart:kf,lineEnd:Sf,polygonStart:function(){xf.lineStart=Af,xf.lineEnd=Tf},polygonEnd:function(){xf.lineStart=kf,xf.lineEnd=Sf}};function Mf(t,e){t*=Wu;var n=Qu(e*=Wu);Cf(n*Qu(t),n*nc(t),nc(e))}function Cf(t,e,n){++Vc,Xc+=(t-Xc)/Vc,Gc+=(e-Gc)/Vc,Zc+=(n-Zc)/Vc}function kf(){xf.point=Nf}function Nf(t,e){t*=Wu;var n=Qu(e*=Wu);of=n*Qu(t),sf=n*nc(t),uf=nc(e),xf.point=Pf,Cf(of,sf,uf)}function Pf(t,e){t*=Wu;var n=Qu(e*=Wu),r=n*Qu(t),i=n*nc(t),a=nc(e),o=Zu(ic((o=sf*a-uf*i)*o+(o=uf*r-of*a)*o+(o=of*i-sf*r)*o),of*r+sf*i+uf*a);Wc+=o,Qc+=o*(of+(of=r)),Jc+=o*(sf+(sf=i)),Kc+=o*(uf+(uf=a)),Cf(of,sf,uf)}function Sf(){xf.point=Mf}function Af(){xf.point=Ef}function Tf(){Df(rf,af),xf.point=Mf}function Ef(t,e){rf=t,af=e,t*=Wu,e*=Wu,xf.point=Df;var n=Qu(e);of=n*Qu(t),sf=n*nc(t),uf=nc(e),Cf(of,sf,uf)}function Df(t,e){t*=Wu;var n=Qu(e*=Wu),r=n*Qu(t),i=n*nc(t),a=nc(e),o=sf*a-uf*i,s=uf*r-of*a,u=of*i-sf*r,c=ic(o*o+s*s+u*u),f=sc(c),l=c&&-f/c;tf+=l*o,ef+=l*s,nf+=l*u,Wc+=f,Qc+=f*(of+(of=r)),Jc+=f*(sf+(sf=i)),Kc+=f*(uf+(uf=a)),Cf(of,sf,uf)}function Rf(t){Vc=Wc=Xc=Gc=Zc=Qc=Jc=Kc=tf=ef=nf=0,vc(t,xf);var e=tf,n=ef,r=nf,i=e*e+n*n+r*r;return i<qu&&(e=Qc,n=Jc,r=Kc,Wc<Bu&&(e=Xc,n=Gc,r=Zc),(i=e*e+n*n+r*r)<qu)?[NaN,NaN]:[Zu(n,e)*Vu,sc(r/ic(i))*Vu]}function Lf(t){return function(){return t}}function Of(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function zf(t,e){return[Xu(t)>Fu?t+Math.round(-t/Yu)*Yu:t,e]}function jf(t,e,n){return(t%=Yu)?e||n?Of(If(t),Bf(e,n)):If(t):e||n?Bf(e,n):zf}function Uf(t){return function(e,n){return[(e+=t)>Fu?e-Yu:e<-Fu?e+Yu:e,n]}}function If(t){var e=Uf(t);return e.invert=Uf(-t),e}function Bf(t,e){var n=Qu(t),r=nc(t),i=Qu(e),a=nc(e);function o(t,e){var o=Qu(e),s=Qu(t)*o,u=nc(t)*o,c=nc(e),f=c*n+s*r;return[Zu(u*i-f*a,s*n-c*r),sc(f*i+u*a)]}return o.invert=function(t,e){var o=Qu(e),s=Qu(t)*o,u=nc(t)*o,c=nc(e),f=c*i-u*a;return[Zu(u*i+c*a,s*n+f*r),sc(f*n-s*r)]},o}function qf(t){function e(e){return(e=t(e[0]*Wu,e[1]*Wu))[0]*=Vu,e[1]*=Vu,e}return t=jf(t[0]*Wu,t[1]*Wu,t.length>2?t[2]*Wu:0),e.invert=function(e){return(e=t.invert(e[0]*Wu,e[1]*Wu))[0]*=Vu,e[1]*=Vu,e},e}function Ff(t,e,n,r,i,a){if(n){var o=Qu(e),s=nc(e),u=r*n;null==i?(i=e+r*Yu,a=e-u/2):(i=Hf(o,i),a=Hf(o,a),(r>0?i<a:i>a)&&(i+=r*Yu));for(var c,f=i;r>0?f>a:f<a;f-=u)c=Ac([o,-s*Qu(f),-s*nc(f)]),t.point(c[0],c[1])}}function Hf(t,e){(e=Tc(e))[0]-=t,Oc(e);var n=oc(-e[1]);return((-e[2]<0?-n:n)+Yu-Bu)%Yu}function $f(){var t,e,n=Lf([0,0]),r=Lf(90),i=Lf(6),a={point:function(n,r){t.push(n=e(n,r)),n[0]*=Vu,n[1]*=Vu}};function o(){var o=n.apply(this,arguments),s=r.apply(this,arguments)*Wu,u=i.apply(this,arguments)*Wu;return t=[],e=jf(-o[0]*Wu,-o[1]*Wu,0).invert,Ff(a,s,u,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return o.center=function(t){return arguments.length?(n="function"==typeof t?t:Lf([+t[0],+t[1]]),o):n},o.radius=function(t){return arguments.length?(r="function"==typeof t?t:Lf(+t),o):r},o.precision=function(t){return arguments.length?(i="function"==typeof t?t:Lf(+t),o):i},o}function Yf(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:cc,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Vf(t,e){return Xu(t[0]-e[0])<Bu&&Xu(t[1]-e[1])<Bu}function Wf(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Xf(t,e,n,r,i){var a,o,s=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(Vf(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);return void i.lineEnd()}o[0]+=2*Bu}s.push(n=new Wf(r,t,null,!0)),u.push(n.o=new Wf(r,null,n,!1)),s.push(n=new Wf(o,t,null,!1)),u.push(n.o=new Wf(o,null,n,!0))}})),s.length){for(u.sort(e),Gf(s),Gf(u),a=0,o=u.length;a<o;++a)u[a].e=n=!n;for(var c,f,l=s[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,o=c.length;a<o;++a)i.point((f=c[a])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Gf(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}zf.invert=zf;var Zf=zu();function Qf(t){return Xu(t[0])<=Fu?t[0]:rc(t[0])*((Xu(t[0])+Fu)%Yu-Fu)}function Jf(t,e){var n=Qf(e),r=e[1],i=nc(r),a=[nc(n),-Qu(n),0],o=0,s=0;Zf.reset(),1===i?r=Hu+Bu:-1===i&&(r=-Hu-Bu);for(var u=0,c=t.length;u<c;++u)if(l=(f=t[u]).length)for(var f,l,h=f[l-1],d=Qf(h),p=h[1]/2+$u,v=nc(p),g=Qu(p),y=0;y<l;++y,d=b,v=w,g=x,h=m){var m=f[y],b=Qf(m),_=m[1]/2+$u,w=nc(_),x=Qu(_),M=b-d,C=M>=0?1:-1,k=C*M,N=k>Fu,P=v*w;if(Zf.add(Zu(P*C*nc(k),g*x+P*Qu(k))),o+=N?M+C*Yu:M,N^d>=n^b>=n){var S=Dc(Tc(h),Tc(m));Oc(S);var A=Dc(a,S);Oc(A);var T=(N^M>=0?-1:1)*sc(A[2]);(r>T||r===T&&(S[0]||S[1]))&&(s+=N^M>=0?1:-1)}}return(o<-Bu||o<Bu&&Zf<-Bu)^1&s}function Kf(t,e,n,r){return function(i){var a,o,s,u=e(i),c=Yf(),f=e(c),l=!1,h={point:d,lineStart:v,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=b,o=[],a=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=g,o=U(o);var t=Jf(a,r);o.length?(l||(i.polygonStart(),l=!0),Xf(o,el,t,n,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){u.point(t,e)}function v(){h.point=p,u.lineStart()}function g(){h.point=d,u.lineEnd()}function y(t,e){s.push([t,e]),f.point(t,e)}function m(){f.lineStart(),s=[]}function b(){y(s[0][0],s[0][1]),f.lineEnd();var t,e,n,r,u=f.clean(),h=c.result(),d=h.length;if(s.pop(),a.push(s),s=null,d)if(1&u){if((e=(n=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&u&&h.push(h.pop().concat(h.shift())),o.push(h.filter(tl))}return h}}function tl(t){return t.length>1}function el(t,e){return((t=t.x)[0]<0?t[1]-Hu-Bu:Hu-t[1])-((e=e.x)[0]<0?e[1]-Hu-Bu:Hu-e[1])}const nl=Kf((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Fu:-Fu,u=Xu(a-n);Xu(u-Fu)<Bu?(t.point(n,r=(r+o)/2>0?Hu:-Hu),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&u>=Fu&&(Xu(n-i)<Bu&&(n-=i*Bu),Xu(a-s)<Bu&&(a-=s*Bu),r=function(t,e,n,r){var i,a,o=nc(t-n);return Xu(o)>Bu?Gu((nc(e)*(a=Qu(r))*nc(n)-nc(r)*(i=Qu(e))*nc(t))/(i*a*o)):(e+r)/2}(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Hu,r.point(-Fu,i),r.point(0,i),r.point(Fu,i),r.point(Fu,0),r.point(Fu,-i),r.point(0,-i),r.point(-Fu,-i),r.point(-Fu,0),r.point(-Fu,i);else if(Xu(t[0]-e[0])>Bu){var a=t[0]<e[0]?Fu:-Fu;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}),[-Fu,-Hu]);function rl(t){var e=Qu(t),n=6*Wu,r=e>0,i=Xu(e)>Bu;function a(t,n){return Qu(t)*Qu(n)>e}function o(t,n,r){var i=[1,0,0],a=Dc(Tc(t),Tc(n)),o=Ec(a,a),s=a[0],u=o-s*s;if(!u)return!r&&t;var c=e*o/u,f=-e*s/u,l=Dc(i,a),h=Lc(i,c);Rc(h,Lc(a,f));var d=l,p=Ec(h,d),v=Ec(d,d),g=p*p-v*(Ec(h,h)-1);if(!(g<0)){var y=ic(g),m=Lc(d,(-p-y)/v);if(Rc(m,h),m=Ac(m),!r)return m;var b,_=t[0],w=n[0],x=t[1],M=n[1];w<_&&(b=_,_=w,w=b);var C=w-_,k=Xu(C-Fu)<Bu;if(!k&&M<x&&(b=x,x=M,M=b),k||C<Bu?k?x+M>0^m[1]<(Xu(m[0]-_)<Bu?x:M):x<=m[1]&&m[1]<=M:C>Fu^(_<=m[0]&&m[0]<=w)){var N=Lc(d,(-p+y)/v);return Rc(N,h),[m,Ac(N)]}}}function s(e,n){var i=r?t:Fu-t,a=0;return e<-i?a|=1:e>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return Kf(a,(function(t){var e,n,u,c,f;return{lineStart:function(){c=u=!1,f=1},point:function(l,h){var d,p=[l,h],v=a(l,h),g=r?v?0:s(l,h):v?s(l+(l<0?Fu:-Fu),h):0;if(!e&&(c=u=v)&&t.lineStart(),v!==u&&(!(d=o(e,p))||Vf(e,d)||Vf(p,d))&&(p[2]=1),v!==u)f=0,v?(t.lineStart(),d=o(p,e),t.point(d[0],d[1])):(d=o(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^v){var y;g&n||!(y=o(p,e,!0))||(f=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!v||e&&Vf(e,p)||t.point(p[0],p[1]),e=p,u=v,n=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return f|(c&&u)<<1}}}),(function(e,r,i,a){Ff(a,t,n,i,e,r)}),r?[0,-t]:[-Fu,t-Fu])}var il=1e9,al=-il;function ol(t,e,n,r){function i(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function a(i,a,s,c){var f=0,l=0;if(null==i||(f=o(i,s))!==(l=o(a,s))||u(i,a)<0^s>0)do{c.point(0===f||3===f?t:n,f>1?r:e)}while((f=(f+s+4)%4)!==l);else c.point(a[0],a[1])}function o(r,i){return Xu(r[0]-t)<Bu?i>0?0:3:Xu(r[0]-n)<Bu?i>0?2:1:Xu(r[1]-e)<Bu?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var u,c,f,l,h,d,p,v,g,y,m,b=o,_=Yf(),w={point:x,lineStart:function(){w.point=M,c&&c.push(f=[]),y=!0,g=!1,p=v=NaN},lineEnd:function(){u&&(M(l,h),d&&g&&_.rejoin(),u.push(_.result())),w.point=x,g&&b.lineEnd()},polygonStart:function(){b=_,u=[],c=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var a,o,s=c[n],u=1,f=s.length,l=s[0],h=l[0],d=l[1];u<f;++u)a=h,o=d,h=(l=s[u])[0],d=l[1],o<=r?d>r&&(h-a)*(r-o)>(d-o)*(t-a)&&++e:d<=r&&(h-a)*(r-o)<(d-o)*(t-a)&&--e;return e}(),n=m&&e,i=(u=U(u)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&Xf(u,s,e,a,o),o.polygonEnd()),b=o,u=c=f=null}};function x(t,e){i(t,e)&&b.point(t,e)}function M(a,o){var s=i(a,o);if(c&&f.push([a,o]),y)l=a,h=o,d=s,y=!1,s&&(b.lineStart(),b.point(a,o));else if(s&&g)b.point(a,o);else{var u=[p=Math.max(al,Math.min(il,p)),v=Math.max(al,Math.min(il,v))],_=[a=Math.max(al,Math.min(il,a)),o=Math.max(al,Math.min(il,o))];!function(t,e,n,r,i,a){var o,s=t[0],u=t[1],c=0,f=1,l=e[0]-s,h=e[1]-u;if(o=n-s,l||!(o>0)){if(o/=l,l<0){if(o<c)return;o<f&&(f=o)}else if(l>0){if(o>f)return;o>c&&(c=o)}if(o=i-s,l||!(o<0)){if(o/=l,l<0){if(o>f)return;o>c&&(c=o)}else if(l>0){if(o<c)return;o<f&&(f=o)}if(o=r-u,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=a-u,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}return c>0&&(t[0]=s+c*l,t[1]=u+c*h),f<1&&(e[0]=s+f*l,e[1]=u+f*h),!0}}}}}(u,_,t,e,n,r)?s&&(b.lineStart(),b.point(a,o),m=!1):(g||(b.lineStart(),b.point(u[0],u[1])),b.point(_[0],_[1]),s||b.lineEnd(),m=!1)}p=a,v=o,g=s}return w}}function sl(){var t,e,n,r=0,i=0,a=960,o=500;return n={stream:function(n){return t&&e===n?t:t=ol(r,i,a,o)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],a=+s[1][0],o=+s[1][1],t=e=null,n):[[r,i],[a,o]]}}}var ul,cl,fl,ll=zu(),hl={sphere:cc,point:cc,lineStart:function(){hl.point=pl,hl.lineEnd=dl},lineEnd:cc,polygonStart:cc,polygonEnd:cc};function dl(){hl.point=hl.lineEnd=cc}function pl(t,e){ul=t*=Wu,cl=nc(e*=Wu),fl=Qu(e),hl.point=vl}function vl(t,e){t*=Wu;var n=nc(e*=Wu),r=Qu(e),i=Xu(t-ul),a=Qu(i),o=r*nc(i),s=fl*n-cl*r*a,u=cl*n+fl*r*a;ll.add(Zu(ic(o*o+s*s),u)),ul=t,cl=n,fl=r}function gl(t){return ll.reset(),vc(t,hl),+ll}var yl=[null,null],ml={type:"LineString",coordinates:yl};function bl(t,e){return yl[0]=t,yl[1]=e,gl(ml)}var _l={Feature:function(t,e){return xl(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(xl(n[r].geometry,e))return!0;return!1}},wl={Sphere:function(){return!0},Point:function(t,e){return Ml(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ml(n[r],e))return!0;return!1},LineString:function(t,e){return Cl(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Cl(n[r],e))return!0;return!1},Polygon:function(t,e){return kl(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(kl(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(xl(n[r],e))return!0;return!1}};function xl(t,e){return!(!t||!wl.hasOwnProperty(t.type))&&wl[t.type](t,e)}function Ml(t,e){return 0===bl(t,e)}function Cl(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(0===(r=bl(t[a],e)))return!0;if(a>0&&(i=bl(t[a],t[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<qu*i)return!0;n=r}return!1}function kl(t,e){return!!Jf(t.map(Nl),Pl(e))}function Nl(t){return(t=t.map(Pl)).pop(),t}function Pl(t){return[t[0]*Wu,t[1]*Wu]}function Sl(t,e){return(t&&_l.hasOwnProperty(t.type)?_l[t.type]:xl)(t,e)}function Al(t,e,n){var r=M(t,e-Bu,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Tl(t,e,n){var r=M(t,e-Bu,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function El(){var t,e,n,r,i,a,o,s,u,c,f,l,h=10,d=h,p=90,v=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return M(Ju(r/p)*p,n,p).map(f).concat(M(Ju(s/v)*v,o,v).map(l)).concat(M(Ju(e/h)*h,t,h).filter((function(t){return Xu(t%p)>Bu})).map(u)).concat(M(Ju(a/d)*d,i,d).filter((function(t){return Xu(t%v)>Bu})).map(c))}return y.lines=function(){return m().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(l(o).slice(1),f(n).reverse().slice(1),l(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),y.precision(g)):[[r,s],[n,o]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),y.precision(g)):[[e,a],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],y):[p,v]},y.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],y):[h,d]},y.precision=function(h){return arguments.length?(g=+h,u=Al(a,i,90),c=Tl(e,t,g),f=Al(s,o,90),l=Tl(r,n,g),y):g},y.extentMajor([[-180,-90+Bu],[180,90-Bu]]).extentMinor([[-180,-80-Bu],[180,80+Bu]])}function Dl(){return El()()}function Rl(t,e){var n=t[0]*Wu,r=t[1]*Wu,i=e[0]*Wu,a=e[1]*Wu,o=Qu(r),s=nc(r),u=Qu(a),c=nc(a),f=o*Qu(n),l=o*nc(n),h=u*Qu(i),d=u*nc(i),p=2*sc(ic(uc(a-r)+o*u*uc(i-n))),v=nc(p),g=p?function(t){var e=nc(t*=p)/v,n=nc(p-t)/v,r=n*f+e*h,i=n*l+e*d,a=n*s+e*c;return[Zu(i,r)*Vu,Zu(a,ic(r*r+i*i))*Vu]}:function(){return[n*Vu,r*Vu]};return g.distance=p,g}function Ll(t){return t}var Ol,zl,jl,Ul,Il=zu(),Bl=zu(),ql={point:cc,lineStart:cc,lineEnd:cc,polygonStart:function(){ql.lineStart=Fl,ql.lineEnd=Yl},polygonEnd:function(){ql.lineStart=ql.lineEnd=ql.point=cc,Il.add(Xu(Bl)),Bl.reset()},result:function(){var t=Il/2;return Il.reset(),t}};function Fl(){ql.point=Hl}function Hl(t,e){ql.point=$l,Ol=jl=t,zl=Ul=e}function $l(t,e){Bl.add(Ul*t-jl*e),jl=t,Ul=e}function Yl(){$l(Ol,zl)}const Vl=ql;var Wl=1/0,Xl=Wl,Gl=-Wl,Zl=Gl,Ql={point:function(t,e){t<Wl&&(Wl=t),t>Gl&&(Gl=t),e<Xl&&(Xl=e),e>Zl&&(Zl=e)},lineStart:cc,lineEnd:cc,polygonStart:cc,polygonEnd:cc,result:function(){var t=[[Wl,Xl],[Gl,Zl]];return Gl=Zl=-(Xl=Wl=1/0),t}};const Jl=Ql;var Kl,th,eh,nh,rh=0,ih=0,ah=0,oh=0,sh=0,uh=0,ch=0,fh=0,lh=0,hh={point:dh,lineStart:ph,lineEnd:yh,polygonStart:function(){hh.lineStart=mh,hh.lineEnd=bh},polygonEnd:function(){hh.point=dh,hh.lineStart=ph,hh.lineEnd=yh},result:function(){var t=lh?[ch/lh,fh/lh]:uh?[oh/uh,sh/uh]:ah?[rh/ah,ih/ah]:[NaN,NaN];return rh=ih=ah=oh=sh=uh=ch=fh=lh=0,t}};function dh(t,e){rh+=t,ih+=e,++ah}function ph(){hh.point=vh}function vh(t,e){hh.point=gh,dh(eh=t,nh=e)}function gh(t,e){var n=t-eh,r=e-nh,i=ic(n*n+r*r);oh+=i*(eh+t)/2,sh+=i*(nh+e)/2,uh+=i,dh(eh=t,nh=e)}function yh(){hh.point=dh}function mh(){hh.point=_h}function bh(){wh(Kl,th)}function _h(t,e){hh.point=wh,dh(Kl=eh=t,th=nh=e)}function wh(t,e){var n=t-eh,r=e-nh,i=ic(n*n+r*r);oh+=i*(eh+t)/2,sh+=i*(nh+e)/2,uh+=i,ch+=(i=nh*t-eh*e)*(eh+t),fh+=i*(nh+e),lh+=3*i,dh(eh=t,nh=e)}const xh=hh;function Mh(t){this._context=t}Mh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Yu)}},result:cc};var Ch,kh,Nh,Ph,Sh,Ah=zu(),Th={point:cc,lineStart:function(){Th.point=Eh},lineEnd:function(){Ch&&Dh(kh,Nh),Th.point=cc},polygonStart:function(){Ch=!0},polygonEnd:function(){Ch=null},result:function(){var t=+Ah;return Ah.reset(),t}};function Eh(t,e){Th.point=Dh,kh=Ph=t,Nh=Sh=e}function Dh(t,e){Ph-=t,Sh-=e,Ah.add(ic(Ph*Ph+Sh*Sh)),Ph=t,Sh=e}const Rh=Th;function Lh(){this._string=[]}function Oh(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function zh(t,e){var n,r,i=4.5;function a(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),vc(t,n(r))),r.result()}return a.area=function(t){return vc(t,n(Vl)),Vl.result()},a.measure=function(t){return vc(t,n(Rh)),Rh.result()},a.bounds=function(t){return vc(t,n(Jl)),Jl.result()},a.centroid=function(t){return vc(t,n(xh)),xh.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,Ll):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new Lh):new Mh(e=t),"function"!=typeof i&&r.pointRadius(i),a):e},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(e)}function jh(t){return{stream:Uh(t)}}function Uh(t){return function(e){var n=new Ih;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ih(){}function Bh(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),vc(n,t.stream(Jl)),e(Jl.result()),null!=r&&t.clipExtent(r),t}function qh(t,e,n){return Bh(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+e[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([o,s])}),n)}function Fh(t,e,n){return qh(t,[[0,0],e],n)}function Hh(t,e,n){return Bh(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];t.scale(150*i).translate([a,o])}),n)}function $h(t,e,n){return Bh(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,o])}),n)}Lh.prototype={_radius:4.5,_circle:Oh(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Oh(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Ih.prototype={constructor:Ih,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Yh=16,Vh=Qu(30*Wu);function Wh(t,e){return+e?function(t,e){function n(r,i,a,o,s,u,c,f,l,h,d,p,v,g){var y=c-r,m=f-i,b=y*y+m*m;if(b>4*e&&v--){var _=o+h,w=s+d,x=u+p,M=ic(_*_+w*w+x*x),C=sc(x/=M),k=Xu(Xu(x)-1)<Bu||Xu(a-l)<Bu?(a+l)/2:Zu(w,_),N=t(k,C),P=N[0],S=N[1],A=P-r,T=S-i,E=m*A-y*T;(E*E/b>e||Xu((y*A+m*T)/b-.5)>.3||o*h+s*d+u*p<Vh)&&(n(r,i,a,o,s,u,P,S,k,_/=M,w/=M,x,v,g),g.point(P,S),n(P,S,k,_,w,x,c,f,l,h,d,p,v,g))}}return function(e){var r,i,a,o,s,u,c,f,l,h,d,p,v={point:g,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),v.lineStart=_},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){f=NaN,v.point=m,e.lineStart()}function m(r,i){var a=Tc([r,i]),o=t(r,i);n(f,l,c,h,d,p,f=o[0],l=o[1],c=r,h=a[0],d=a[1],p=a[2],Yh,e),e.point(f,l)}function b(){v.point=g,e.lineEnd()}function _(){y(),v.point=w,v.lineEnd=x}function w(t,e){m(r=t,e),i=f,a=l,o=h,s=d,u=p,v.point=m}function x(){n(f,l,c,h,d,p,i,a,r,o,s,u,Yh,e),v.lineEnd=b,b()}return v}}(t,e):function(t){return Uh({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Xh=Uh({point:function(t,e){this.stream.point(t*Wu,e*Wu)}});function Gh(t,e,n,r,i){function a(a,o){return[e+t*(a*=r),n-t*(o*=i)]}return a.invert=function(a,o){return[(a-e)/t*r,(n-o)/t*i]},a}function Zh(t,e,n,r,i,a){var o=Qu(a),s=nc(a),u=o*t,c=s*t,f=o/t,l=s/t,h=(s*n-o*e)/t,d=(s*e+o*n)/t;function p(t,a){return[u*(t*=r)-c*(a*=i)+e,n-c*t-u*a]}return p.invert=function(t,e){return[r*(f*t-l*e+h),i*(d-l*t-f*e)]},p}function Qh(t){return Jh((function(){return t}))()}function Jh(t){var e,n,r,i,a,o,s,u,c,f,l=150,h=480,d=250,p=0,v=0,g=0,y=0,m=0,b=0,_=1,w=1,x=null,M=nl,C=null,k=Ll,N=.5;function P(t){return u(t[0]*Wu,t[1]*Wu)}function S(t){return(t=u.invert(t[0],t[1]))&&[t[0]*Vu,t[1]*Vu]}function A(){var t=Zh(l,0,0,_,w,b).apply(null,e(p,v)),r=(b?Zh:Gh)(l,h-t[0],d-t[1],_,w,b);return n=jf(g,y,m),s=Of(e,r),u=Of(n,s),o=Wh(s,N),T()}function T(){return c=f=null,P}return P.stream=function(t){return c&&f===t?c:c=Xh(function(t){return Uh({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(M(o(k(f=t)))))},P.preclip=function(t){return arguments.length?(M=t,x=void 0,T()):M},P.postclip=function(t){return arguments.length?(k=t,C=r=i=a=null,T()):k},P.clipAngle=function(t){return arguments.length?(M=+t?rl(x=t*Wu):(x=null,nl),T()):x*Vu},P.clipExtent=function(t){return arguments.length?(k=null==t?(C=r=i=a=null,Ll):ol(C=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),T()):null==C?null:[[C,r],[i,a]]},P.scale=function(t){return arguments.length?(l=+t,A()):l},P.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],A()):[h,d]},P.center=function(t){return arguments.length?(p=t[0]%360*Wu,v=t[1]%360*Wu,A()):[p*Vu,v*Vu]},P.rotate=function(t){return arguments.length?(g=t[0]%360*Wu,y=t[1]%360*Wu,m=t.length>2?t[2]%360*Wu:0,A()):[g*Vu,y*Vu,m*Vu]},P.angle=function(t){return arguments.length?(b=t%360*Wu,A()):b*Vu},P.reflectX=function(t){return arguments.length?(_=t?-1:1,A()):_<0},P.reflectY=function(t){return arguments.length?(w=t?-1:1,A()):w<0},P.precision=function(t){return arguments.length?(o=Wh(s,N=t*t),T()):ic(N)},P.fitExtent=function(t,e){return qh(P,t,e)},P.fitSize=function(t,e){return Fh(P,t,e)},P.fitWidth=function(t,e){return Hh(P,t,e)},P.fitHeight=function(t,e){return $h(P,t,e)},function(){return e=t.apply(this,arguments),P.invert=e.invert&&S,A()}}function Kh(t){var e=0,n=Fu/3,r=Jh(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Wu,n=t[1]*Wu):[e*Vu,n*Vu]},i}function td(t,e){var n=nc(t),r=(n+nc(e))/2;if(Xu(r)<Bu)return function(t){var e=Qu(t);function n(t,n){return[t*e,nc(n)/e]}return n.invert=function(t,n){return[t/e,sc(n*e)]},n}(t);var i=1+n*(2*r-n),a=ic(i)/r;function o(t,e){var n=ic(i-2*r*nc(e))/r;return[n*nc(t*=r),a-n*Qu(t)]}return o.invert=function(t,e){var n=a-e,o=Zu(t,Xu(n))*rc(n);return n*r<0&&(o-=Fu*rc(t)*rc(n)),[o/r,sc((i-(t*t+n*n)*r*r)/(2*r))]},o}function ed(){return Kh(td).scale(155.424).center([0,33.6442])}function nd(){return ed().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function rd(){var t,e,n,r,i,a,o=nd(),s=ed().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=ed().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){a=[t,e]}};function f(t){var e=t[0],o=t[1];return a=null,n.point(e,o),a||(r.point(e,o),a)||(i.point(e,o),a)}function l(){return t=e=null,f}return f.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:o).invert(t)},f.stream=function(n){return t&&e===n?t:(r=[o.stream(e=n),s.stream(n),u.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},f.precision=function(t){return arguments.length?(o.precision(t),s.precision(t),u.precision(t),l()):o.precision()},f.scale=function(t){return arguments.length?(o.scale(t),s.scale(.35*t),u.scale(t),f.translate(o.translate())):o.scale()},f.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),a=+t[0],f=+t[1];return n=o.translate(t).clipExtent([[a-.455*e,f-.238*e],[a+.455*e,f+.238*e]]).stream(c),r=s.translate([a-.307*e,f+.201*e]).clipExtent([[a-.425*e+Bu,f+.12*e+Bu],[a-.214*e-Bu,f+.234*e-Bu]]).stream(c),i=u.translate([a-.205*e,f+.212*e]).clipExtent([[a-.214*e+Bu,f+.166*e+Bu],[a-.115*e-Bu,f+.234*e-Bu]]).stream(c),l()},f.fitExtent=function(t,e){return qh(f,t,e)},f.fitSize=function(t,e){return Fh(f,t,e)},f.fitWidth=function(t,e){return Hh(f,t,e)},f.fitHeight=function(t,e){return $h(f,t,e)},f.scale(1070)}function id(t){return function(e,n){var r=Qu(e),i=Qu(n),a=t(r*i);return[a*i*nc(e),a*nc(n)]}}function ad(t){return function(e,n){var r=ic(e*e+n*n),i=t(r),a=nc(i),o=Qu(i);return[Zu(e*a,r*o),sc(r&&n*a/r)]}}var od=id((function(t){return ic(2/(1+t))}));function sd(){return Qh(od).scale(124.75).clipAngle(179.999)}od.invert=ad((function(t){return 2*sc(t/2)}));var ud=id((function(t){return(t=oc(t))&&t/nc(t)}));function cd(){return Qh(ud).scale(79.4188).clipAngle(179.999)}function fd(t,e){return[t,tc(ac((Hu+e)/2))]}function ld(){return hd(fd).scale(961/Yu)}function hd(t){var e,n,r,i=Qh(t),a=i.center,o=i.scale,s=i.translate,u=i.clipExtent,c=null;function f(){var a=Fu*o(),s=i(qf(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:t===fd?[[Math.max(s[0]-a,c),e],[Math.min(s[0]+a,n),r]]:[[c,Math.max(s[1]-a,e)],[n,Math.min(s[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),f()):o()},i.translate=function(t){return arguments.length?(s(t),f()):s()},i.center=function(t){return arguments.length?(a(t),f()):a()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),f()):null==c?null:[[c,e],[n,r]]},f()}function dd(t){return ac((Hu+t)/2)}function pd(t,e){var n=Qu(t),r=t===e?nc(t):tc(n/Qu(e))/tc(dd(e)/dd(t)),i=n*ec(dd(t),r)/r;if(!r)return fd;function a(t,e){i>0?e<-Hu+Bu&&(e=-Hu+Bu):e>Hu-Bu&&(e=Hu-Bu);var n=i/ec(dd(e),r);return[n*nc(r*t),i-n*Qu(r*t)]}return a.invert=function(t,e){var n=i-e,a=rc(r)*ic(t*t+n*n),o=Zu(t,Xu(n))*rc(n);return n*r<0&&(o-=Fu*rc(t)*rc(n)),[o/r,2*Gu(ec(i/a,1/r))-Hu]},a}function vd(){return Kh(pd).scale(109.5).parallels([30,30])}function gd(t,e){return[t,e]}function yd(){return Qh(gd).scale(152.63)}function md(t,e){var n=Qu(t),r=t===e?nc(t):(n-Qu(e))/(e-t),i=n/r+t;if(Xu(r)<Bu)return gd;function a(t,e){var n=i-e,a=r*t;return[n*nc(a),i-n*Qu(a)]}return a.invert=function(t,e){var n=i-e,a=Zu(t,Xu(n))*rc(n);return n*r<0&&(a-=Fu*rc(t)*rc(n)),[a/r,i-rc(r)*ic(t*t+n*n)]},a}function bd(){return Kh(md).scale(131.154).center([0,13.9389])}ud.invert=ad((function(t){return t})),fd.invert=function(t,e){return[t,2*Gu(Ku(e))-Hu]},gd.invert=gd;var _d=1.340264,wd=-.081106,xd=893e-6,Md=.003796,Cd=ic(3)/2;function kd(t,e){var n=sc(Cd*nc(e)),r=n*n,i=r*r*r;return[t*Qu(n)/(Cd*(_d+3*wd*r+i*(7*xd+9*Md*r))),n*(_d+wd*r+i*(xd+Md*r))]}function Nd(){return Qh(kd).scale(177.158)}function Pd(t,e){var n=Qu(e),r=Qu(t)*n;return[n*nc(t)/r,nc(e)/r]}function Sd(){return Qh(Pd).scale(144.049).clipAngle(60)}function Ad(){var t,e,n,r,i,a,o,s=1,u=0,c=0,f=1,l=1,h=0,d=null,p=1,v=1,g=Uh({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),y=Ll;function m(){return p=s*f,v=s*l,a=o=null,b}function b(n){var r=n[0]*p,i=n[1]*v;if(h){var a=i*t-r*e;r=r*t+i*e,i=a}return[r+u,i+c]}return b.invert=function(n){var r=n[0]-u,i=n[1]-c;if(h){var a=i*t+r*e;r=r*t-i*e,i=a}return[r/p,i/v]},b.stream=function(t){return a&&o===t?a:a=g(y(o=t))},b.postclip=function(t){return arguments.length?(y=t,d=n=r=i=null,m()):y},b.clipExtent=function(t){return arguments.length?(y=null==t?(d=n=r=i=null,Ll):ol(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),m()):null==d?null:[[d,n],[r,i]]},b.scale=function(t){return arguments.length?(s=+t,m()):s},b.translate=function(t){return arguments.length?(u=+t[0],c=+t[1],m()):[u,c]},b.angle=function(n){return arguments.length?(e=nc(h=n%360*Wu),t=Qu(h),m()):h*Vu},b.reflectX=function(t){return arguments.length?(f=t?-1:1,m()):f<0},b.reflectY=function(t){return arguments.length?(l=t?-1:1,m()):l<0},b.fitExtent=function(t,e){return qh(b,t,e)},b.fitSize=function(t,e){return Fh(b,t,e)},b.fitWidth=function(t,e){return Hh(b,t,e)},b.fitHeight=function(t,e){return $h(b,t,e)},b}function Td(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Ed(){return Qh(Td).scale(175.295)}function Dd(t,e){return[Qu(e)*nc(t),nc(e)]}function Rd(){return Qh(Dd).scale(249.5).clipAngle(90+Bu)}function Ld(t,e){var n=Qu(e),r=1+Qu(t)*n;return[n*nc(t)/r,nc(e)/r]}function Od(){return Qh(Ld).scale(250).clipAngle(142)}function zd(t,e){return[tc(ac((Hu+e)/2)),-t]}function jd(){var t=hd(zd),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function Ud(t,e){return t.parent===e.parent?1:2}function Id(t,e){return t+e.x}function Bd(t,e){return Math.max(t,e.y)}function qd(){var t=Ud,e=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Id,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Bd,0)}(n)):(e.x=a?o+=t(e,a):0,e.y=0,a=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=s.x-t(s,u)/2,f=u.x+t(u,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(f-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Fd(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Hd(t,e){var n,r,i,a,o,s=new Wd(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=$d);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)c.push(r=n.children[a]=new Wd(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Vd)}function $d(t){return t.children}function Yd(t){t.data=t.data.data}function Vd(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Wd(t){this.data=t,this.depth=this.height=0,this.parent=null}kd.invert=function(t,e){for(var n,r=e,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(_d+wd*i+a*(xd+Md*i))-e)/(_d+3*wd*i+a*(7*xd+9*Md*i)))*r)*i*i,!(Xu(n)<qu));++o);return[Cd*t*(_d+3*wd*i+a*(7*xd+9*Md*i))/Qu(r),sc(nc(r)/Cd)]},Pd.invert=ad(Gu),Td.invert=function(t,e){var n,r=e,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-e)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(Xu(n)>Bu&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},Dd.invert=ad(sc),Ld.invert=ad((function(t){return 2*Gu(t)})),zd.invert=function(t,e){return[-e,2*Gu(Ku(t))-Hu]},Wd.prototype=Hd.prototype={constructor:Wd,count:function(){return this.eachAfter(Fd)},each:function(t){var e,n,r,i,a=this,o=[a];do{for(e=o.reverse(),o=[];a=e.pop();)if(t(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(t){for(var e,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Hd(this).eachBefore(Yd)}};var Xd=Array.prototype.slice;function Gd(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Xd.call(t))).length,a=[];r<i;)e=t[r],n&&Jd(n,e)?++r:(n=tp(a=Zd(a,e)),r=0);return n}function Zd(t,e){var n,r;if(Kd(e,t))return[e];for(n=0;n<t.length;++n)if(Qd(e,t[n])&&Kd(ep(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Qd(ep(t[n],t[r]),e)&&Qd(ep(t[n],e),t[r])&&Qd(ep(t[r],e),t[n])&&Kd(np(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Qd(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Jd(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Kd(t,e){for(var n=0;n<e.length;++n)if(!Jd(t,e[n]))return!1;return!0}function tp(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return ep(t[0],t[1]);case 3:return np(t[0],t[1],t[2])}}function ep(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,u=a-n,c=o-r,f=s-i,l=Math.sqrt(u*u+c*c);return{x:(n+a+u/l*f)/2,y:(r+o+c/l*f)/2,r:(l+i+s)/2}}function np(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,u=e.r,c=n.x,f=n.y,l=n.r,h=r-o,d=r-c,p=i-s,v=i-f,g=u-a,y=l-a,m=r*r+i*i-a*a,b=m-o*o-s*s+u*u,_=m-c*c-f*f+l*l,w=d*p-h*v,x=(p*_-v*b)/(2*w)-r,M=(v*g-p*y)/w,C=(d*b-h*_)/(2*w)-i,k=(h*y-d*g)/w,N=M*M+k*k-1,P=2*(a+x*M+C*k),S=x*x+C*C-a*a,A=-(N?(P+Math.sqrt(P*P-4*N*S))/(2*N):S/P);return{x:r+x+M*A,y:i+C+k*A,r:A}}function rp(t,e,n){var r,i,a,o,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(i=e.r+n.r,i*=i,o=t.r+n.r,i>(o*=o)?(r=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-r*r)),n.x=t.x-r*s-a*u,n.y=t.y-r*u+a*s):(r=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-a*u,n.y=e.y+r*u+a*s)):(n.x=e.x+n.r,n.y=e.y)}function ip(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function ap(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function op(t){this._=t,this.next=null,this.previous=null}function sp(t){if(!(i=t.length))return 0;var e,n,r,i,a,o,s,u,c,f,l;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;rp(n,e,r=t[2]),e=new op(e),n=new op(n),r=new op(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){rp(e._,n._,r=t[s]),r=new op(r),u=n.next,c=e.previous,f=n._.r,l=e._.r;do{if(f<=l){if(ip(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}f+=u._.r,u=u.next}else{if(ip(c._,r._)){(e=c).next=n,n.previous=e,--s;continue t}l+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,a=ap(e);(r=r.next)!==n;)(o=ap(r))<a&&(e=r,a=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Gd(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function up(t){return sp(t),t}function cp(t){if("function"!=typeof t)throw new Error;return t}function fp(){return 0}function lp(t){return function(){return t}}function hp(t){return Math.sqrt(t.value)}function dp(){var t=null,e=1,n=1,r=fp;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(pp(t)).eachAfter(vp(r,.5)).eachBefore(gp(1)):i.eachBefore(pp(hp)).eachAfter(vp(fp,1)).eachAfter(vp(r,i.r/Math.min(e,n))).eachBefore(gp(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=null==(n=e)?null:cp(n),i):t;var n},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:lp(+t),i):r},i}function pp(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function vp(t,e){return function(n){if(r=n.children){var r,i,a,o=r.length,s=t(n)*e||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=sp(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function gp(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function yp(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function mp(t,e,n,r,i){for(var a,o=t.children,s=-1,u=o.length,c=t.value&&(r-e)/t.value;++s<u;)(a=o[s]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*c}function bp(){var t=1,e=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/a,i.eachBefore(function(t,e){return function(r){r.children&&mp(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,a=r.y0,o=r.x1-n,s=r.y1-n;o<i&&(i=o=(i+o)/2),s<a&&(a=s=(a+s)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=s}}(e,a)),r&&i.eachBefore(yp),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}var _p="$",wp={depth:-1},xp={};function Mp(t){return t.id}function Cp(t){return t.parentId}function kp(){var t=Mp,e=Cp;function n(n){var r,i,a,o,s,u,c,f=n.length,l=new Array(f),h={};for(i=0;i<f;++i)r=n[i],s=l[i]=new Wd(r),null!=(u=t(r,i,n))&&(u+="")&&(h[c=_p+(s.id=u)]=c in h?xp:s);for(i=0;i<f;++i)if(s=l[i],null!=(u=e(n[i],i,n))&&(u+="")){if(!(o=h[_p+u]))throw new Error("missing: "+u);if(o===xp)throw new Error("ambiguous: "+u);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=wp,a.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore(Vd),a.parent=null,f>0)throw new Error("cycle");return a}return n.id=function(e){return arguments.length?(t=cp(e),n):t},n.parentId=function(t){return arguments.length?(e=cp(t),n):e},n}function Np(t,e){return t.parent===e.parent?1:2}function Pp(t){var e=t.children;return e?e[0]:t.t}function Sp(t){var e=t.children;return e?e[e.length-1]:t.t}function Ap(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Tp(t,e,n){return t.a.parent===e.parent?t.a:n}function Ep(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Dp(){var t=Np,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,a,o=new Ep(t,0),s=[o];e=s.pop();)if(r=e._.children)for(e.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=e.children[i]=new Ep(r[i],i)),n.parent=e;return(o.parent=new Ep(null,0)).children=[o],o}(i);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),r)i.eachBefore(s);else{var c=i,f=i,l=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)}));var h=c===f?1:t(c,f)/2,d=h-c.x,p=e/(f.x+h+d),v=n/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return i}function a(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var a=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,a=e,o=e,s=n,u=a.parent.children[0],c=a.m,f=o.m,l=s.m,h=u.m;s=Sp(s),a=Pp(a),s&&a;)u=Pp(u),(o=Sp(o)).a=e,(i=s.z+l-a.z-c+t(s._,a._))>0&&(Ap(Tp(s,e,r),e,i),c+=i,f+=i),l+=s.m,c+=a.m,h+=u.m,f+=o.m;s&&!Sp(o)&&(o.t=s,o.m+=l-f),a&&!Pp(u)&&(u.t=a,u.m+=c-h,r=e)}return r}(e,i,e.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Rp(t,e,n,r,i){for(var a,o=t.children,s=-1,u=o.length,c=t.value&&(i-n)/t.value;++s<u;)(a=o[s]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*c}Ep.prototype=Object.create(Wd.prototype);var Lp=(1+Math.sqrt(5))/2;function Op(t,e,n,r,i,a){for(var o,s,u,c,f,l,h,d,p,v,g,y=[],m=e.children,b=0,_=0,w=m.length,x=e.value;b<w;){u=i-n,c=a-r;do{f=m[_++].value}while(!f&&_<w);for(l=h=f,g=f*f*(v=Math.max(c/u,u/c)/(x*t)),p=Math.max(h/g,g/l);_<w;++_){if(f+=s=m[_].value,s<l&&(l=s),s>h&&(h=s),g=f*f*v,(d=Math.max(h/g,g/l))>p){f-=s;break}p=d}y.push(o={value:f,dice:u<c,children:m.slice(b,_)}),o.dice?mp(o,n,r,i,x?r+=c*f/x:a):Rp(o,n,r,x?n+=u*f/x:i,a),x-=f,b=_}return y}const zp=function t(e){function n(t,n,r,i,a){Op(e,t,n,r,i,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Lp);function jp(){var t=zp,e=!1,n=1,r=1,i=[0],a=fp,o=fp,s=fp,u=fp,c=fp;function f(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(l),i=[0],e&&t.eachBefore(yp),t}function l(e){var n=i[e.depth],r=e.x0+n,f=e.y0+n,l=e.x1-n,h=e.y1-n;l<r&&(r=l=(r+l)/2),h<f&&(f=h=(f+h)/2),e.x0=r,e.y0=f,e.x1=l,e.y1=h,e.children&&(n=i[e.depth+1]=a(e)/2,r+=c(e)-n,f+=o(e)-n,(l-=s(e)-n)<r&&(r=l=(r+l)/2),(h-=u(e)-n)<f&&(f=h=(f+h)/2),t(e,r,f,l,h))}return f.round=function(t){return arguments.length?(e=!!t,f):e},f.size=function(t){return arguments.length?(n=+t[0],r=+t[1],f):[n,r]},f.tile=function(e){return arguments.length?(t=cp(e),f):t},f.padding=function(t){return arguments.length?f.paddingInner(t).paddingOuter(t):f.paddingInner()},f.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:lp(+t),f):a},f.paddingOuter=function(t){return arguments.length?f.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):f.paddingTop()},f.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:lp(+t),f):o},f.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:lp(+t),f):s},f.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:lp(+t),f):u},f.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:lp(+t),f):c},f}function Up(t,e,n,r,i){var a,o,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=o=a=0;a<u;++a)c[a+1]=o+=s[a].value;!function t(e,n,r,i,a,o,u){if(e>=n-1){var f=s[e];return f.x0=i,f.y0=a,f.x1=o,void(f.y1=u)}for(var l=c[e],h=r/2+l,d=e+1,p=n-1;d<p;){var v=d+p>>>1;c[v]<h?d=v+1:p=v}h-c[d-1]<c[d]-h&&e+1<d&&--d;var g=c[d]-l,y=r-g;if(o-i>u-a){var m=(i*y+o*g)/r;t(e,d,g,i,a,m,u),t(d,n,y,m,a,o,u)}else{var b=(a*y+u*g)/r;t(e,d,g,i,a,o,b),t(d,n,y,i,b,o,u)}}(0,u,t.value,e,n,r,i)}function Ip(t,e,n,r,i){(1&t.depth?Rp:mp)(t,e,n,r,i)}const Bp=function t(e){function n(t,n,r,i,a){if((o=t._squarify)&&o.ratio===e)for(var o,s,u,c,f,l=-1,h=o.length,d=t.value;++l<h;){for(u=(s=o[l]).children,c=s.value=0,f=u.length;c<f;++c)s.value+=u[c].value;s.dice?mp(s,n,r,i,r+=(a-r)*s.value/d):Rp(s,n,r,n+=(i-n)*s.value/d,a),d-=s.value}else t._squarify=o=Op(e,t,n,r,i,a),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Lp);function qp(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Fp(t,e){var n=bn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function Hp(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var $p=Math.SQRT2,Yp=2,Vp=4,Wp=1e-12;function Xp(t){return((t=Math.exp(t))+1/t)/2}function Gp(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],u=e[1],c=e[2],f=s-i,l=u-a,h=f*f+l*l;if(h<Wp)r=Math.log(c/o)/$p,n=function(t){return[i+t*f,a+t*l,o*Math.exp($p*t*r)]};else{var d=Math.sqrt(h),p=(c*c-o*o+Vp*h)/(2*o*Yp*d),v=(c*c-o*o-Vp*h)/(2*c*Yp*d),g=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-g)/$p,n=function(t){var e,n=t*r,s=Xp(g),u=o/(Yp*d)*(s*(e=$p*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+u*f,a+u*l,o*s/Xp($p*n+g)]}}return n.duration=1e3*r,n}function Zp(t){return function(e,n){var r=t((e=cn(e)).h,(n=cn(n)).h),i=_n(e.s,n.s),a=_n(e.l,n.l),o=_n(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+""}}}const Qp=Zp(bn);var Jp=Zp(_n);function Kp(t,e){var n=_n((t=ka(t)).l,(e=ka(e)).l),r=_n(t.a,e.a),i=_n(t.b,e.b),a=_n(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=a(e),t+""}}function tv(t){return function(e,n){var r=t((e=Ra(e)).h,(n=Ra(n)).h),i=_n(e.c,n.c),a=_n(e.l,n.l),o=_n(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}const ev=tv(bn);var nv=tv(_n);function rv(t){return function e(n){function r(e,r){var i=t((e=$a(e)).h,(r=$a(r)).h),a=_n(e.s,r.s),o=_n(e.l,r.l),s=_n(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}const iv=rv(bn);var av=rv(_n);function ov(t,e){for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[e](t-e)}}function sv(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function uv(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)e=i,i=t[n],a+=e[1]*i[0]-e[0]*i[1];return a/2}function cv(t){for(var e,n,r=-1,i=t.length,a=0,o=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a/(u*=3),o/u]}function fv(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function lv(t,e){return t[0]-e[0]||t[1]-e[1]}function hv(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&fv(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function dv(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(lv),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=hv(r),o=hv(i),s=o[0]===a[0],u=o[o.length-1]===a[a.length-1],c=[];for(e=a.length-1;e>=0;--e)c.push(t[r[a[e]][2]]);for(e=+s;e<o.length-u;++e)c.push(t[r[o[e]][2]]);return c}function pv(t,e){for(var n,r,i=t.length,a=t[i-1],o=e[0],s=e[1],u=a[0],c=a[1],f=!1,l=0;l<i;++l)n=(a=t[l])[0],(r=a[1])>s!=c>s&&o<(u-n)*(s-r)/(c-r)+n&&(f=!f),u=n,c=r;return f}function vv(t){for(var e,n,r=-1,i=t.length,a=t[i-1],o=a[0],s=a[1],u=0;++r<i;)e=o,n=s,e-=o=(a=t[r])[0],n-=s=a[1],u+=Math.sqrt(e*e+n*n);return u}function gv(){return Math.random()}const yv=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(gv),mv=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*e()-1,a=2*e()-1,i=r*r+a*a}while(!i||i>1);return t+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(gv),bv=function t(e){function n(){var t=mv.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(gv),_v=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(gv),wv=function t(e){function n(t){var n=_v.source(e)(t);return function(){return n()/t}}return n.source=t,n}(gv),xv=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(gv);function Mv(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Cv(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var kv=Array.prototype,Nv=kv.map,Pv=kv.slice,Sv={name:"implicit"};function Av(){var t=ea(),e=[],n=[],r=Sv;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==Sv)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=ea();for(var r,a,o=-1,s=n.length;++o<s;)t.has(a=(r=n[o])+"")||t.set(a,e.push(r));return i},i.range=function(t){return arguments.length?(n=Pv.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Av(e,n).unknown(r)},Mv.apply(i,arguments),i}function Tv(){var t,e,n=Av().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,s=0,u=0,c=.5;function f(){var n=r().length,f=a[1]<a[0],l=a[f-0],h=a[1-f];t=(h-l)/Math.max(1,n-s+2*u),o&&(t=Math.floor(t)),l+=(h-l-t*(n-s))*c,e=t*(1-s),o&&(l=Math.round(l),e=Math.round(e));var d=M(n).map((function(e){return l+t*e}));return i(f?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],f()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,f()):o},n.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),f()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),f()):s},n.paddingOuter=function(t){return arguments.length?(u=+t,f()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},n.copy=function(){return Tv(r(),a).round(o).paddingInner(s).paddingOuter(u).align(c)},Mv.apply(f(),arguments)}function Ev(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ev(e())},t}function Dv(){return Ev(Tv.apply(null,arguments).paddingInner(1))}function Rv(t){return+t}var Lv=[0,1];function Ov(t){return t}function zv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function jv(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Uv(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=zv(i,r),a=n(o,a)):(r=zv(r,i),a=n(a,o)),function(t){return a(r(t))}}function Iv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=zv(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=c(t,e,1,r)-1;return a[n](i[n](e))}}function Bv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qv(){var t,e,n,r,i,a,o=Lv,s=Lv,u=On,c=Ov;function f(){return r=Math.min(o.length,s.length)>2?Iv:Uv,i=a=null,l}function l(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,u)))(t(c(e)))}return l.invert=function(n){return c(e((a||(a=r(s,o.map(t),Tn)))(n)))},l.domain=function(t){return arguments.length?(o=Nv.call(t,Rv),c===Ov||(c=jv(o)),f()):o.slice()},l.range=function(t){return arguments.length?(s=Pv.call(t),f()):s.slice()},l.rangeRound=function(t){return s=Pv.call(t),u=Hp,f()},l.clamp=function(t){return arguments.length?(c=t?jv(o):Ov,l):c!==Ov},l.interpolate=function(t){return arguments.length?(u=t,f()):u},l.unknown=function(t){return arguments.length?(n=t,l):n},function(n,r){return t=n,e=r,f()}}function Fv(t,e){return qv()(t,e)}function Hv(t,e,n,r){var i,a=A(t,e,n);switch((r=wu(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Lu(a,o))||(r.precision=i),Su(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Ou(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Ru(a))||(r.precision=i-2*("%"===r.type))}return Pu(r)}function $v(t){var e=t.domain;return t.ticks=function(t){var n=e();return P(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Hv(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],u=i[o];return u<s&&(r=s,s=u,u=r,r=a,a=o,o=r),(r=S(s,u,n))>0?r=S(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=S(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(u/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(u*r)/r,e(i)),t},t}function Yv(){var t=Fv(Ov,Ov);return t.copy=function(){return Bv(t,Yv())},Mv.apply(t,arguments),$v(t)}function Vv(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Nv.call(e,Rv),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Vv(t).unknown(e)},t=arguments.length?Nv.call(t,Rv):[0,1],$v(n)}function Wv(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function Xv(t){return Math.log(t)}function Gv(t){return Math.exp(t)}function Zv(t){return-Math.log(-t)}function Qv(t){return-Math.exp(-t)}function Jv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kv(t){return function(e){return-t(-e)}}function tg(t){var e,n,r=t(Xv,Gv),i=r.domain,a=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(a),n=function(t){return 10===t?Jv:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(a),i()[0]<0?(e=Kv(e),n=Kv(n),t(Zv,Qv)):t(Xv,Gv),r}return r.base=function(t){return arguments.length?(a=+t,o()):a},r.domain=function(t){return arguments.length?(i(t),o()):i()},r.ticks=function(t){var r,o=i(),s=o[0],u=o[o.length-1];(r=u<s)&&(h=s,s=u,u=h);var c,f,l,h=e(s),d=e(u),p=null==t?10:+t,v=[];if(!(a%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,s>0){for(;h<d;++h)for(f=1,c=n(h);f<a;++f)if(!((l=c*f)<s)){if(l>u)break;v.push(l)}}else for(;h<d;++h)for(f=a-1,c=n(h);f>=1;--f)if(!((l=c*f)<s)){if(l>u)break;v.push(l)}}else v=P(h,d,Math.min(d-h,p)).map(n);return r?v.reverse():v},r.tickFormat=function(t,i){if(null==i&&(i=10===a?".0e":","),"function"!=typeof i&&(i=Pu(i)),t===1/0)return i;null==t&&(t=10);var o=Math.max(1,a*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*a<a-.5&&(r*=a),r<=o?i(t):""}},r.nice=function(){return i(Wv(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function eg(){var t=tg(qv()).domain([1,10]);return t.copy=function(){return Bv(t,eg()).base(t.base())},Mv.apply(t,arguments),t}function ng(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function rg(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ig(t){var e=1,n=t(ng(e),rg(e));return n.constant=function(n){return arguments.length?t(ng(e=+n),rg(e)):e},$v(n)}function ag(){var t=ig(qv());return t.copy=function(){return Bv(t,ag()).constant(t.constant())},Mv.apply(t,arguments)}function og(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ug(t){return t<0?-t*t:t*t}function cg(t){var e=t(Ov,Ov),n=1;return e.exponent=function(e){return arguments.length?1==(n=+e)?t(Ov,Ov):.5===n?t(sg,ug):t(og(n),og(1/n)):n},$v(e)}function fg(){var t=cg(qv());return t.copy=function(){return Bv(t,fg()).exponent(t.exponent())},Mv.apply(t,arguments),t}function lg(){return fg.apply(null,arguments).exponent(.5)}function hg(){var t,e=[],n=[],r=[];function a(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=D(e,t/i);return o}function o(e){return isNaN(e=+e)?t:n[c(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,o=t.length;r<o;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(i),a()},o.range=function(t){return arguments.length?(n=Pv.call(t),a()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return hg().domain(e).range(n).unknown(t)},Mv.apply(o,arguments)}function dg(){var t,e=0,n=1,r=1,i=[.5],a=[0,1];function o(e){return e<=e?a[c(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},o.range=function(t){return arguments.length?(r=(a=Pv.call(t)).length-1,s()):a.slice()},o.invertExtent=function(t){var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return dg().domain([e,n]).range(a).unknown(t)},Mv.apply($v(o),arguments)}function pg(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[c(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Pv.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Pv.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return pg().domain(e).range(n).unknown(t)},Mv.apply(i,arguments)}var vg=new Date,gg=new Date;function yg(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return yg((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return vg.setTime(+e),gg.setTime(+r),t(vg),t(gg),Math.floor(n(vg,gg))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var mg=yg((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));mg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yg((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const bg=mg;var _g=mg.range,wg=yg((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const xg=wg;var Mg=wg.range,Cg=1e3,kg=6e4,Ng=36e5,Pg=864e5,Sg=6048e5;function Ag(t){return yg((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*kg)/Sg}))}var Tg=Ag(0),Eg=Ag(1),Dg=Ag(2),Rg=Ag(3),Lg=Ag(4),Og=Ag(5),zg=Ag(6),jg=Tg.range,Ug=Eg.range,Ig=Dg.range,Bg=Rg.range,qg=Lg.range,Fg=Og.range,Hg=zg.range,$g=yg((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*kg)/Pg}),(function(t){return t.getDate()-1}));const Yg=$g;var Vg=$g.range,Wg=yg((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cg-t.getMinutes()*kg)}),(function(t,e){t.setTime(+t+e*Ng)}),(function(t,e){return(e-t)/Ng}),(function(t){return t.getHours()}));const Xg=Wg;var Gg=Wg.range,Zg=yg((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cg)}),(function(t,e){t.setTime(+t+e*kg)}),(function(t,e){return(e-t)/kg}),(function(t){return t.getMinutes()}));const Qg=Zg;var Jg=Zg.range,Kg=yg((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Cg)}),(function(t,e){return(e-t)/Cg}),(function(t){return t.getUTCSeconds()}));const ty=Kg;var ey=Kg.range,ny=yg((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));ny.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?yg((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ny:null};const ry=ny;var iy=ny.range;function ay(t){return yg((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Sg}))}var oy=ay(0),sy=ay(1),uy=ay(2),cy=ay(3),fy=ay(4),ly=ay(5),hy=ay(6),dy=oy.range,py=sy.range,vy=uy.range,gy=cy.range,yy=fy.range,my=ly.range,by=hy.range,_y=yg((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Pg}),(function(t){return t.getUTCDate()-1}));const wy=_y;var xy=_y.range,My=yg((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));My.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yg((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Cy=My;var ky=My.range;function Ny(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Py(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sy(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Ay(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,c=qy(i),f=Fy(i),l=qy(a),h=Fy(a),d=qy(o),p=Fy(o),v=qy(s),g=Fy(s),y=qy(u),m=Fy(u),b={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:cm,e:cm,f:pm,g:km,G:Pm,H:fm,I:lm,j:hm,L:dm,m:vm,M:gm,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Zm,s:Qm,S:ym,u:mm,U:bm,V:wm,w:xm,W:Mm,x:null,X:null,y:Cm,Y:Nm,Z:Sm,"%":Gm},_={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Am,e:Am,f:Lm,g:Ym,G:Wm,H:Tm,I:Em,j:Dm,L:Rm,m:Om,M:zm,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Zm,s:Qm,S:jm,u:Um,U:Im,V:qm,w:Fm,W:Hm,x:null,X:null,y:$m,Y:Vm,Z:Xm,"%":Gm},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return C(t,e,n,r)},d:Ky,e:Ky,f:am,g:Gy,G:Xy,H:em,I:em,j:tm,L:im,m:Jy,M:nm,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=f[r[0].toLowerCase()],n+r[0].length):-1},q:Qy,Q:sm,s:um,S:rm,u:$y,U:Yy,V:Vy,w:Hy,W:Wy,x:function(t,e,r){return C(t,n,e,r)},X:function(t,e,n){return C(t,r,e,n)},y:Gy,Y:Xy,Z:Zy,"%":om};function x(t,e){return function(n){var r,i,a,o=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(i=Oy[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),u=s+1);return o.push(t.slice(u,s)),o.join("")}}function M(t,e){return function(n){var r,i,a=Sy(1900,void 0,1);if(C(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Py(Sy(a.y,0,1))).getUTCDay(),r=i>4||0===i?sy.ceil(r):sy(r),r=wy.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Ny(Sy(a.y,0,1))).getDay(),r=i>4||0===i?Eg.ceil(r):Eg(r),r=Yg.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Py(Sy(a.y,0,1)).getUTCDay():Ny(Sy(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Py(a)):Ny(a)}}function C(t,e,n,r){for(var i,a,o=0,s=e.length,u=n.length;o<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=w[i in Oy?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}var Ty,Ey,Dy,Ry,Ly,Oy={"-":"",_:" ",0:"0"},zy=/^\s*\d+/,jy=/^%/,Uy=/[\\^$*+?|[\]().{}]/g;function Iy(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function By(t){return t.replace(Uy,"\\$&")}function qy(t){return new RegExp("^(?:"+t.map(By).join("|")+")","i")}function Fy(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Hy(t,e,n){var r=zy.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $y(t,e,n){var r=zy.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Yy(t,e,n){var r=zy.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Vy(t,e,n){var r=zy.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Wy(t,e,n){var r=zy.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Xy(t,e,n){var r=zy.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Gy(t,e,n){var r=zy.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Zy(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qy(t,e,n){var r=zy.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Jy(t,e,n){var r=zy.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ky(t,e,n){var r=zy.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tm(t,e,n){var r=zy.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function em(t,e,n){var r=zy.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nm(t,e,n){var r=zy.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rm(t,e,n){var r=zy.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function im(t,e,n){var r=zy.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function am(t,e,n){var r=zy.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function om(t,e,n){var r=jy.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sm(t,e,n){var r=zy.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function um(t,e,n){var r=zy.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function cm(t,e){return Iy(t.getDate(),e,2)}function fm(t,e){return Iy(t.getHours(),e,2)}function lm(t,e){return Iy(t.getHours()%12||12,e,2)}function hm(t,e){return Iy(1+Yg.count(bg(t),t),e,3)}function dm(t,e){return Iy(t.getMilliseconds(),e,3)}function pm(t,e){return dm(t,e)+"000"}function vm(t,e){return Iy(t.getMonth()+1,e,2)}function gm(t,e){return Iy(t.getMinutes(),e,2)}function ym(t,e){return Iy(t.getSeconds(),e,2)}function mm(t){var e=t.getDay();return 0===e?7:e}function bm(t,e){return Iy(Tg.count(bg(t)-1,t),e,2)}function _m(t){var e=t.getDay();return e>=4||0===e?Lg(t):Lg.ceil(t)}function wm(t,e){return t=_m(t),Iy(Lg.count(bg(t),t)+(4===bg(t).getDay()),e,2)}function xm(t){return t.getDay()}function Mm(t,e){return Iy(Eg.count(bg(t)-1,t),e,2)}function Cm(t,e){return Iy(t.getFullYear()%100,e,2)}function km(t,e){return Iy((t=_m(t)).getFullYear()%100,e,2)}function Nm(t,e){return Iy(t.getFullYear()%1e4,e,4)}function Pm(t,e){var n=t.getDay();return Iy((t=n>=4||0===n?Lg(t):Lg.ceil(t)).getFullYear()%1e4,e,4)}function Sm(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Iy(e/60|0,"0",2)+Iy(e%60,"0",2)}function Am(t,e){return Iy(t.getUTCDate(),e,2)}function Tm(t,e){return Iy(t.getUTCHours(),e,2)}function Em(t,e){return Iy(t.getUTCHours()%12||12,e,2)}function Dm(t,e){return Iy(1+wy.count(Cy(t),t),e,3)}function Rm(t,e){return Iy(t.getUTCMilliseconds(),e,3)}function Lm(t,e){return Rm(t,e)+"000"}function Om(t,e){return Iy(t.getUTCMonth()+1,e,2)}function zm(t,e){return Iy(t.getUTCMinutes(),e,2)}function jm(t,e){return Iy(t.getUTCSeconds(),e,2)}function Um(t){var e=t.getUTCDay();return 0===e?7:e}function Im(t,e){return Iy(oy.count(Cy(t)-1,t),e,2)}function Bm(t){var e=t.getUTCDay();return e>=4||0===e?fy(t):fy.ceil(t)}function qm(t,e){return t=Bm(t),Iy(fy.count(Cy(t),t)+(4===Cy(t).getUTCDay()),e,2)}function Fm(t){return t.getUTCDay()}function Hm(t,e){return Iy(sy.count(Cy(t)-1,t),e,2)}function $m(t,e){return Iy(t.getUTCFullYear()%100,e,2)}function Ym(t,e){return Iy((t=Bm(t)).getUTCFullYear()%100,e,2)}function Vm(t,e){return Iy(t.getUTCFullYear()%1e4,e,4)}function Wm(t,e){var n=t.getUTCDay();return Iy((t=n>=4||0===n?fy(t):fy.ceil(t)).getUTCFullYear()%1e4,e,4)}function Xm(){return"+0000"}function Gm(){return"%"}function Zm(t){return+t}function Qm(t){return Math.floor(+t/1e3)}function Jm(t){return Ty=Ay(t),Ey=Ty.format,Dy=Ty.parse,Ry=Ty.utcFormat,Ly=Ty.utcParse,Ty}Jm({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Km=1e3,tb=60*Km,eb=60*tb,nb=24*eb,rb=7*nb,ib=30*nb,ab=365*nb;function ob(t){return new Date(t)}function sb(t){return t instanceof Date?+t:+new Date(+t)}function ub(t,e,n,r,i,o,s,u,c){var f=Fv(Ov,Ov),l=f.invert,h=f.domain,d=c(".%L"),p=c(":%S"),v=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),m=c("%b %d"),b=c("%B"),_=c("%Y"),w=[[s,1,Km],[s,5,5*Km],[s,15,15*Km],[s,30,30*Km],[o,1,tb],[o,5,5*tb],[o,15,15*tb],[o,30,30*tb],[i,1,eb],[i,3,3*eb],[i,6,6*eb],[i,12,12*eb],[r,1,nb],[r,2,2*nb],[n,1,rb],[e,1,ib],[e,3,3*ib],[t,1,ab]];function x(a){return(s(a)<a?d:o(a)<a?p:i(a)<a?v:r(a)<a?g:e(a)<a?n(a)<a?y:m:t(a)<a?b:_)(a)}function M(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(r-n)/e,s=a((function(t){return t[2]})).right(w,o);s===w.length?(i=A(n/ab,r/ab,e),e=t):s?(i=(s=w[o/w[s-1][2]<w[s][2]/o?s-1:s])[1],e=s[0]):(i=Math.max(A(n,r,e),1),e=u)}return null==i?e:e.every(i)}return f.invert=function(t){return new Date(l(t))},f.domain=function(t){return arguments.length?h(Nv.call(t,sb)):h().map(ob)},f.ticks=function(t,e){var n,r=h(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=(n=M(t,i,a,e))?n.range(i,a+1):[],o?n.reverse():n},f.tickFormat=function(t,e){return null==e?x:c(e)},f.nice=function(t,e){var n=h();return(t=M(t,n[0],n[n.length-1],e))?h(Wv(n,t)):f},f.copy=function(){return Bv(f,ub(t,e,n,r,i,o,s,u,c))},f}function cb(){return Mv.apply(ub(bg,xg,Tg,Yg,Xg,Qg,ty,ry,Ey).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var fb=yg((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const lb=fb;var hb=fb.range,db=yg((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Ng)}),(function(t,e){return(e-t)/Ng}),(function(t){return t.getUTCHours()}));const pb=db;var vb=db.range,gb=yg((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*kg)}),(function(t,e){return(e-t)/kg}),(function(t){return t.getUTCMinutes()}));const yb=gb;var mb=gb.range;function bb(){return Mv.apply(ub(Cy,lb,oy,wy,pb,yb,ty,ry,Ry).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _b(){var t,e,n,r,i,a=0,o=1,s=Ov,u=!1;function c(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}return c.domain=function(i){return arguments.length?(t=r(a=+i[0]),e=r(o=+i[1]),n=t===e?0:1/(e-t),c):[a,o]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(a),e=i(o),n=t===e?0:1/(e-t),c}}function wb(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xb(){var t=$v(_b()(Ov));return t.copy=function(){return wb(t,xb())},Cv.apply(t,arguments)}function Mb(){var t=tg(_b()).domain([1,10]);return t.copy=function(){return wb(t,Mb()).base(t.base())},Cv.apply(t,arguments)}function Cb(){var t=ig(_b());return t.copy=function(){return wb(t,Cb()).constant(t.constant())},Cv.apply(t,arguments)}function kb(){var t=cg(_b());return t.copy=function(){return wb(t,kb()).exponent(t.exponent())},Cv.apply(t,arguments)}function Nb(){return kb.apply(null,arguments).exponent(.5)}function Pb(){var t=[],e=Ov;function n(n){if(!isNaN(n=+n))return e((c(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var r,a=0,o=e.length;a<o;++a)null==(r=e[a])||isNaN(r=+r)||t.push(r);return t.sort(i),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Pb(e).domain(t)},Cv.apply(n,arguments)}function Sb(){var t,e,n,r,i,a,o,s=0,u=.5,c=1,f=Ov,l=!1;function h(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-e)*(t<e?r:i),f(l?Math.max(0,Math.min(1,t)):t))}return h.domain=function(o){return arguments.length?(t=a(s=+o[0]),e=a(u=+o[1]),n=a(c=+o[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),h):[s,u,c]},h.clamp=function(t){return arguments.length?(l=!!t,h):l},h.interpolator=function(t){return arguments.length?(f=t,h):f},h.unknown=function(t){return arguments.length?(o=t,h):o},function(o){return a=o,t=o(s),e=o(u),n=o(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),h}}function Ab(){var t=$v(Sb()(Ov));return t.copy=function(){return wb(t,Ab())},Cv.apply(t,arguments)}function Tb(){var t=tg(Sb()).domain([.1,1,10]);return t.copy=function(){return wb(t,Tb()).base(t.base())},Cv.apply(t,arguments)}function Eb(){var t=ig(Sb());return t.copy=function(){return wb(t,Eb()).constant(t.constant())},Cv.apply(t,arguments)}function Db(){var t=cg(Sb());return t.copy=function(){return wb(t,Db()).exponent(t.exponent())},Cv.apply(t,arguments)}function Rb(){return Db.apply(null,arguments).exponent(.5)}function Lb(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}const Ob=Lb("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),zb=Lb("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),jb=Lb("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Ub=Lb("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ib=Lb("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Bb=Lb("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),qb=Lb("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Fb=Lb("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Hb=Lb("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),$b=Lb("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Yb(t){return Mn(t[t.length-1])}var Vb=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Lb);const Wb=Yb(Vb);var Xb=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Lb);const Gb=Yb(Xb);var Zb=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Lb);const Qb=Yb(Zb);var Jb=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Lb);const Kb=Yb(Jb);var t_=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Lb);const e_=Yb(t_);var n_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Lb);const r_=Yb(n_);var i_=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Lb);const a_=Yb(i_);var o_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Lb);const s_=Yb(o_);var u_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Lb);const c_=Yb(u_);var f_=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Lb);const l_=Yb(f_);var h_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Lb);const d_=Yb(h_);var p_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Lb);const v_=Yb(p_);var g_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Lb);const y_=Yb(g_);var m_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Lb);const b_=Yb(m_);var __=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Lb);const w_=Yb(__);var x_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Lb);const M_=Yb(x_);var C_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Lb);const k_=Yb(C_);var N_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Lb);const P_=Yb(N_);var S_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Lb);const A_=Yb(S_);var T_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Lb);const E_=Yb(T_);var D_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Lb);const R_=Yb(D_);var L_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Lb);const O_=Yb(L_);var z_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Lb);const j_=Yb(z_);var U_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Lb);const I_=Yb(U_);var B_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Lb);const q_=Yb(B_);var F_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Lb);const H_=Yb(F_);var $_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Lb);const Y_=Yb($_);function V_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const W_=av($a(300,.5,0),$a(-240,.5,1));var X_=av($a(-100,.75,.35),$a(80,1.5,.8)),G_=av($a(260,.75,.35),$a(80,1.5,.8)),Z_=$a();function Q_(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Z_.h=360*t-100,Z_.s=1.5-1.5*e,Z_.l=.8-.9*e,Z_+""}var J_=Ke(),K_=Math.PI/3,tw=2*Math.PI/3;function ew(t){var e;return t=(.5-t)*Math.PI,J_.r=255*(e=Math.sin(t))*e,J_.g=255*(e=Math.sin(t+K_))*e,J_.b=255*(e=Math.sin(t+tw))*e,J_+""}function nw(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function rw(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const iw=rw(Lb("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var aw=rw(Lb("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ow=rw(Lb("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),sw=rw(Lb("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function uw(t){return Ne(se(t).call(document.documentElement))}var cw=0;function fw(){return new lw}function lw(){this._="@"+(++cw).toString(36)}function hw(t){return"string"==typeof t?new Me([document.querySelectorAll(t)],[document.documentElement]):new Me([null==t?[]:t],xe)}function dw(t,e){null==e&&(e=zn().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=jn(t,e[n]);return i}function pw(t){return function(){return t}}lw.prototype=fw.prototype={constructor:lw,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var vw=Math.abs,gw=Math.atan2,yw=Math.cos,mw=Math.max,bw=Math.min,_w=Math.sin,ww=Math.sqrt,xw=1e-12,Mw=Math.PI,Cw=Mw/2,kw=2*Mw;function Nw(t){return t>=1?Cw:t<=-1?-Cw:Math.asin(t)}function Pw(t){return t.innerRadius}function Sw(t){return t.outerRadius}function Aw(t){return t.startAngle}function Tw(t){return t.endAngle}function Ew(t){return t&&t.padAngle}function Dw(t,e,n,r,i,a,o){var s=t-n,u=e-r,c=(o?a:-a)/ww(s*s+u*u),f=c*u,l=-c*s,h=t+f,d=e+l,p=n+f,v=r+l,g=(h+p)/2,y=(d+v)/2,m=p-h,b=v-d,_=m*m+b*b,w=i-a,x=h*v-p*d,M=(b<0?-1:1)*ww(mw(0,w*w*_-x*x)),C=(x*b-m*M)/_,k=(-x*m-b*M)/_,N=(x*b+m*M)/_,P=(-x*m+b*M)/_,S=C-g,A=k-y,T=N-g,E=P-y;return S*S+A*A>T*T+E*E&&(C=N,k=P),{cx:C,cy:k,x01:-f,y01:-l,x11:C*(i/w-1),y11:k*(i/w-1)}}function Rw(){var t=Pw,e=Sw,n=pw(0),r=null,i=Aw,a=Tw,o=Ew,s=null;function u(){var u,c,f,l=+t.apply(this,arguments),h=+e.apply(this,arguments),d=i.apply(this,arguments)-Cw,p=a.apply(this,arguments)-Cw,v=vw(p-d),g=p>d;if(s||(s=u=Yi()),h<l&&(c=h,h=l,l=c),h>xw)if(v>kw-xw)s.moveTo(h*yw(d),h*_w(d)),s.arc(0,0,h,d,p,!g),l>xw&&(s.moveTo(l*yw(p),l*_w(p)),s.arc(0,0,l,p,d,g));else{var y,m,b=d,_=p,w=d,x=p,M=v,C=v,k=o.apply(this,arguments)/2,N=k>xw&&(r?+r.apply(this,arguments):ww(l*l+h*h)),P=bw(vw(h-l)/2,+n.apply(this,arguments)),S=P,A=P;if(N>xw){var T=Nw(N/l*_w(k)),E=Nw(N/h*_w(k));(M-=2*T)>xw?(w+=T*=g?1:-1,x-=T):(M=0,w=x=(d+p)/2),(C-=2*E)>xw?(b+=E*=g?1:-1,_-=E):(C=0,b=_=(d+p)/2)}var D=h*yw(b),R=h*_w(b),L=l*yw(x),O=l*_w(x);if(P>xw){var z,j=h*yw(_),U=h*_w(_),I=l*yw(w),B=l*_w(w);if(v<Mw&&(z=function(t,e,n,r,i,a,o,s){var u=n-t,c=r-e,f=o-i,l=s-a,h=l*u-f*c;if(!(h*h<xw))return[t+(h=(f*(e-a)-l*(t-i))/h)*u,e+h*c]}(D,R,I,B,j,U,L,O))){var q=D-z[0],F=R-z[1],H=j-z[0],$=U-z[1],Y=1/_w(((f=(q*H+F*$)/(ww(q*q+F*F)*ww(H*H+$*$)))>1?0:f<-1?Mw:Math.acos(f))/2),V=ww(z[0]*z[0]+z[1]*z[1]);S=bw(P,(l-V)/(Y-1)),A=bw(P,(h-V)/(Y+1))}}C>xw?A>xw?(y=Dw(I,B,D,R,h,A,g),m=Dw(j,U,L,O,h,A,g),s.moveTo(y.cx+y.x01,y.cy+y.y01),A<P?s.arc(y.cx,y.cy,A,gw(y.y01,y.x01),gw(m.y01,m.x01),!g):(s.arc(y.cx,y.cy,A,gw(y.y01,y.x01),gw(y.y11,y.x11),!g),s.arc(0,0,h,gw(y.cy+y.y11,y.cx+y.x11),gw(m.cy+m.y11,m.cx+m.x11),!g),s.arc(m.cx,m.cy,A,gw(m.y11,m.x11),gw(m.y01,m.x01),!g))):(s.moveTo(D,R),s.arc(0,0,h,b,_,!g)):s.moveTo(D,R),l>xw&&M>xw?S>xw?(y=Dw(L,O,j,U,l,-S,g),m=Dw(D,R,I,B,l,-S,g),s.lineTo(y.cx+y.x01,y.cy+y.y01),S<P?s.arc(y.cx,y.cy,S,gw(y.y01,y.x01),gw(m.y01,m.x01),!g):(s.arc(y.cx,y.cy,S,gw(y.y01,y.x01),gw(y.y11,y.x11),!g),s.arc(0,0,l,gw(y.cy+y.y11,y.cx+y.x11),gw(m.cy+m.y11,m.cx+m.x11),g),s.arc(m.cx,m.cy,S,gw(m.y11,m.x11),gw(m.y01,m.x01),!g))):s.arc(0,0,l,x,w,g):s.lineTo(L,O)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Mw/2;return[yw(r)*n,_w(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:pw(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:pw(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:pw(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:pw(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:pw(+t),u):i},u.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:pw(+t),u):a},u.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:pw(+t),u):o},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u}function Lw(t){this._context=t}function Ow(t){return new Lw(t)}function zw(t){return t[0]}function jw(t){return t[1]}function Uw(){var t=zw,e=jw,n=pw(!0),r=null,i=Ow,a=null;function o(o){var s,u,c,f=o.length,l=!1;for(null==r&&(a=i(c=Yi())),s=0;s<=f;++s)!(s<f&&n(u=o[s],s,o))===l&&((l=!l)?a.lineStart():a.lineEnd()),l&&a.point(+t(u,s,o),+e(u,s,o));if(c)return a=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:pw(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:pw(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:pw(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}function Iw(){var t=zw,e=null,n=pw(0),r=jw,i=pw(!0),a=null,o=Ow,s=null;function u(u){var c,f,l,h,d,p=u.length,v=!1,g=new Array(p),y=new Array(p);for(null==a&&(s=o(d=Yi())),c=0;c<=p;++c){if(!(c<p&&i(h=u[c],c,u))===v)if(v=!v)f=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),l=c-1;l>=f;--l)s.point(g[l],y[l]);s.lineEnd(),s.areaEnd()}v&&(g[c]=+t(h,c,u),y[c]=+n(h,c,u),s.point(e?+e(h,c,u):g[c],r?+r(h,c,u):y[c]))}if(d)return s=null,d+""||null}function c(){return Uw().defined(i).curve(o).context(a)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:pw(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:pw(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:pw(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:pw(+t),r=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:pw(+t),u):n},u.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:pw(+t),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(e).y(n)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:pw(!!t),u):i},u.curve=function(t){return arguments.length?(o=t,null!=a&&(s=o(a)),u):o},u.context=function(t){return arguments.length?(null==t?a=s=null:s=o(a=t),u):a},u}function Bw(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function qw(t){return t}function Fw(){var t=qw,e=Bw,n=null,r=pw(0),i=pw(kw),a=pw(0);function o(o){var s,u,c,f,l,h=o.length,d=0,p=new Array(h),v=new Array(h),g=+r.apply(this,arguments),y=Math.min(kw,Math.max(-kw,i.apply(this,arguments)-g)),m=Math.min(Math.abs(y)/h,a.apply(this,arguments)),b=m*(y<0?-1:1);for(s=0;s<h;++s)(l=v[p[s]=s]=+t(o[s],s,o))>0&&(d+=l);for(null!=e?p.sort((function(t,n){return e(v[t],v[n])})):null!=n&&p.sort((function(t,e){return n(o[t],o[e])})),s=0,c=d?(y-h*b)/d:0;s<h;++s,g=f)u=p[s],f=g+((l=v[u])>0?l*c:0)+b,v[u]={data:o[u],index:s,value:l,startAngle:g,endAngle:f,padAngle:m};return v}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:pw(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:pw(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:pw(+t),o):i},o.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:pw(+t),o):a},o}Lw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Hw=Yw(Ow);function $w(t){this._curve=t}function Yw(t){function e(e){return new $w(t(e))}return e._curve=t,e}function Vw(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Yw(t)):e()._curve},t}function Ww(){return Vw(Uw().curve(Hw))}function Xw(){var t=Iw().curve(Hw),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Vw(n())},delete t.lineX0,t.lineEndAngle=function(){return Vw(r())},delete t.lineX1,t.lineInnerRadius=function(){return Vw(i())},delete t.lineY0,t.lineOuterRadius=function(){return Vw(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Yw(t)):e()._curve},t}function Gw(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}$w.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Zw=Array.prototype.slice;function Qw(t){return t.source}function Jw(t){return t.target}function Kw(t){var e=Qw,n=Jw,r=zw,i=jw,a=null;function o(){var o,s=Zw.call(arguments),u=e.apply(this,s),c=n.apply(this,s);if(a||(a=o=Yi()),t(a,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(r="function"==typeof t?t:pw(+t),o):r},o.y=function(t){return arguments.length?(i="function"==typeof t?t:pw(+t),o):i},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function tx(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function ex(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function nx(t,e,n,r,i){var a=Gw(e,n),o=Gw(e,n=(n+i)/2),s=Gw(r,n),u=Gw(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}function rx(){return Kw(tx)}function ix(){return Kw(ex)}function ax(){var t=Kw(nx);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const ox={draw:function(t,e){var n=Math.sqrt(e/Mw);t.moveTo(n,0),t.arc(0,0,n,0,kw)}},sx={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var ux=Math.sqrt(1/3),cx=2*ux;const fx={draw:function(t,e){var n=Math.sqrt(e/cx),r=n*ux;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var lx=Math.sin(Mw/10)/Math.sin(7*Mw/10),hx=Math.sin(kw/10)*lx,dx=-Math.cos(kw/10)*lx;const px={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=hx*n,i=dx*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var o=kw*a/5,s=Math.cos(o),u=Math.sin(o);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},vx={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var gx=Math.sqrt(3);const yx={draw:function(t,e){var n=-Math.sqrt(e/(3*gx));t.moveTo(0,2*n),t.lineTo(-gx*n,-n),t.lineTo(gx*n,-n),t.closePath()}};var mx=-.5,bx=Math.sqrt(3)/2,_x=1/Math.sqrt(12),wx=3*(_x/2+1);const xx={draw:function(t,e){var n=Math.sqrt(e/wx),r=n/2,i=n*_x,a=r,o=n*_x+n,s=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,u),t.lineTo(mx*r-bx*i,bx*r+mx*i),t.lineTo(mx*a-bx*o,bx*a+mx*o),t.lineTo(mx*s-bx*u,bx*s+mx*u),t.lineTo(mx*r+bx*i,mx*i-bx*r),t.lineTo(mx*a+bx*o,mx*o-bx*a),t.lineTo(mx*s+bx*u,mx*u-bx*s),t.closePath()}};var Mx=[ox,sx,fx,vx,px,yx,xx];function Cx(){var t=pw(ox),e=pw(64),n=null;function r(){var r;if(n||(n=r=Yi()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:pw(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:pw(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}function kx(){}function Nx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Px(t){this._context=t}function Sx(t){return new Px(t)}function Ax(t){this._context=t}function Tx(t){return new Ax(t)}function Ex(t){this._context=t}function Dx(t){return new Ex(t)}function Rx(t,e){this._basis=new Px(t),this._beta=e}Px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nx(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Ax.prototype={areaStart:kx,areaEnd:kx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nx(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nx(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Rx.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],a=e[0],o=t[n]-i,s=e[n]-a,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*o),this._beta*e[u]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Lx=function t(e){function n(t){return 1===e?new Px(t):new Rx(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Ox(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function zx(t,e){this._context=t,this._k=(1-e)/6}zx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ox(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ox(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const jx=function t(e){function n(t){return new zx(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Ux(t,e){this._context=t,this._k=(1-e)/6}Ux.prototype={areaStart:kx,areaEnd:kx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ox(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ix=function t(e){function n(t){return new Ux(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Bx(t,e){this._context=t,this._k=(1-e)/6}Bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ox(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const qx=function t(e){function n(t){return new Bx(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Fx(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>xw){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>xw){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/f,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function Hx(t,e){this._context=t,this._alpha=e}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Fx(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const $x=function t(e){function n(t){return e?new Hx(t,e):new zx(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Yx(t,e){this._context=t,this._alpha=e}Yx.prototype={areaStart:kx,areaEnd:kx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Fx(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Vx=function t(e){function n(t){return e?new Yx(t,e):new Ux(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Wx(t,e){this._context=t,this._alpha=e}Wx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fx(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Xx=function t(e){function n(t){return e?new Wx(t,e):new Bx(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Gx(t){this._context=t}function Zx(t){return new Gx(t)}function Qx(t){return t<0?-1:1}function Jx(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Qx(a)+Qx(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Kx(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function tM(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function eM(t){this._context=t}function nM(t){this._context=new rM(t)}function rM(t){this._context=t}function iM(t){return new eM(t)}function aM(t){return new nM(t)}function oM(t){this._context=t}function sM(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function uM(t){return new oM(t)}function cM(t,e){this._context=t,this._t=e}function fM(t){return new cM(t,.5)}function lM(t){return new cM(t,0)}function hM(t){return new cM(t,1)}function dM(t,e){if((i=t.length)>1)for(var n,r,i,a=1,o=t[e[0]],s=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function pM(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vM(t,e){return t[e]}function gM(){var t=pw([]),e=pM,n=dM,r=vM;function i(i){var a,o,s=t.apply(this,arguments),u=i.length,c=s.length,f=new Array(c);for(a=0;a<c;++a){for(var l,h=s[a],d=f[a]=new Array(u),p=0;p<u;++p)d[p]=l=[0,+r(i[p],h,p,i)],l.data=i[p];d.key=h}for(a=0,o=e(f);a<c;++a)f[o[a]].index=a;return n(f,o),f}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:pw(Zw.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:pw(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?pM:"function"==typeof t?t:pw(Zw.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?dM:t,i):n},i}function yM(t,e){if((r=t.length)>0){for(var n,r,i,a=0,o=t[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=t[n][a][1]||0;if(i)for(n=0;n<r;++n)t[n][a][1]/=i}dM(t,e)}}function mM(t,e){if((s=t.length)>0)for(var n,r,i,a,o,s,u=0,c=t[e[0]].length;u<c;++u)for(a=o=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)}function bM(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=t[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}dM(t,e)}}function _M(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,u=0,c=0;s<i;++s){for(var f=t[e[s]],l=f[o][1]||0,h=(l-(f[o-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];h+=(p[o][1]||0)-(p[o-1][1]||0)}u+=l,c+=h*l}n[o-1][1]+=n[o-1][0]=a,u&&(a-=c/u)}n[o-1][1]+=n[o-1][0]=a,dM(t,e)}}function wM(t){var e=t.map(xM);return pM(t).sort((function(t,n){return e[t]-e[n]}))}function xM(t){for(var e,n=-1,r=0,i=t.length,a=-1/0;++n<i;)(e=+t[n][1])>a&&(a=e,r=n);return r}function MM(t){var e=t.map(CM);return pM(t).sort((function(t,n){return e[t]-e[n]}))}function CM(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function kM(t){return MM(t).reverse()}function NM(t){var e,n,r=t.length,i=t.map(CM),a=wM(t),o=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=a[e],o<s?(o+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)}function PM(t){return pM(t).reverse()}Gx.prototype={areaStart:kx,areaEnd:kx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},eM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tM(this,this._t0,Kx(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tM(this,Kx(this,n=Jx(this,t,e)),n);break;default:tM(this,this._t0,n=Jx(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(nM.prototype=Object.create(eM.prototype)).point=function(t,e){eM.prototype.point.call(this,e,t)},rM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=sM(t),i=sM(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},cM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var SM="%Y-%m-%dT%H:%M:%S.%LZ",AM=Date.prototype.toISOString?function(t){return t.toISOString()}:Ry(SM);const TM=AM;var EM=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Ly(SM);const DM=EM;function RM(t,e,n){var r=new Jn,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Zn():+n,r.restart((function a(o){o+=i,r.restart(a,i+=e,n),t(o)}),e,n),r)}function LM(t){return function(){return t}}function OM(t){return t[0]}function zM(t){return t[1]}function jM(){this._=null}function UM(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function IM(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function BM(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function qM(t){for(;t.L;)t=t.L;return t}jM.prototype={constructor:jM,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=qM(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(IM(this,n),n=(t=n).U),n.C=!1,r.C=!0,BM(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(BM(this,n),n=(t=n).U),n.C=!1,r.C=!0,IM(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?qM(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,IM(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,BM(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,IM(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,BM(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,IM(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,BM(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};const FM=jM;function HM(t,e,n,r){var i=[null,null],a=dC.push(i)-1;return i.left=t,i.right=e,n&&YM(i,t,e,n),r&&YM(i,e,t,r),lC[t.index].halfedges.push(a),lC[e.index].halfedges.push(a),i}function $M(t,e,n){var r=[e,n];return r.left=t,r}function YM(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function VM(t,e,n,r,i){var a,o=t[0],s=t[1],u=o[0],c=o[1],f=0,l=1,h=s[0]-u,d=s[1]-c;if(a=e-u,h||!(a>0)){if(a/=h,h<0){if(a<f)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>f&&(f=a)}if(a=r-u,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>f&&(f=a)}else if(h>0){if(a<f)return;a<l&&(l=a)}if(a=n-c,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<l&&(l=a)}else if(d>0){if(a>l)return;a>f&&(f=a)}if(a=i-c,d||!(a<0)){if(a/=d,d<0){if(a>l)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<l&&(l=a)}return!(f>0||l<1)||(f>0&&(t[0]=[u+f*h,c+f*d]),l<1&&(t[1]=[u+l*h,c+l*d]),!0)}}}}}function WM(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,u=t[0],c=t.left,f=t.right,l=c[0],h=c[1],d=f[0],p=f[1],v=(l+d)/2,g=(h+p)/2;if(p===h){if(v<e||v>=r)return;if(l>d){if(u){if(u[1]>=i)return}else u=[v,n];a=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];a=[v,n]}}else if(s=g-(o=(l-d)/(p-h))*v,o<-1||o>1)if(l>d){if(u){if(u[1]>=i)return}else u=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/o,i];a=[(n-s)/o,n]}else if(h<p){if(u){if(u[0]>=r)return}else u=[e,o*e+s];a=[r,o*r+s]}else{if(u){if(u[0]<e)return}else u=[r,o*r+s];a=[e,o*e+s]}return t[0]=u,t[1]=a,!0}function XM(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function GM(t,e){return e[+(e.left!==t.site)]}function ZM(t,e){return e[+(e.left===t.site)]}var QM,JM=[];function KM(){UM(this),this.x=this.y=this.arc=this.site=this.cy=null}function tC(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],u=r[0]-o,c=r[1]-s,f=a[0]-o,l=a[1]-s,h=2*(u*l-c*f);if(!(h>=-vC)){var d=u*u+c*c,p=f*f+l*l,v=(l*d-c*p)/h,g=(u*p-f*d)/h,y=JM.pop()||new KM;y.arc=t,y.site=i,y.x=v+o,y.y=(y.cy=g+s)+Math.sqrt(v*v+g*g),t.circle=y;for(var m=null,b=hC._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}hC.insert(m,y),m||(QM=y)}}}}function eC(t){var e=t.circle;e&&(e.P||(QM=e.N),hC.remove(e),JM.push(e),UM(e),t.circle=null)}var nC=[];function rC(){UM(this),this.edge=this.site=this.circle=null}function iC(t){var e=nC.pop()||new rC;return e.site=t,e}function aC(t){eC(t),fC.remove(t),nC.push(t),UM(t)}function oC(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];aC(t);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<pC&&Math.abs(r-u.circle.cy)<pC;)a=u.P,s.unshift(u),aC(u),u=a;s.unshift(u),eC(u);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<pC&&Math.abs(r-c.circle.cy)<pC;)o=c.N,s.push(c),aC(c),c=o;s.push(c),eC(c);var f,l=s.length;for(f=1;f<l;++f)c=s[f],u=s[f-1],YM(c.edge,u.site,c.site,i);u=s[0],(c=s[l-1]).edge=HM(u.site,c.site,null,i),tC(u),tC(c)}function sC(t){for(var e,n,r,i,a=t[0],o=t[1],s=fC._;s;)if((r=uC(s,o)-a)>pC)s=s.L;else{if(!((i=a-cC(s,o))>pC)){r>-pC?(e=s.P,n=s):i>-pC?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){lC[t.index]={site:t,halfedges:[]}}(t);var u=iC(t);if(fC.insert(e,u),e||n){if(e===n)return eC(e),n=iC(e.site),fC.insert(u,n),u.edge=n.edge=HM(e.site,u.site),tC(e),void tC(n);if(n){eC(e),eC(n);var c=e.site,f=c[0],l=c[1],h=t[0]-f,d=t[1]-l,p=n.site,v=p[0]-f,g=p[1]-l,y=2*(h*g-d*v),m=h*h+d*d,b=v*v+g*g,_=[(g*m-d*b)/y+f,(h*b-v*m)/y+l];YM(n.edge,c,p,_),u.edge=HM(c,t,null,_),n.edge=HM(t,p,null,_),tC(e),tC(n)}else u.edge=HM(e.site,u.site)}}function uC(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],u=n[1],c=u-e;if(!c)return s;var f=s-r,l=1/a-1/c,h=f/c;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*c)-u+c/2+i-a/2)))/l+r:(r+s)/2}function cC(t,e){var n=t.N;if(n)return uC(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var fC,lC,hC,dC,pC=1e-6,vC=1e-12;function gC(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function yC(t,e){return e[1]-t[1]||e[0]-t[0]}function mC(t,e){var n,r,i,a=t.sort(yC).pop();for(dC=[],lC=new Array(t.length),fC=new FM,hC=new FM;;)if(i=QM,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(sC(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;oC(i.arc)}if(function(){for(var t,e,n,r,i=0,a=lC.length;i<a;++i)if((t=lC[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=XM(t,dC[e[n]]);for(o.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[o[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var o=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,a=dC.length;a--;)WM(i=dC[a],t,e,n,r)&&VM(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>pC||Math.abs(i[0][1]-i[1][1])>pC)||delete dC[a]}(o,s,u,c),function(t,e,n,r){var i,a,o,s,u,c,f,l,h,d,p,v,g=lC.length,y=!0;for(i=0;i<g;++i)if(a=lC[i]){for(o=a.site,s=(u=a.halfedges).length;s--;)dC[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)p=(d=ZM(a,dC[u[s]]))[0],v=d[1],l=(f=GM(a,dC[u[++s%c]]))[0],h=f[1],(Math.abs(p-l)>pC||Math.abs(v-h)>pC)&&(u.splice(s,0,dC.push($M(o,d,Math.abs(p-t)<pC&&r-v>pC?[t,Math.abs(l-t)<pC?h:r]:Math.abs(v-r)<pC&&n-p>pC?[Math.abs(h-r)<pC?l:n,r]:Math.abs(p-n)<pC&&v-e>pC?[n,Math.abs(l-n)<pC?h:e]:Math.abs(v-e)<pC&&p-t>pC?[Math.abs(h-e)<pC?l:t,e]:null))-1),++c);c&&(y=!1)}if(y){var m,b,_,w=1/0;for(i=0,y=null;i<g;++i)(a=lC[i])&&(_=(m=(o=a.site)[0]-t)*m+(b=o[1]-e)*b)<w&&(w=_,y=a);if(y){var x=[t,e],M=[t,r],C=[n,r],k=[n,e];y.halfedges.push(dC.push($M(o=y.site,x,M))-1,dC.push($M(o,M,C))-1,dC.push($M(o,C,k))-1,dC.push($M(o,k,x))-1)}}for(i=0;i<g;++i)(a=lC[i])&&(a.halfedges.length||delete lC[i])}(o,s,u,c)}this.edges=dC,this.cells=lC,fC=hC=dC=lC=null}function bC(){var t=OM,e=zM,n=null;function r(r){return new mC(r.map((function(n,i){var a=[Math.round(t(n,i,r)/pC)*pC,Math.round(e(n,i,r)/pC)*pC];return a.index=i,a.data=n,a})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:LM(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:LM(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}mC.prototype={constructor:mC,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return GM(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s=n.site,u=-1,c=e[i[a-1]],f=c.left===s?c.right:c.left;++u<a;)o=f,f=(c=e[i[u]]).left===s?c.right:c.left,o&&f&&r<o.index&&r<f.index&&gC(s,o,f)<0&&t.push([s.data,o.data,f.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var u=t-i.site[0],c=e-i.site[1],f=u*u+c*c;do{i=a.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],l=u*u+c*c;l<f&&(f=l,o=s.index)}}))}while(null!==o);return a._found=r,null==n||f<=n*n?i.site:null}};var _C={value:()=>{}};function wC(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new xC(r)}function xC(t){this._=t}function MC(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function CC(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=_C,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}xC.prototype=wC.prototype={constructor:xC,on:function(t,e){var n,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),o=-1,s=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=a[o]).type)i[n]=CC(i[n],t.name,e);else if(null==e)for(n in i)i[n]=CC(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=a[o]).type)&&(n=MC(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new xC(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};const kC=wC;function NC(){}function PC(t){return null==t?NC:function(){return this.querySelector(t)}}function SC(){return[]}function AC(t){return null==t?SC:function(){return this.querySelectorAll(t)}}function TC(t){return function(){return this.matches(t)}}function EC(t){return function(e){return e.matches(t)}}var DC=Array.prototype.find;function RC(){return this.firstElementChild}var LC=Array.prototype.filter;function OC(){return Array.from(this.children)}function zC(t){return new Array(t.length)}function jC(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function UC(t,e,n,r,i,a){for(var o,s=0,u=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new jC(t,a[s]);for(;s<u;++s)(o=e[s])&&(i[s]=o)}function IC(t,e,n,r,i,a,o){var s,u,c,f=new Map,l=e.length,h=a.length,d=new Array(l);for(s=0;s<l;++s)(u=e[s])&&(d[s]=c=o.call(u,u.__data__,s,e)+"",f.has(c)?i[s]=u:f.set(c,u));for(s=0;s<h;++s)c=o.call(t,a[s],s,a)+"",(u=f.get(c))?(r[s]=u,u.__data__=a[s],f.delete(c)):n[s]=new jC(t,a[s]);for(s=0;s<l;++s)(u=e[s])&&f.get(d[s])===u&&(i[s]=u)}function BC(t){return t.__data__}function qC(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function FC(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}jC.prototype={constructor:jC,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var HC="http://www.w3.org/1999/xhtml";const $C={svg:"http://www.w3.org/2000/svg",xhtml:HC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function YC(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),$C.hasOwnProperty(e)?{space:$C[e],local:t}:t}function VC(t){return function(){this.removeAttribute(t)}}function WC(t){return function(){this.removeAttributeNS(t.space,t.local)}}function XC(t,e){return function(){this.setAttribute(t,e)}}function GC(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ZC(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function QC(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function JC(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function KC(t){return function(){this.style.removeProperty(t)}}function tk(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ek(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function nk(t,e){return t.style.getPropertyValue(e)||JC(t).getComputedStyle(t,null).getPropertyValue(e)}function rk(t){return function(){delete this[t]}}function ik(t,e){return function(){this[t]=e}}function ak(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ok(t){return t.trim().split(/^|\s+/)}function sk(t){return t.classList||new uk(t)}function uk(t){this._node=t,this._names=ok(t.getAttribute("class")||"")}function ck(t,e){for(var n=sk(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function fk(t,e){for(var n=sk(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function lk(t){return function(){ck(this,t)}}function hk(t){return function(){fk(this,t)}}function dk(t,e){return function(){(e.apply(this,arguments)?ck:fk)(this,t)}}function pk(){this.textContent=""}function vk(t){return function(){this.textContent=t}}function gk(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function yk(){this.innerHTML=""}function mk(t){return function(){this.innerHTML=t}}function bk(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function _k(){this.nextSibling&&this.parentNode.appendChild(this)}function wk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xk(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===HC&&e.documentElement.namespaceURI===HC?e.createElement(t):e.createElementNS(n,t)}}function Mk(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ck(t){var e=YC(t);return(e.local?Mk:xk)(e)}function kk(){return null}function Nk(){var t=this.parentNode;t&&t.removeChild(this)}function Pk(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Sk(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ak(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Tk(t,e,n){return function(){var r,i=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Ek(t,e,n){var r=JC(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Dk(t,e){return function(){return Ek(this,t,e)}}function Rk(t,e){return function(){return Ek(this,t,e.apply(this,arguments))}}uk.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Lk=[null];function Ok(t,e){this._groups=t,this._parents=e}function zk(){return new Ok([[document.documentElement]],Lk)}Ok.prototype=zk.prototype={constructor:Ok,select:function(t){"function"!=typeof t&&(t=PC(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],u=s.length,c=r[i]=new Array(u),f=0;f<u;++f)(a=s[f])&&(o=t.call(a,a.__data__,f,s))&&("__data__"in a&&(o.__data__=a.__data__),c[f]=o);return new Ok(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}(t):AC(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],u=s.length,c=0;c<u;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),i.push(o));return new Ok(r,i)},selectChild:function(t){return this.select(null==t?RC:function(t){return function(){return DC.call(this.children,t)}}("function"==typeof t?t:EC(t)))},selectChildren:function(t){return this.selectAll(null==t?OC:function(t){return function(){return LC.call(this.children,t)}}("function"==typeof t?t:EC(t)))},filter:function(t){"function"!=typeof t&&(t=TC(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new Ok(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,BC);var n,r=e?IC:UC,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),u=new Array(o),c=new Array(o),f=0;f<o;++f){var l=i[f],h=a[f],d=h.length,p=qC(t.call(l,l&&l.__data__,f,i)),v=p.length,g=u[f]=new Array(v),y=s[f]=new Array(v);r(l,h,g,y,c[f]=new Array(d),p,e);for(var m,b,_=0,w=0;_<v;++_)if(m=g[_]){for(_>=w&&(w=_+1);!(b=y[w])&&++w<v;);m._next=b||null}}return(s=new Ok(s,i))._enter=u,s._exit=c,s},enter:function(){return new Ok(this._enter||this._groups.map(zC),this._parents)},exit:function(){return new Ok(this._exit||this._groups.map(zC),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var c,f=n[u],l=r[u],h=f.length,d=s[u]=new Array(h),p=0;p<h;++p)(c=f[p]||l[p])&&(d[p]=c);for(;u<i;++u)s[u]=n[u];return new Ok(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=FC);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,c=i[a]=new Array(u),f=0;f<u;++f)(o=s[f])&&(c[f]=o);c.sort(e)}return new Ok(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=YC(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?WC:VC:"function"==typeof e?n.local?QC:ZC:n.local?GC:XC)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?KC:"function"==typeof e?ek:tk)(t,e,null==n?"":n)):nk(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?rk:"function"==typeof e?ak:ik)(t,e)):this.node()[t]},classed:function(t,e){var n=ok(t+"");if(arguments.length<2){for(var r=sk(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?dk:e?lk:hk)(n,e))},text:function(t){return arguments.length?this.each(null==t?pk:("function"==typeof t?gk:vk)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?yk:("function"==typeof t?bk:mk)(t)):this.node().innerHTML},raise:function(){return this.each(_k)},lower:function(){return this.each(wk)},append:function(t){var e="function"==typeof t?t:Ck(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Ck(t),r=null==e?kk:"function"==typeof e?e:PC(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Nk)},clone:function(t){return this.select(t?Sk:Pk)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?Tk:Ak,r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,f=s.length;c<f;++c)for(r=0,u=s[c];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Rk:Dk)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};const jk=zk;function Uk(t){return"string"==typeof t?new Ok([[document.querySelector(t)]],[document.documentElement]):new Ok([[t]],Lk)}const Ik={capture:!0,passive:!1};function Bk(t){t.preventDefault(),t.stopImmediatePropagation()}function qk(t){return((t=Math.exp(t))+1/t)/2}const Fk=function t(e,n,r){function i(t,i){var a,o,s=t[0],u=t[1],c=t[2],f=i[0],l=i[1],h=i[2],d=f-s,p=l-u,v=d*d+p*p;if(v<1e-12)o=Math.log(h/c)/e,a=function(t){return[s+t*d,u+t*p,c*Math.exp(e*t*o)]};else{var g=Math.sqrt(v),y=(h*h-c*c+r*v)/(2*c*n*g),m=(h*h-c*c-r*v)/(2*h*n*g),b=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(m*m+1)-m);o=(_-b)/e,a=function(t){var r,i=t*o,a=qk(b),f=c/(n*g)*(a*(r=e*i+b,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[s+f*d,u+f*p,c*a/qk(e*i+b)]}}return a.duration=1e3*o*e/Math.SQRT2,a}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function Hk(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var $k,Yk,Vk=0,Wk=0,Xk=0,Gk=0,Zk=0,Qk=0,Jk="object"==typeof performance&&performance.now?performance:Date,Kk="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tN(){return Zk||(Kk(eN),Zk=Jk.now()+Qk)}function eN(){Zk=0}function nN(){this._call=this._time=this._next=null}function rN(t,e,n){var r=new nN;return r.restart(t,e,n),r}function iN(){Zk=(Gk=Jk.now())+Qk,Vk=Wk=0;try{!function(){tN(),++Vk;for(var t,e=$k;e;)(t=Zk-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vk}()}finally{Vk=0,function(){for(var t,e,n=$k,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:$k=e);Yk=t,oN(r)}(),Zk=0}}function aN(){var t=Jk.now(),e=t-Gk;e>1e3&&(Qk-=e,Gk=t)}function oN(t){Vk||(Wk&&(Wk=clearTimeout(Wk)),t-Zk>24?(t<1/0&&(Wk=setTimeout(iN,t-Jk.now()-Qk)),Xk&&(Xk=clearInterval(Xk))):(Xk||(Gk=Jk.now(),Xk=setInterval(aN,1e3)),Vk=1,Kk(iN)))}function sN(t,e,n){var r=new nN;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}nN.prototype=rN.prototype={constructor:nN,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?tN():+n)+(null==e?0:+e),this._next||Yk===this||(Yk?Yk._next=this:$k=this,Yk=this),this._call=t,this._time=n,oN()},stop:function(){this._call&&(this._call=null,this._time=1/0,oN())}};var uN=kC("start","end","cancel","interrupt"),cN=[],fN=2,lN=5,hN=6;function dN(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(u){var c,f,l,h;if(1!==n.state)return s();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return sN(a);4===h.state?(h.state=hN,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=hN,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(sN((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(u))})),n.state=fN,n.on.call("start",t,t.__data__,n.index,n.group),n.state===fN){for(n.state=3,r=new Array(l=n.tween.length),c=0,f=-1;c<l;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=lN,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);n.state===lN&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=hN,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=rN((function(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:uN,tween:cN,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function pN(t,e){var n=gN(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function vN(t,e){var n=gN(t,e);if(n.state>3)throw new Error("too late; already running");return n}function gN(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function yN(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>fN&&n.state<lN,n.state=hN,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}function mN(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var bN,_N=180/Math.PI,wN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xN(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*_N,skewX:Math.atan(u)*_N,scaleX:o,scaleY:s}}function MN(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],u=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:mN(t,i)},{i:u-2,x:mN(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:mN(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,u),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:mN(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,u),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:mN(t,n)},{i:s-2,x:mN(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var CN=MN((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?wN:xN(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),kN=MN((function(t){return null==t?wN:(bN||(bN=document.createElementNS("http://www.w3.org/2000/svg","g")),bN.setAttribute("transform",t),(t=bN.transform.baseVal.consolidate())?xN((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):wN)}),", ",")",")");function NN(t,e){var n,r;return function(){var i=vN(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function PN(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=vN(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}a.tween=i}}function SN(t,e,n){var r=t._id;return t.each((function(){var t=vN(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return gN(t,r).value[e]}}function AN(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}const TN=t=>()=>t;function EN(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):TN(isNaN(t)?e:t)}const DN=function t(e){var n=function(t){return 1==(t=+t)?EN:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):TN(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Ke(t)).r,(e=Ke(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=EN(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function RN(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ke(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}RN((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return AN((n-r/e)*e,o,i,a,s)}})),RN((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return AN((n-r/e)*e,i,a,o,s)}}));var LN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ON=new RegExp(LN.source,"g");function zN(t,e){var n,r,i,a=LN.lastIndex=ON.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=LN.exec(t))&&(r=ON.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:mN(n,r)})),a=ON.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function jN(t,e){var n;return("number"==typeof e?mN:e instanceof Ge?DN:(n=Ge(e))?(e=n,DN):zN)(t,e)}function UN(t){return function(){this.removeAttribute(t)}}function IN(t){return function(){this.removeAttributeNS(t.space,t.local)}}function BN(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function qN(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function FN(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttribute(t))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttribute(t)}}function HN(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}function $N(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function YN(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function VN(t,e){return function(){pN(this,t).delay=+e.apply(this,arguments)}}function WN(t,e){return e=+e,function(){pN(this,t).delay=e}}function XN(t,e){return function(){vN(this,t).duration=+e.apply(this,arguments)}}function GN(t,e){return e=+e,function(){vN(this,t).duration=e}}var ZN=jk.prototype.constructor;function QN(t){return function(){this.style.removeProperty(t)}}var JN=0;function KN(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function tP(){return++JN}var eP=jk.prototype;KN.prototype=function(t){return jk().transition(t)}.prototype={constructor:KN,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=PC(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,c=r[o],f=c.length,l=a[o]=new Array(f),h=0;h<f;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),l[h]=u,dN(l[h],e,n,h,l,gN(s,n)));return new KN(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=AC(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,c=r[s],f=c.length,l=0;l<f;++l)if(u=c[l]){for(var h,d=t.call(u,u.__data__,l,c),p=gN(u,n),v=0,g=d.length;v<g;++v)(h=d[v])&&dN(h,e,n,v,d,p);a.push(d),o.push(u)}return new KN(a,o,e,n)},selectChild:eP.selectChild,selectChildren:eP.selectChildren,filter:function(t){"function"!=typeof t&&(t=TC(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new KN(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,c=e[s],f=n[s],l=c.length,h=o[s]=new Array(l),d=0;d<l;++d)(u=c[d]||f[d])&&(h[d]=u);for(;s<r;++s)o[s]=e[s];return new KN(o,this._parents,this._name,this._id)},selection:function(){return new ZN(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=tP(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,c=0;c<u;++c)if(o=s[c]){var f=gN(o,e);dN(o,t,n,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new KN(r,this._parents,t,n)},call:eP.call,nodes:eP.nodes,node:eP.node,size:eP.size,empty:eP.empty,each:eP.each,on:function(t,e){var n=this._id;return arguments.length<2?gN(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?pN:vN;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function(t,e){var n=YC(t),r="transform"===n?kN:jN;return this.attrTween(t,"function"==typeof e?(n.local?HN:FN)(n,r,SN(this,"attr."+t,e)):null==e?(n.local?IN:UN)(n):(n.local?qN:BN)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=YC(t);return this.tween(n,(r.local?$N:YN)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?CN:jN;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=nk(this,t),o=(this.style.removeProperty(t),nk(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,QN(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=nk(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=nk(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}(t,r,SN(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var u=vN(this,t),c=u.on,f=null==u.value[o]?a||(a=QN(e)):void 0;c===n&&i===f||(r=(n=c).copy()).on(s,i=f),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=nk(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,a,n)),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(SN(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=gN(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?NN:PN)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?VN:WN)(e,t)):gN(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?XN:GN)(e,t)):gN(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){vN(this,t).ease=e}}(e,t)):gN(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;vN(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0==--i&&a()}};n.each((function(){var n=vN(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&a()}))},[Symbol.iterator]:eP[Symbol.iterator]};var nP={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function rP(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}jk.prototype.interrupt=function(t){return this.each((function(){yN(this,t)}))},jk.prototype.transition=function(t){var e,n;t instanceof KN?(e=t._id,t=t._name):(e=tP(),(n=nP).time=tN(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,c=0;c<u;++c)(o=s[c])&&dN(o,t,e,c,s,n||rP(o,e));return new KN(r,this._parents,t,e)};const iP=t=>()=>t;function aP(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function oP(t,e,n){this.k=t,this.x=e,this.y=n}oP.prototype={constructor:oP,scale:function(t){return 1===t?this:new oP(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new oP(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var sP=new oP(1,0,0);function uP(t){for(;!t.__zoom;)if(!(t=t.parentNode))return sP;return t.__zoom}function cP(t){t.stopImmediatePropagation()}function fP(t){t.preventDefault(),t.stopImmediatePropagation()}function lP(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function hP(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function dP(){return this.__zoom||sP}function pP(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function vP(){return navigator.maxTouchPoints||"ontouchstart"in this}function gP(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function yP(){var t,e,n,r=lP,i=hP,a=gP,o=pP,s=vP,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,l=Fk,h=kC("start","zoom","end"),d=0,p=10;function v(t){t.property("__zoom",dP).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",C).filter(s).on("touchstart.zoom",k).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new oP(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new oP(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n,r){t.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,a=arguments,o=_(t,a).event(r),s=i.apply(t,a),u=null==n?m(s):"function"==typeof n?n.apply(t,a):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),f=t.__zoom,h="function"==typeof e?e.apply(t,a):e,d=l(f.invert(u).concat(c/f.k),h.invert(u).concat(c/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=c/e[2];t=new oP(n,u[0]-e[0]*n,u[1]-e[1]*n)}o.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function x(t,...e){if(r.apply(this,arguments)){var n=_(this,e).event(t),i=this.__zoom,s=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,o.apply(this,arguments)))),f=Hk(t);if(n.wheel)n.mouse[0][0]===f[0]&&n.mouse[0][1]===f[1]||(n.mouse[1]=i.invert(n.mouse[0]=f)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[f,i.invert(f)],yN(this),n.start()}fP(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),150),n.zoom("mouse",a(y(g(i,s),n.mouse[0],n.mouse[1]),n.extent,c))}}function M(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,o=_(this,e,!0).event(t),s=Uk(t.view).on("mousemove.zoom",(function(t){if(fP(t),!o.moved){var e=t.clientX-f,n=t.clientY-l;o.moved=e*e+n*n>d}o.event(t).zoom("mouse",a(y(o.that.__zoom,o.mouse[0]=Hk(t,i),o.mouse[1]),o.extent,c))}),!0).on("mouseup.zoom",(function(t){s.on("mousemove.zoom mouseup.zoom",null),function(t,e){var n=t.document.documentElement,r=Uk(t).on("dragstart.drag",null);e&&(r.on("click.drag",Bk,Ik),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,o.moved),fP(t),o.event(t).end()}),!0),u=Hk(t,i),f=t.clientX,l=t.clientY;!function(t){var e=t.document.documentElement,n=Uk(t).on("dragstart.drag",Bk,Ik);"onselectstart"in e?n.on("selectstart.drag",Bk,Ik):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(t.view),cP(t),o.mouse=[u,this.__zoom.invert(u)],yN(this),o.start()}}function C(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,o=Hk(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(o),u=n.k*(t.shiftKey?.5:2),l=a(y(g(n,u),o,s),i.apply(this,e),c);fP(t),f>0?Uk(this).transition().duration(f).call(b,l,o,t):Uk(this).call(v.transform,l,o,t)}}function k(n,...i){if(r.apply(this,arguments)){var a,o,s,u,c=n.touches,f=c.length,l=_(this,i,n.changedTouches.length===f).event(n);for(cP(n),o=0;o<f;++o)u=[u=Hk(s=c[o],this),this.__zoom.invert(u),s.identifier],l.touch0?l.touch1||l.touch0[2]===u[2]||(l.touch1=u,l.taps=0):(l.touch0=u,a=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),a&&(l.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),500)),yN(this),l.start())}}function N(t,...e){if(this.__zooming){var n,r,i,o,s=_(this,e).event(t),u=t.changedTouches,f=u.length;for(fP(t),n=0;n<f;++n)i=Hk(r=u[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var l=s.touch0[0],h=s.touch0[1],d=s.touch1[0],p=s.touch1[1],v=(v=d[0]-l[0])*v+(v=d[1]-l[1])*v,m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m;r=g(r,Math.sqrt(v/m)),i=[(l[0]+d[0])/2,(l[1]+d[1])/2],o=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],o=s.touch0[1]}s.zoom("touch",a(y(r,i,o),s.extent,c))}}function P(t,...r){if(this.__zooming){var i,a,o=_(this,r).event(t),s=t.changedTouches,u=s.length;for(cP(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),i=0;i<u;++i)a=s[i],o.touch0&&o.touch0[2]===a.identifier?delete o.touch0:o.touch1&&o.touch1[2]===a.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(a=Hk(a,this),Math.hypot(e[0]-a[0],e[1]-a[1])<p)){var c=Uk(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",dP),t!==i?b(t,e,n,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,n,r){v.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},v.scaleTo=function(t,e,n,r){v.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,o=null==n?m(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(o),u="function"==typeof e?e.apply(this,arguments):e;return a(y(g(r,u),o,s),t,c)}),n,r)},v.translateBy=function(t,e,n,r){v.transform(t,(function(){return a(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},v.translateTo=function(t,e,n,r,o){v.transform(t,(function(){var t=i.apply(this,arguments),o=this.__zoom,s=null==r?m(t):"function"==typeof r?r.apply(this,arguments):r;return a(sP.translate(s[0],s[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,o)},w.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Uk(this.that).datum();h.call(t,this.that,new aP(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:h}),e)}},v.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:iP(+t),v):o},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:iP(!!t),v):r},v.touchable=function(t){return arguments.length?(s="function"==typeof t?t:iP(!!t),v):s},v.extent=function(t){return arguments.length?(i="function"==typeof t?t:iP([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],v):[u[0],u[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(a=t,v):a},v.duration=function(t){return arguments.length?(f=+t,v):f},v.interpolate=function(t){return arguments.length?(l=t,v):l},v.on=function(){var t=h.on.apply(h,arguments);return t===h?v:t},v.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,v):Math.sqrt(d)},v.tapDistance=function(t){return arguments.length?(p=+t,v):p},v}uP.prototype=oP.prototype},500:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HTML=void 0,e.HTML=class{static parse(t){return function(){var e=document.createElement("template");return e.innerHTML=t,e.content.firstElementChild}}}},566:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.layerSrc=e.labeloffsets=void 0;const r=n(829),i=n(829),a=n(470),o=n(6),s=n(182),u=n(626),c=n(598),f=n(884),l=n(748),h=n(3),d=n(932),p=n(824);e.labeloffsets={centerOffset:t=>(e,n,r)=>(0,p.bboxCenter)(e,t),nodeRadiusOffset:t=>e=>(0,r.CptoCk)({θ:e.cachep.θ,r:t.args.nodeRadius(t,e)*e.distScale*1.5}),labeloffset:t=>(n,r,a)=>(0,i.CaddC)(e.labeloffsets.nodeRadiusOffset(t)(n),(0,p.bboxOval)(n)),outwards:void 0,outwardsPlusNodeRadius:void 0},e.labeloffsets.outwards=e.labeloffsets.nodeRadiusOffset,e.labeloffsets.outwardsPlusNodeRadius=e.labeloffsets.labeloffset,e.layerSrc=[(t,e)=>new s.BackgroundLayer(t,{}),(t,e)=>new o.CellLayer(t,{invisible:!0,hideOnDrag:!0,clip:"#circle-clip"+e.args.clipRadius,data:()=>e.cache.cells,fill:t=>{},stroke:t=>{},strokeWidth:t=>{}}),(t,e)=>new d.FocusLayer(t,{invisible:!0,hideOnDrag:!0,name:"culling-r",r:()=>e.view.hypertree.args.filter.cullingRadius,center:()=>"0 0"}),(t,e)=>new d.FocusLayer(t,{invisible:!0,hideOnDrag:!0,name:"mouse-r",r:()=>e.view.hypertree.args.interaction.mouseRadius,center:()=>"0 0"}),(t,e)=>new d.FocusLayer(t,{invisible:!0,hideOnDrag:!0,name:"focus-r",r:()=>e.cache.focusR,center:()=>"0 0"}),(t,e)=>new d.FocusLayer(t,{invisible:!1,hideOnDrag:!1,name:"λ",r:()=>e.args.transformation.state.λ,center:()=>`${(e.pinchcenter||{re:0}).re} ${(e.pinchcenter||{im:0}).im}`}),(t,e)=>new d.FocusLayer(t,{invisible:!1,className:"zerozero-circle",name:"(0,0)",r:()=>.004,center:()=>"0 0"}),(t,e)=>new a.NodeLayer(t,{invisible:!0,hideOnDrag:!0,name:"center-node",className:"center-node",fill:t=>{},stroke:t=>{},strokeWidth:t=>{},data:()=>e.cache.centerNode?[e.cache.centerNode]:[],r:t=>.1,transform:t=>t.transformStrCache+` scale(${e.args.nodeScale(t)})`}),(t,e)=>new u.ArcLayer(t,{invisible:!1,hideOnDrag:!1,name:"link-arcs",className:"arc",curvature:e.view.hypertree.args.geometry.linkCurvature,clip:"#circle-clip"+e.args.clipRadius,data:()=>e.cache.links,nodePos:t=>t.cache,nodePosStr:t=>t.strCache,stroke:t=>{},strokeWidth:t=>e.args.linkWidth(t),classed:(t,e,n)=>t.style("stroke",(t=>(t.pathes&&t.pathes.isPartOfAnyHoverPath,t.pathes&&t.pathes.finalcolor||n(t)))).classed("hovered",(t=>t.pathes&&t.pathes.isPartOfAnyHoverPath)).classed("selected",(t=>t.pathes&&t.pathes.isPartOfAnySelectionPath))}),(t,e)=>new a.NodeLayer(t,{invisible:!1,hideOnDrag:!1,name:"nodes",className:"node",data:()=>e.cache.leafOrLazy,fill:t=>{},stroke:t=>{},strokeWidth:t=>{},r:t=>e.args.nodeRadius(e,t),transform:t=>t.transformStrCache+` scale(${e.args.nodeScale(t)})`}),(t,n)=>new c.LabelLayer(t,{invisible:!1,hideOnDrag:!1,name:"labels",className:"caption",data:()=>n.cache.labels,text:t=>t.precalc.label,isVisible:()=>{},delta:e.labeloffsets.labeloffset(n),color:()=>{},background:void 0,transform:(t,e)=>` translate(${t.cache.re+e.re} ${t.cache.im+e.im})`+t.scaleStrText}),(t,n)=>new c.LabelLayer(t,{invisible:!0,hideOnDrag:!0,name:"labels2",className:"caption",data:()=>n.cache.labels,text:t=>t.precalc.label,delta:e.labeloffsets.labeloffset(n),color:()=>{},transform:(t,e)=>` translate(${t.cache.re+e.re} ${t.cache.im+e.im})`+t.scaleStrText}),(t,e)=>new f.LabelForceLayer(t,{invisible:!0,hideOnDrag:!0,name:"labels-force",className:"caption caption-label",data:()=>e.cache.labels,text:t=>t.precalc.label,background:t=>!t.parent,transform:(t,e)=>` translate(${t.cache.re+e.re} ${t.cache.im+e.im})`+t.scaleStrText}),(t,e)=>new l.InteractionLayer(t,{invisible:!0,hideOnDrag:!0,mouseRadius:e.view.hypertree.args.interaction.mouseRadius,onClick:(t,n)=>{var r=t.ancestors().find((t=>!0));e.view.hypertree.api.toggleSelection(r),e.view.hypertree.args.interaction.onNodeSelect(r)}}),(t,e)=>new h.InteractionLayer2(t,{mouseRadius:e.view.hypertree.args.interaction.mouseRadius,onClick:(t,n)=>{var r=t.ancestors().find((t=>!0));e.view.hypertree.api.toggleSelection(r),e.view.hypertree.args.interaction.onNodeSelect(r)}})]},598:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bboxOval=e.bboxCenter=e.LabelLayer=void 0;const r=n(115);e.LabelLayer=class{constructor(t,e){this.update={parent:()=>this.attach(),data:()=>{this.d3updatePattern&&this.d3updatePattern.update.data()},transformation:()=>{this.d3updatePattern&&this.d3updatePattern.update.transformation()},style:()=>{this.d3updatePattern&&this.d3updatePattern.update.style()}},this.view=t,this.args=e,this.name=e.name,this.isVisible=e.isVisible}attach(){if(!this.args.invisible){const t=this;function e(e,n,r){return t.args.transform(e,t.args.delta(e,n,r))}this.d3updatePattern=new r.D3UpdatePattern({parent:this.view.parent,layer:this,clip:this.args.clip,data:this.args.data,name:this.name,className:this.args.className,elementType:"text",create:t=>t.classed("P",(t=>"P"==t.name)).style("stroke",(t=>t.pathes&&t.pathes.labelcolor)).style("fill",(t=>this.args.color(t))).style("display",(t=>this.args.isVisible(t))).text(this.args.text),updateColor:t=>t.style("stroke",(t=>t.pathes&&t.pathes.labelcolor)).style("fill",(t=>this.args.color(t))),updateTransform:t=>t.attr("transform",e)})}}},e.bboxCenter=(t,e="labelslen")=>({re:-t.precalc[e]/2,im:.015}),e.bboxOval=(t,e="labelslen",n=void 0)=>{var r=t.precalc[e];const i=n?n.θ:t.cachep.θ;return{re:(.04+r/2)*Math.cos(i)-r/2,im:.0325*Math.sin(i)+.015}}},606:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setZ=c,e["layoutBergé"]=function(t,e,n=!1){!function t(u){const l={Ω:u.layout.wedge.Ω,α:u.layout.wedge.α},h=u.layout.wedge.L;if(u.parent){const t=(0,s.πify)(l.Ω-l.α),n=l.α+t/2;let d=1;u.parent.parent||(d=.5);const p=(0,i.CptoCk)({θ:n,r:e*(d+h||1)});c(u,(0,o.h2e)((0,r.makeT)(u.parent.layout.z,r.one),p)),f(l,u.parent.layout.z),f(l,(0,a.Cneg)(u.layout.z))}let d=(0,s.πify)(l.Ω-l.α),p=l.α;const v=u.children||[],g=v.length;let y=0,m=0,b=0;const _=(u.children||[]).reduce(((t,e)=>t+e.precalc.layoutWeight),0);if(v.forEach(((t,e)=>{const n=t.precalc.layoutWeight/_;b+=n;const r=p;p+=d*n;const i={α:r,Ω:(0,s.πify)(p),L:m};t.layout=t.layout||{wedge:i},t.layout.wedge=i,y++,0===t.height&&(m+=.1);const a=g/Math.log(g)/2;y>=a&&(y=0,m=0)})),!n)for(let e of u.children||[])t(e)}(t)};const r=n(829),i=n(829),a=n(829),o=n(829),s=n(829),u=n(829);function c(t,e){e&&(e=(0,u.maxR)(e,.99999999),t.layout=t.layout||{},t.layout.z=e,t.layout.zStrCache=`${e.re} ${e.im}`,t.layout.zp=(0,i.CktoCp)(e))}function f(t,e){const n=(0,r.makeT)(e,r.one),a={re:Math.cos(t.α),im:Math.sin(t.α)},s={re:Math.cos(t.Ω),im:Math.sin(t.Ω)};t.α=(0,i.CktoCp)((0,o.h2e)(n,a)).θ,t.Ω=(0,i.CktoCp)((0,o.h2e)(n,s)).θ}},609:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.googlePalette=e.stringhash=e.shuffleArray=e.clone=e.mergeDeep=e.isArray=e.isObject=e.isPrimitive=e.tosub=void 0,e.tosub=function(t){for(var e="",n=t.toString().trim(),r=0;r<n.length;r++)e+=String.fromCharCode(8320+Number(n.charAt(r)));return e},e.isPrimitive=t=>"object"!=typeof t,e.isObject=t=>"object"==typeof t&&!Array.isArray(t),e.isArray=t=>"object"==typeof t&&Array.isArray(t),e.mergeDeep=(t,n)=>{console.assert(e.isObject(t)&&e.isObject(n)||e.isArray(t)&&e.isArray(n));for(const r in n)e.isObject(n[r])?t[r]=e.mergeDeep(t[r]||Object.create(Object.getPrototypeOf(n[r])),n[r]):e.isArray(n[r])?t[r]=e.mergeDeep(t[r]||[],n[r]):e.isPrimitive(n[r])&&(t[r]=n[r]);return t},e.clone=function(t){return JSON.parse(JSON.stringify(t))},e.shuffleArray=function(t,e){if(t)for(let n=t.length-1;n>0;n--){let r=(n*n+e.height)%t.length,i=Math.floor(r);[t[n],t[i]]=[t[i],t[n]]}},e.stringhash=function(t){let e,n,r=0;if(!t||0===t.length)return r;for(e=0;e<t.length;e++)n=t.charCodeAt(e),r=(r<<5)-r+n,r|=0;return Math.abs(r)};const n=["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"];e.googlePalette=function(t){return n[t%n.length]}},626:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ArcLayer=void 0;const r=n(829),i=n(829),a=n(115);e.ArcLayer=class{constructor(t,e){this.update={parent:()=>this.attach(),data:()=>this.d3updatePattern.update.data(),transformation:()=>this.d3updatePattern.update.transformation(),style:()=>this.d3updatePattern.update.style()},this.arcOptions={"+":this.svgArc("1","0"),"-":this.svgArc("0","1"),0:this.svgArcLine},this.view=t,this.args=e,this.name=e.name}attach(){this.d3updatePattern=new a.D3UpdatePattern({parent:this.view.parent,layer:this,clip:this.args.clip,data:this.args.data,name:this.name,className:this.args.className,elementType:"l"===this.args.curvature?"line":"path",create:t=>{},updateColor:t=>this.args.classed(t,this.args.width,this.args.stroke),updateTransform:t=>{const e=t=>this.args.curvature;"l"==this.args.curvature?t.attr("x1",(t=>this.args.nodePos(t).re)).attr("y1",(t=>this.args.nodePos(t).im)).attr("x2",(t=>this.args.nodePos(t.parent).re)).attr("y2",(t=>this.args.nodePos(t.parent).im)).attr("stroke-width",(t=>this.args.strokeWidth(t))).attr("stroke-linecap",(t=>"round")):t.attr("d",(t=>this.arcOptions[e()](t))).attr("stroke-width",(t=>this.args.strokeWidth(t))).attr("stroke-linecap",(t=>"round"))}})}svgArc(t,e){var n=this;return function(a){var o=n.args.nodePos(a),s=a.parent?n.args.nodePos(a.parent):{re:o.re,im:1},u=(0,i.arcCenter)(o,s),c=(0,r.CktoCp)((0,r.CsubC)(s,u.c)).r;(isNaN(c)||c>1e3)&&(c=0);var f=u.d>0?t:e;return`M ${n.args.nodePosStr(a)} A ${c} ${c}, 0, 0, ${f}, ${a.parent?n.args.nodePosStr(a.parent):`${o.re} 1`}`}}svgArcLine(t){return`M ${this.args.nodePosStr(t)} L ${this.args.nodePosStr(t.parent)}`}}},703:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.x=void 0},721:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.t=void 0,i(n(500),e),i(n(703),e),i(n(609),e),e.t=t=>t[0].map(((e,n)=>t.map((t=>t[n]))))},748:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionLayer=void 0;const r=n(483),i=n(829),a=n(829),o=n(829);e.InteractionLayer=class{constructor(t,e){this.name="interaction",this.update={parent:()=>this.initMouseStuff(),data:()=>{},transformation:()=>{},style:()=>{}},this.currMousePosAsArr=()=>r.mouse(this.view.parent.node()),this.currMousePosAsC=()=>(0,a.ArrtoC)(this.currMousePosAsArr()),this.findNodeByCell=()=>{var t=this.currMousePosAsArr(),e=this.view.unitdisk.cache.voronoiDiagram.find(t[0],t[1]);return e?e.data:void 0},this.onDragStart=(t,e)=>{this.animationTimer||this.view.unitdisk.args.transformation.onDragStart(e)},this.onDragλ=t=>{this.view.unitdisk.args.transformation.onDragλ(t),this.view.hypertree.updateLayoutPath_(this.view.unitdisk.args.transformation.cache.centerNode),this.view.hypertree.update.transformation()},this.onDragByNode=(t,e,n)=>{t&&"θ"==t.name?(this.view.unitdisk.args.transformation.onDragθ(e,n),this.view.hypertree.update.transformation()):t&&"λ"==t.name?this.onDragλ((0,o.πify)((0,i.CktoCp)((0,a.CmulR)(n,-1)).θ)/2/Math.PI):(this.view.unitdisk.args.transformation.onDragP(e,n),this.view.hypertree.update.transformation())},this.onDragEnd=(t,e,n)=>{const i=r.timer((()=>{i.stop(),this.view.hypertree.args.objects.traces.length=0,this.view.hypertree.update.transformation()}),2e3);var o=(0,a.CsubC)(e,n);Math.sqrt(o.re*o.re+o.im*o.im)<.006&&this.onClick(t,n),this.view.unitdisk.args.transformation.onDragEnd(n),this.view.hypertree.update.transformation()},this.animationTimer=null,this.cancelAnimationTimer=()=>{this.animationTimer.stop(),this.animationTimer=null},this.dblClickTimer=null,this.cancelClickTimer=()=>{clearTimeout(this.dblClickTimer),this.dblClickTimer=null},this.onClick=(t,e)=>{r.event&&r.event.preventDefault&&r.event.preventDefault(),e=e||this.currMousePosAsC(),this.dblClickTimer?this.cancelClickTimer():this.dblClickTimer=setTimeout((()=>{this.dblClickTimer=null,t!=this.view.unitdisk.args.transformation.cache.centerNode?this.animateTo(t,e):this.args.onClick(t,e)}),300)},this.onDblClick=t=>{r.event.preventDefault();var e=this.currMousePosAsC();this.cancelClickTimer(),this.args.onClick(t,e)},this.view=t,this.args=e}initMouseStuff(){var t=null,e=null;let n=null;var i=r.zoom().on("zoom",(()=>{if(console.assert(r.event),r.event&&r.event.sourceEvent&&"wheel"===r.event.sourceEvent.type){const t=r.event.sourceEvent.deltaY/100*2*Math.PI/16,e=this.view.unitdisk.args.transformation.state.λ-t,n=.1*Math.PI;e<.8*Math.PI*2&&e>n&&this.onDragλ(e)}else if(r.event&&r.event.sourceEvent&&"touchmove"===r.event.sourceEvent.type)if(r.event.transform.k!==n){n=r.event.transform.k;const t=r.event.transform.k+.5,e=.1*Math.PI,i=.8*Math.PI*2;t.θ<i&&t.θ>e&&this.onDragλ(t)}else this.onDragByNode(e,t,this.currMousePosAsC());else this.onDragByNode(e,t,this.currMousePosAsC())})).on("start",(()=>{this.onDragStart(e=this.findNodeByCell(),t=this.currMousePosAsC())})).on("end",(()=>{this.onDragEnd(e,t,this.currMousePosAsC())}));const a=this.view.hypertree.api,o=this.view.hypertree.args.objects.pathes[0];this.view.parent.append("circle").attr("class","mouse-circle").attr("r",this.args.mouseRadius).on("dblclick",(t=>this.onDblClick(this.findNodeByCell()))).on("mousemove",(t=>a.setPathHead(o,this.findNodeByCell()))).on("mouseout",(t=>a.setPathHead(o,void 0))).call(i).on("dblclick.zoom",null)}animateTo(t,e){if(!this.animationTimer){this.onDragStart(t,e);var n=(0,i.CktoCp)(e),a=n.r,s=1;this.animationTimer=r.timer((()=>{n.r=a*(1-(0,o.sigmoid)(s++/20)),s>20?(this.cancelAnimationTimer(),this.onDragEnd(t,e,(0,i.CptoCk)(n))):this.onDragByNode(t,e,(0,i.CptoCk)(n))}),1)}}}},824:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.bboxOval=e.bboxCenter=e.cacheUpdate=e.labeloffsets=e.layerSrc=e.presets=e.layouts=e.layers=e.Hypertree=void 0;var a=n(2);Object.defineProperty(e,"Hypertree",{enumerable:!0,get:function(){return a.Hypertree}}),i(n(829),e),i(n(126),e),i(n(856),e),i(n(606),e),i(n(966),e),i(n(115),e);const o=n(6),s=n(626),u=n(470),c=n(598),f=n(884),l=n(182),h=n(932),d=n(748),p=n(3);var v;!function(t){t.CellLayer=o.CellLayer,t.ArcLayer=s.ArcLayer,t.NodeLayer=u.NodeLayer,t.LabelLayer=c.LabelLayer,t.LabelForceLayer=f.LabelForceLayer,t.BackgroundLayer=l.BackgroundLayer,t.FocusLayer=h.FocusLayer,t.InteractionLayer=d.InteractionLayer,t.InteractionLayer2=p.InteractionLayer2}(v||(e.layers=v={})),i(n(902),e);const g=n(606);e.layouts=g;var y=n(385);Object.defineProperty(e,"presets",{enumerable:!0,get:function(){return y.presets}});var m=n(566);Object.defineProperty(e,"layerSrc",{enumerable:!0,get:function(){return m.layerSrc}});var b=n(566);Object.defineProperty(e,"labeloffsets",{enumerable:!0,get:function(){return b.labeloffsets}});var _=n(16);Object.defineProperty(e,"cacheUpdate",{enumerable:!0,get:function(){return _.cacheUpdate}});var w=n(598);Object.defineProperty(e,"bboxCenter",{enumerable:!0,get:function(){return w.bboxCenter}});var x=n(598);Object.defineProperty(e,"bboxOval",{enumerable:!0,get:function(){return x.bboxOval}})},829:(t,e)=>{function n(t,e,r){if(r=r||0,!t)return[];if(e&&e(t,r),t.children)for(var i=0;i<t.children.length;i++)n(t.children[i],e,i)}function r({node:t,abortFilter:e,preAction:n,highway:i,idx:a=0}){if(t&&e(t,a,i)&&(n&&n(t,a,i),t.children))for(var o=0;o<t.children.length;o++){var s=i;i.length>1&&t.children[o]==i[1]&&(s=i.slice(1)),r({node:t.children[o],abortFilter:e,preAction:n,highway:s,idx:o})}}function i(t,n){var r=(0,e.CktoCp)(t);return r.r=n,(0,e.CptoCk)(r)}function a(t,e){return{P:t,θ:e,λ:null}}function o(t,n){var r=(0,e.CaddC)(c(t.θ,n),t.P),i=(0,e.CaddC)(c(c(u(t.P),t.θ),n),e.one);return f(r,i)}function s(t,n){var r=(0,e.CaddC)(c(n.θ,c(t.P,u(n.P))),e.one),a=f((0,e.CaddC)(c(t.θ,n.θ),c(t.θ,c(u(t.P),n.P))),r);return{P:f((0,e.CaddC)(c(n.θ,t.P),n.P),r),θ:i(a,1),λ:null}}Object.defineProperty(e,"__esModule",{value:!0}),e.CtoStr=e.ArrtoC=e.CdivR=e.Clog=e.Cpow=e.CmulR=e.CsubC=e.CaddC=e.Cneg=e.CassignC=e.CptoCk=e.CktoCp=e.one=void 0,e.dfs=n,e.dfsFlat=function(t,e){if(!t)return[];var r=[];return n(t,(t=>{e&&!e(t)||r.push(t)})),r},e.dfs2=r,e.dfsFlat2=function(t,e){var n=[];return r({node:t,abortFilter:e,preAction:t=>n.push(t),highway:[]}),n},e.clone=function(t){return JSON.parse(JSON.stringify(t))},e.sigmoid=function(t){return.5+.5*Math.tanh(6*t-3)},e.maxR=function(t,n){var r=(0,e.CktoCp)(t);return r.r=r.r>n?n:r.r,(0,e.CptoCk)(r)},e.setR=i,e["πify"]=function(t){return t<0?t+2*Math.PI:t>2*Math.PI?t-2*Math.PI:t},e.makeT=a,e.h2e=o,e.compose=s,e.shift=function(t,n,r){var i=o(t,{re:0,im:0}),f=o(a((0,e.Cneg)(i),e.one),n),l=(0,e.CsubC)(r,f),h=u(c(f,r)),d=1-Math.pow((0,e.CktoCp)(c(f,r)).r,2),p={re:c(l,(0,e.CaddC)(e.one,h)).re/d,im:c(l,(0,e.CsubC)(e.one,h)).im/d};return s(a((0,e.Cneg)(i),e.one),a(p,e.one))},e.arcCenter=function(t,n){var r=t.re*n.im-n.re*t.im,i=(0,e.CktoCp)(n).r,a=(0,e.CktoCp)(t).r,o=(0,e.CsubC)((0,e.CmulR)(t,1+i*i),(0,e.CmulR)(n,1+a*a));return{c:c({re:0,im:1},(0,e.CdivR)(o,2*r)),d:r}},e.lengthDilledation=function(t){var e=Math.sqrt(t.re*t.re+t.im*t.im);return Math.sin(Math.acos(e>1?1:e))},e.ArrAddR=function(t,e){return[t[0]+e,t[1]+e]},e.one={re:1,im:0},e.CktoCp=t=>({θ:Math.atan2(t.im,t.re),r:Math.sqrt(t.re*t.re+t.im*t.im)}),e.CptoCk=t=>({re:t.r*Math.cos(t.θ),im:t.r*Math.sin(t.θ)});e.CassignC=(t,e)=>(t.re=e.re,t.im=e.im,t),e.Cneg=t=>({re:-t.re,im:-t.im});var u=t=>({re:t.re,im:-t.im});e.CaddC=(t,e)=>({re:t.re+e.re,im:t.im+e.im}),e.CsubC=(t,e)=>({re:t.re-e.re,im:t.im-e.im}),e.CmulR=(t,e)=>({re:t.re*e,im:t.im*e});var c=(t,e)=>({re:t.re*e.re-t.im*e.im,im:t.im*e.re+t.re*e.im});e.Cpow=t=>({re:Math.cos(t),im:Math.sin(t)}),e.Clog=t=>(0,e.CptoCk)((t=>function(t){return isFinite(Math.log(t.r))?{r:Math.log(t.r),θ:t.θ}:{r:0,θ:0}}(t))((0,e.CktoCp)(t)));var f=(t,n)=>function(t,n){var r=(0,e.CktoCp)(t),i=(0,e.CktoCp)(n);return{re:r.r/i.r*Math.cos(r.θ-i.θ),im:r.r/i.r*Math.sin(r.θ-i.θ)}}(t,n);e.CdivR=(t,e)=>({re:t.re/e,im:t.im/e}),e.ArrtoC=t=>({re:t[0],im:t[1]}),e.CtoStr=t=>`${t.re} ${t.im}`},856:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},884:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LabelForceLayer=void 0;const r=n(483),i=n(115),a=n(829),o=n(829);e.LabelForceLayer=class{constructor(t,e){this.update={parent:()=>this.attach(),force:()=>{if((this.view.hypertree.isAnimationRunning()||!this.args.invisible)&&(!this.view.hypertree.isAnimationRunning()||!this.args.hideOnDrag)){this.labelSetUpdate();for(let t=0;t<175;++t)this.simulation.tick()}},data:()=>{this.update.force(),this.d3updatePattern.update.data(),this.d3updatePattern2.update.data()},transformation:()=>{this.update.force(),this.d3updatePattern.update.transformation(),this.d3updatePattern2.update.transformation()},style:()=>{this.d3updatePattern.update.style(),this.d3updatePattern2.update.style()}},this.view=t,this.args=e,this.name=e.name,this.simulation=r.forceSimulation().alphaTarget(.001).force("link",r.forceLink().strength(-.05)).force("charge",r.forceManyBody().strength(-.05)).force("collide",r.forceCollide().strength(.0025).radius(.18)).stop()}labelSetUpdate(){const t=[],e=[];this.args.data().forEach((n=>{n.forcepoints=n.forcepoints||{},n.forcepoints.index=n.mergeId;const r=(0,o.CaddC)(n.cache,(0,a.CptoCk)({θ:n.cachep.θ,r:.001}));n.forcepoints.x=r.re,n.forcepoints.y=r.im,n.forcepoints2=n.forcepoints2||{},n.forcepoints2.index=n.mergeId+2e3,n.forcepoints2.fx=n.cache.re,n.forcepoints2.fy=n.cache.im,t.push(n.forcepoints),t.push(n.forcepoints2),e.push({source:n.forcepoints,target:n.forcepoints2})})),this.simulation.nodes(t),this.simulation.force("link").links(e)}simulationTick(){}labellen(t){return t.precalc[this.args.name+"len"]||0}attach(){const t=this;function e(e,n,r){return e.forcepoints?` translate(${(e.forcepoints.x||0)-t.labellen(e)/2} ${e.forcepoints.y||0})`:` translate(${e.cache.re} ${e.cache.im})`}this.d3updatePattern=new i.D3UpdatePattern({parent:this.view.parent,layer:this,clip:this.args.clip,data:this.args.data,name:this.name,className:this.args.className,elementType:"text",create:t=>t.classed("P",(t=>"P"==t.name)).classed("caption-icon",(t=>t.precalc.icon&&navigator.platform.includes("inux"))).style("fill",(t=>t.pathes&&t.pathes.labelcolor)).text(this.args.text).attr("transform",e),updateColor:t=>t.style("fill",(t=>t.pathes&&t.pathes.labelcolor)),updateTransform:t=>t.attr("transform",e).text(this.args.text)}),this.d3updatePattern2=new i.D3UpdatePattern({parent:this.view.parent,layer:this,clip:this.args.clip,data:this.args.data,name:"label-link",className:"label-link",elementType:"line",create:t=>{},updateColor:t=>{},updateTransform:t=>t.attr("x1",(t=>t.forcepoints&&t.forcepoints.x||0)).attr("y1",(t=>t.forcepoints&&t.forcepoints.y||0)).attr("x2",(t=>t.forcepoints2&&t.forcepoints2.x||0)).attr("y2",(t=>t.forcepoints2&&t.forcepoints2.y||0))})}}},889:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.navParameterLayers=void 0;const r=n(829),i=n(470),a=n(6),o=n(598),s=n(748);var u={P:{re:.0025,im:.05},θ:{re:.0025,im:.019},λ:{re:.0025,im:.013}};e.navParameterLayers=[(t,e)=>new a.CellLayer(t,{invisible:!0,hideOnDrag:!0,clip:"#circle-clip"+e.args.clipRadius,data:()=>e.cache.cells}),(t,e)=>new i.NodeLayer(t,{invisible:!0,hideOnDrag:!0,name:"nodes",className:"node",data:()=>e.cache.unculledNodes,r:t=>"P"===t.name?(t=>e=>(0,r.lengthDilledation)(e.cache)*(1-t.args.transformation.state.λ))(e)(t):e.args.nodeRadius(e,t),transform:t=>t.transformStrCache}),(t,e)=>new o.LabelLayer(t,{invisible:!0,hideOnDrag:!0,name:"labels",className:"caption",data:()=>e.cache.unculledNodes,text:t=>({P:"+",θ:"🠆",λ:"⚲"}[t.name]),delta:t=>u[t.name],transform:(t,e)=>` translate(${t.cache.re+e.re} ${t.cache.im+e.im})`+(t=>"λ"===t.name?" rotate(-25)":" rotate(0)")(t)}),(t,e)=>new s.InteractionLayer(t,{mouseRadius:1.5,onClick:(t,e)=>{}})]},902:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UnitDiskNav=e.UnitDisk=void 0;const r=n(483),i=n(829),a=n(829),o=n(829),s=n(126),u=n(126),c=n(966),f=n(936),l=n(936),h=n(889);class d{constructor(t,e){this.api={setTransform:(t,e)=>this.mainsvg.attr("transform",t)},this.update={parent:()=>this.updateParent(),cache:()=>this.args.cacheUpdate(this,this.cache),data:()=>this.update.layout(),layout:()=>{this.args.cacheUpdate(this,this.cache),this.layerStack.update.data()},transformation:()=>{this.args.cacheUpdate(this,this.cache),this.layerStack.update.data()},pathes:()=>{this.args.cacheUpdate(this,this.cache),this.layerStack.update.pathes()}},this.view=t,this.args=e,this.cache=e.transformation.cache,this.update.parent()}updateParent(){this.mainsvg=r.select(this.view.parent).append("g").attr("class",this.view.className).attr("transform",this.view.position),this.mainsvg.append("clipPath").attr("id","circle-clip"+this.args.clipRadius).append("circle").attr("r",this.args.clipRadius),this.voronoiLayout=r.voronoi().x((t=>(console.assert("number"==typeof t.cache.re),t.cache.re))).y((t=>(console.assert("number"==typeof t.cache.re),t.cache.im))).extent([[-2,-2],[2,2]]),this.layerStack=new c.LayerStack({parent:this.mainsvg,unitdisk:this})}}e.UnitDisk=d,e.UnitDiskNav=class{get voronoiLayout(){return this.mainView.voronoiLayout}constructor(t,e){this.api={setTransform:(t,e)=>{this.mainView.api.setTransform(t,null),this.navBackground.api.setTransform(e,null),this.navParameter.api.setTransform(e,null)}},this.update={data:()=>{this.navBackground.args.data=this.args.data,this.mainView.args.data=this.args.data,this.update.layout()},cache:()=>{this.mainView.update.cache(),this.navParameter.update.cache()},layout:()=>{this.mainView.update.cache(),this.navParameter.update.cache(),this.navBackground.layerStack.update.data(),this.mainView.layerStack.update.data(),this.navParameter.layerStack.update.data()},transformation:()=>{this.mainView.update.cache(),this.navParameter.update.cache(),this.mainView.layerStack.update.data(),this.navParameter.layerStack.update.data(),this.navBackground.layerStack.update.pathes()},pathes:()=>{this.mainView.update.cache(),this.mainView.layerStack.update.data(),this.navBackground.layerStack.update.pathes(),this.navParameter.layerStack.update.data()}},this.view=t,this.args=e,this.mainView=new d(t,e),this.cache=this.mainView.cache,this.layerStack=this.mainView.layerStack,this.navBackground=new d({parent:t.parent,className:"nav-background-disc",position:"translate(95,95) scale(70)",hypertree:t.hypertree},{data:e.data,decorator:null,cacheUpdate:null,transformation:e.transformation,transform:t=>t.layout.z,nodeRadius:()=>l.navBgNodeR,nodeScale:e.nodeScale,nodeFilter:e.nodeFilter,linkWidth:e.linkWidth,linkCurvature:e.linkCurvature,layers:f.navBackgroundLayers,layerOptions:{},offsetLabels:e.offsetLabels,clipRadius:1});var n=new u.NegTransformation(new s.PanTransformation(e.transformation.state));this.navParameter=new d({parent:t.parent,className:"nav-parameter-disc",position:"translate(95,95) scale(70)",hypertree:t.hypertree},{decorator:null,layers:h.navParameterLayers,layerOptions:{},cacheUpdate:(t,n)=>{var r=performance.now();function s(t,e){t.cache=e,t.cachep=(0,i.CktoCp)(t.cache),t.strCache=t.cache.re+" "+t.cache.im,t.scaleStrText=" scale(1)",t.transformStrCache=` translate(${t.strCache})`}n.unculledNodes=(0,o.dfsFlat)(t.args.data),s(n.unculledNodes[0],(0,a.CmulR)(e.transformation.state.P,-1)),s(n.unculledNodes[1],(0,a.CmulR)(e.transformation.state.θ,-1.08)),s(n.unculledNodes[2],(0,i.CptoCk)({θ:2*e.transformation.state.λ*Math.PI,r:-1.08})),n.voronoiDiagram=t.voronoiLayout(n.unculledNodes),n.cells=n.voronoiDiagram.polygons(),t.cacheMeta={minWeight:[0],Δ:[performance.now()-r]}},transformation:n,transform:t=>(0,a.CmulR)(t,-1),nodeRadius:()=>.16,nodeScale:()=>1,nodeFilter:()=>!0,linkWidth:e.linkWidth,linkCurvature:e.linkCurvature,offsetLabels:e.offsetLabels,clipRadius:1.7})}}},932:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FocusLayer=void 0;const r=n(115);e.FocusLayer=class{constructor(t,e){this.update={parent:()=>this.attach(),data:()=>this.d3updatePattern.update.data(),transformation:()=>this.d3updatePattern.update.transformation(),style:()=>this.d3updatePattern.update.style()},this.view=t,this.args=e,this.name=e.name}attach(){this.d3updatePattern=new r.D3UpdatePattern({parent:this.view.parent,layer:this,data:[1],name:this.name,className:this.args.className||"focus-circle",elementType:"circle",create:t=>t.attr("r",1),updateColor:t=>{},updateTransform:t=>t.attr("transform",`translate(${this.args.center()}) scale(${this.args.r()})`)})}}},936:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.navBackgroundLayers=e.navBgNodeR=void 0;const r=n(829),i=n(829),a=n(829),o=n(115),s=n(6),u=n(182),c=n(626),f=n(598);e.navBgNodeR=.012;const l=t=>.022*t.distScale*t.precalc.weightScale,h=t=>(t,n,a)=>(0,i.CaddC)((t=>(0,r.CptoCk)({θ:(t.layoutReference||t.layout).zp.θ,r:e.navBgNodeR}))(t),(0,o.bboxCenter)(t,"labellen-bg",t.layoutReference.zp||(0,r.CktoCp)(t.layout.z)));e.navBackgroundLayers=[(t,e)=>new u.BackgroundLayer(t,{}),(t,e)=>new s.CellLayer(t,{invisible:!0,hideOnDrag:!0,clip:"#circle-clip"+e.args.clipRadius,data:()=>e.cache.cells}),(t,e)=>new c.ArcLayer(t,{name:"link-arcs",className:"arc",curvature:e.view.hypertree.args.geometry.linkCurvature,data:()=>e.cache.links,nodePos:t=>(t.layoutReference||t.layout).z,nodePosStr:t=>(t.layoutReference||t.layout).zStrCache,width:t=>l(t),classed:(t,e)=>{}}),(t,e)=>new c.ArcLayer(t,{name:"link-arcs-focus",className:"arc-focus",curvature:e.view.hypertree.args.geometry.linkCurvature,data:()=>e.cache.links.filter((t=>t.parent.cachep.r<.6)),nodePos:t=>(t.layoutReference||t.layout).z,nodePosStr:t=>(t.layoutReference||t.layout).zStrCache,width:t=>l(t)+.005*t.dampedDistScale,classed:(t,e)=>{}}),(t,e)=>new c.ArcLayer(t,{name:"path-arcs",className:"arc",curvature:e.view.hypertree.args.geometry.linkCurvature,data:()=>e.cache.paths,nodePos:t=>(t.layoutReference||t.layout).z,nodePosStr:t=>(t.layoutReference||t.layout).zStrCache,width:t=>l(t)+.013*t.dampedDistScale,classed:t=>t.classed("hovered-path-nav",(t=>t.pathes&&t.pathes.isPartOfAnyHoverPath)).classed("selected-path-nav",(t=>t.pathes&&t.pathes.isPartOfAnySelectionPath)).style("stroke",(t=>t.pathes&&t.pathes.finalcolor))}),(t,e)=>new f.LabelLayer(t,{invisible:!0,hideOnDrag:!0,name:"emojis",className:"caption label-big",data:()=>e.cache.emojis,text:void 0,delta:h(),transform:(t,e)=>` translate(${(0,a.CtoStr)((0,i.CaddC)((t.layoutReference||t.layout).z,e))})`}),(t,e)=>new f.LabelLayer(t,{name:"labels",className:"caption label-big",data:()=>e.view.hypertree.args.objects.selections,text:t=>t.precalc.label,delta:h(),transform:(t,e)=>` translate(${(0,a.CtoStr)((0,i.CaddC)((t.layoutReference||t.layout).z,e))})`})]},966:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LayerStack=void 0;const r=n(721);e.LayerStack=class{constructor(t){this.update={parent:()=>this.updateLayers(),data:()=>this.updateData(),pathes:()=>this.updatePath()},this.args=t,this.mainSvgGroup=this.args.parent.append("g"),this.updateLayers()}updateLayers(){for(var t of(this.layers={},this.args.unitdisk.args.layers)){const e=t({parent:this.mainSvgGroup,layerstack:this,unitdisk:this.args.unitdisk,hypertree:this.args.unitdisk.view.hypertree},this.args.unitdisk);this.args.unitdisk.args.layerOptions&&(0,r.mergeDeep)(e.args,this.args.unitdisk.args.layerOptions[e.name]||{}),this.layers[e.name]=e}for(var e in this.mainSvgGroup.selectAll("*").remove(),this.layers)this.layers[e].update.parent()}updateData(){const t=[],e=[];for(var n in this.layers){var r=this.layers[n],i=performance.now();r.update.data(),t.push(performance.now()-i),e.push(r.name)}this.d3meta={Δ:t,names:e}}updatePath(){var t=performance.now();this.layers["link-arcs"]&&this.layers["link-arcs"].update.style(),this.layers["stem-arc"]&&this.layers["stem-arc"].update.style(),this.layers["path-arcs"]&&this.layers["path-arcs"].update.data();var e=performance.now();this.layers["link-arcs-focus"]&&this.layers["link-arcs-focus"].update.data();var n=performance.now();this.layers.labels&&this.layers.labels.update.data();var r=performance.now();this.d3meta={Δ:[e-t,n-e,r-n],names:["path-arcs","link-arcs-focus","labels"]}}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r=n(824);hyt=r})();